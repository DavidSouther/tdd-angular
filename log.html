

<div class="commit">
	<h3><span class="hash">ae98607</span>  Basic Karma test.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee       | 21 </span><span class="add">+++++++++++++++++</span><span class="rem">----</span>
	<span class="nrm">client/app/test.coffee | 10 </span><span class="add">++++++++++</span>
	<span class="nrm">client/app/todo.coffee |  7 </span><span class="add">++++</span><span class="rem">---</span>
	<span class="nrm">package.json           |  4 </span><span class="add">+++</span><span class="rem">-</span>
	<span class="nrm">4 files changed, 34 insertions(+), 8 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -4,13 +4,24 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">			dev:</span>
	<span class="nrm">				files: &quot;client/bundle.js&quot;: [&quot;client/main.coffee&quot;]</span>
	<span class="nrm">				options:</span>
	<span class="rem">-					shim:</span>
	<span class="rem">-						angular:</span>
	<span class="rem">-							path: 'bower_components/angular/angular.js'</span>
	<span class="rem">-							exports: 'angular'</span>
	<span class="add">+					debug: true</span>
	<span class="nrm">					transform: [</span>
	<span class="nrm">						&quot;caching-coffeeify&quot;</span>
	<span class="nrm">					]</span>
	<span class="add">+</span>
	<span class="add">+		karma:</span>
	<span class="add">+			unit:</span>
	<span class="add">+				options:</span>
	<span class="add">+					browsers: [&quot;PhantomJS&quot;]</span>
	<span class="add">+					frameworks: [&quot;jasmine&quot;]</span>
	<span class="add">+					singleRun: true</span>
	<span class="add">+					files: [</span>
	<span class="add">+							&quot;bower_components/angular/angular.js&quot;</span>
	<span class="add">+							&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="add">+							&quot;client/bundle.js&quot;</span>
	<span class="add">+							&quot;client/app/**/test.coffee&quot;</span>
	<span class="add">+						]</span>
	<span class="add">+</span>
	<span class="nrm">		mochaTest:</span>
	<span class="nrm">			server:</span>
	<span class="nrm">				options:</span>
	<span class="nfo">@@ -36,6 +47,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm"></span>
	<span class="nrm">grunt.npmTasks = [</span>
	<span class="nrm">		&quot;grunt-cucumber&quot;</span>
	<span class="add">+		&quot;grunt-karma&quot;</span>
	<span class="nrm">		&quot;grunt-browserify&quot;</span>
	<span class="nrm">		&quot;grunt-mocha-test&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="nfo">@@ -49,6 +61,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;test&quot;, [</span>
	<span class="nrm">		&quot;mochaTest:server&quot;</span>
	<span class="add">+		&quot;karma:unit&quot;</span>
	<span class="nrm">		&quot;cucumberjs:Edith&quot;</span>
	<span class="nrm">	]</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/app/test.coffee b/client/app/test.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,10 @@</span>
	<span class="add">+describe &quot;todo bootstrap&quot;, -&gt;</span>
	<span class="add">+	beforeEach module &quot;todo&quot;</span>
	<span class="add">+</span>
	<span class="add">+	$scope = null</span>
	<span class="add">+	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="add">+		$scope = $rootScope.$new()</span>
	<span class="add">+		$controller &quot;todo&quot;, {$scope}</span>
	<span class="add">+</span>
	<span class="add">+	it &quot;exposes todo lists&quot;, -&gt;</span>
	<span class="add">+		expect($scope.todos).toEqual([])</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/app/todo.coffee b/client/app/todo.coffee</span>
	<span class="nfo">@@ -1,4 +1,5 @@</span>
	<span class="rem">-angular =</span>
	<span class="rem">-	module: (name, deps)-&gt;</span>
	<span class="rem">-</span>
	<span class="nrm">module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="add">+</span>
	<span class="add">+angular.module(&quot;todo&quot;)</span>
	<span class="add">+.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="add">+	$scope.todos = []</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -19,7 +19,9 @@</span>
	<span class="nrm"> &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;coffeeify&quot;: &quot;~0.5.1&quot;,</span>
	<span class="nrm"> &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="rem">-    &quot;browserify-shim&quot;: &quot;~2.0.8&quot;</span>
	<span class="add">+    &quot;browserify-shim&quot;: &quot;~2.0.8&quot;,</span>
	<span class="add">+    &quot;mocha&quot;: &quot;~1.12.0&quot;,</span>
	<span class="add">+    &quot;karma-mocha&quot;: &quot;~0.1.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">41b7f98</span>  Serves visibly working client...</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee          | 10 </span><span class="add">+++++</span><span class="rem">-----</span>
	<span class="nrm">client/app/test.coffee    | 10 </span><span class="rem">----------</span>
	<span class="nrm">client/app/todo.coffee    |  5 </span><span class="rem">-----</span>
	<span class="nrm">client/index.html         | 13 </span><span class="add">++++++++++</span><span class="rem">---</span>
	<span class="nrm">client/main.coffee        |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">client/todo/module.coffee |  9 </span><span class="add">+++++++++</span>
	<span class="nrm">client/todo/unit.coffee   | 20 </span><span class="add">++++++++++++++++++++</span>
	<span class="nrm">package.json              |  4 </span><span class="add">+</span><span class="rem">---</span>
	<span class="nrm">server/server.coffee      |  4 </span><span class="add">++++</span>
	<span class="nrm">server/test/serves.coffee |  8 </span><span class="add">+++++++</span><span class="rem">-</span>
	<span class="nrm">10 files changed, 57 insertions(+), 28 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -16,11 +16,11 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					frameworks: [&quot;jasmine&quot;]</span>
	<span class="nrm">					singleRun: true</span>
	<span class="nrm">					files: [</span>
	<span class="rem">-							&quot;bower_components/angular/angular.js&quot;</span>
	<span class="rem">-							&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="rem">-							&quot;client/bundle.js&quot;</span>
	<span class="rem">-							&quot;client/app/**/test.coffee&quot;</span>
	<span class="rem">-						]</span>
	<span class="add">+						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="add">+						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="add">+						&quot;client/bundle.js&quot;</span>
	<span class="add">+						&quot;client/**/unit.coffee&quot;</span>
	<span class="add">+					]</span>
	<span class="nrm"></span>
	<span class="nrm">	mochaTest:</span>
	<span class="nrm">			server:</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/app/test.coffee b/client/app/test.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,10 +0,0 @@</span>
	<span class="rem">-describe &quot;todo bootstrap&quot;, -&gt;</span>
	<span class="rem">-	beforeEach module &quot;todo&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-	$scope = null</span>
	<span class="rem">-	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="rem">-		$scope = $rootScope.$new()</span>
	<span class="rem">-		$controller &quot;todo&quot;, {$scope}</span>
	<span class="rem">-</span>
	<span class="rem">-	it &quot;exposes todo lists&quot;, -&gt;</span>
	<span class="rem">-		expect($scope.todos).toEqual([])</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/app/todo.coffee b/client/app/todo.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,5 +0,0 @@</span>
	<span class="rem">-module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="rem">-</span>
	<span class="rem">-angular.module(&quot;todo&quot;)</span>
	<span class="rem">-.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="rem">-	$scope.todos = []</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/index.html b/client/index.html</span>
	<span class="nfo">@@ -1,13 +1,20 @@</span>
	<span class="nrm">&lt;html&gt;</span>
	<span class="nrm">&lt;head&gt;</span>
	<span class="nrm">	&lt;title&gt;To Do - Angular JS&lt;/title&gt;</span>
	<span class="add">+	&lt;script src=&quot;bower/angular/angular.js&quot;&gt;&lt;/script&gt;</span>
	<span class="add">+	&lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;</span>
	<span class="nrm">&lt;/head&gt;</span>
	<span class="rem">-&lt;body&gt;</span>
	<span class="add">+&lt;body ng:app=&quot;todo&quot;&gt;</span>
	<span class="nrm">	&lt;header&gt;</span>
	<span class="nrm">		&lt;h1&gt;To Do&lt;/h1&gt;</span>
	<span class="nrm">	&lt;/header&gt;</span>
	<span class="rem">-	&lt;section&gt;</span>
	<span class="rem">-		&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; /&gt;</span>
	<span class="add">+	&lt;section ng:controller=&quot;todo&quot;&gt;</span>
	<span class="add">+		&lt;form ng:submit=&quot;Todos.add()&quot;&gt;</span>
	<span class="add">+			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; ng: /&gt;</span>
	<span class="add">+		&lt;/form&gt;</span>
	<span class="add">+		&lt;ol&gt;</span>
	<span class="add">+			&lt;li ng:repeat=&quot;todo in todos&quot;&gt;{{todo}}&lt;/li&gt;</span>
	<span class="add">+		&lt;/ol&gt;</span>
	<span class="nrm">	&lt;/section&gt;</span>
	<span class="nrm">&lt;/body&gt;</span>
	<span class="nrm">&lt;/html&gt;</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/main.coffee b/client/main.coffee</span>
	<span class="nfo">@@ -1 +1 @@</span>
	<span class="rem">-todo = require &quot;./app/todo.coffee&quot;</span>
	<span class="add">+todo = require &quot;./todo/module.coffee&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/todo/module.coffee b/client/todo/module.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,9 @@</span>
	<span class="add">+module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="add">+</span>
	<span class="add">+todo.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="add">+	$scope.todos = []</span>
	<span class="add">+	Todos = $scope.Todos =</span>
	<span class="add">+		current: &quot;&quot;</span>
	<span class="add">+		add: -&gt;</span>
	<span class="add">+			$scope.todos.push Todos.current</span>
	<span class="add">+			Todos.current = &quot;&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/todo/unit.coffee b/client/todo/unit.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,20 @@</span>
	<span class="add">+describe &quot;todo controller&quot;, -&gt;</span>
	<span class="add">+	beforeEach module &quot;todo&quot;</span>
	<span class="add">+</span>
	<span class="add">+	$scope = null</span>
	<span class="add">+	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="add">+		$scope = $rootScope.$new()</span>
	<span class="add">+		$controller &quot;todo&quot;, {$scope}</span>
	<span class="add">+</span>
	<span class="add">+	it &quot;exposes todos&quot;, -&gt;</span>
	<span class="add">+		expect($scope.todos).toEqual([], &quot;todos should be array&quot;)</span>
	<span class="add">+		expect($scope.Todos).toBeDefined(&quot;Todos should be object&quot;)</span>
	<span class="add">+		expect($scope.Todos.current).toBe(&quot;&quot;, &quot;Todos should have current (empty) reference&quot;)</span>
	<span class="add">+		expect(typeof $scope.Todos.add).toBe(&quot;function&quot;, &quot;Todos.add should be function&quot;)</span>
	<span class="add">+</span>
	<span class="add">+	it &quot;can add todo&quot;, -&gt;</span>
	<span class="add">+		$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="add">+		$scope.Todos.add()</span>
	<span class="add">+		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="add">+		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="add">+		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -19,9 +19,7 @@</span>
	<span class="nrm"> &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;coffeeify&quot;: &quot;~0.5.1&quot;,</span>
	<span class="nrm"> &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="rem">-    &quot;browserify-shim&quot;: &quot;~2.0.8&quot;,</span>
	<span class="rem">-    &quot;mocha&quot;: &quot;~1.12.0&quot;,</span>
	<span class="rem">-    &quot;karma-mocha&quot;: &quot;~0.1.0&quot;</span>
	<span class="add">+    &quot;mocha&quot;: &quot;~1.12.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/server/server.coffee b/server/server.coffee</span>
	<span class="nfo">@@ -6,6 +6,10 @@</span> app.get '/bundle.js', (req, res)-&gt;
	<span class="nrm">	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="nrm">	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;bundle.js&quot;</span>

	<span class="add">+app.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="add">+	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="add">+	res.sendfile path.join __dirname, &quot;..&quot;, &quot;bower_components&quot;, req.params.module, req.params.file</span><span class="reverse"><span class="hash">	</span>
	<span class="add">+</span>
	<span class="nrm">app.get '/', (req, res)-&gt;</span>
	<span class="nrm">	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;index.html&quot;</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/server/test/serves.coffee b/server/test/serves.coffee</span>
	<span class="nfo">@@ -55,7 +55,7 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">				should.exist matches</span>
	<span class="nrm">				matches[1].should.match /to-do/</span>

	<span class="rem">-	describe &quot;bundle.js&quot;, (done)-&gt;</span>
	<span class="add">+	describe &quot;bundle.js&quot;, -&gt;</span>
	<span class="nrm">		it &quot;returns a bundle&quot;, (done)-&gt;</span>
	<span class="nrm">			bundle done, Callbacks.OK</span>

	<span class="nfo">@@ -68,3 +68,9 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">				body.should.match ///</span>
	<span class="nrm">					angular\.module\(&quot;todo&quot;</span>
	<span class="nrm">				///</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;bower&quot;, -&gt;</span>
	<span class="add">+		it &quot;serves Bower resources&quot;, (done)-&gt;</span>
	<span class="add">+			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>
	<span class="add">+				res.statusCode.should.equal 200</span>
	<span class="add">+				done()</span>

	</pre>

<div class="commit">
	<h3><span class="hash">5981165</span>  Support for running selenium in cucumber.</h3>
	<!--
	<pre>
	<span class="nrm">.gitignore       |  1 </span><span class="add">+</span>
	<span class="nrm">Gruntfile.coffee | 29 </span><span class="add">++++++++++++++++++++++++++++</span><span class="rem">-</span>
	<span class="nrm">package.json     |  7 </span><span class="add">++++++</span><span class="rem">-</span>
	<span class="nrm">3 files changed, 35 insertions(+), 2 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.gitignore b/.gitignore</span>
	<span class="nfo">@@ -1,2 +1,3 @@</span>
	<span class="nrm">node_modules</span>
	<span class="nrm">bower_components</span>
	<span class="add">+selenium</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -28,6 +28,22 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					reporter: 'spec'</span>
	<span class="nrm">				src: [&quot;server/test/*coffee&quot;]</span>

	<span class="add">+		shell:</span>
	<span class="add">+			kill:</span>
	<span class="add">+				command: &quot;lsof -i TCP -P | grep 4444 | awk '{print $2}' | xargs -I{} kill {} &gt;/dev/null  || exit 0&quot;</span>
	<span class="add">+			selenium:</span>
	<span class="add">+				command: [</span>
	<span class="add">+					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar &quot;</span>
	<span class="add">+					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver &quot;</span>
	<span class="add">+					&quot;&gt;/dev/null&quot;</span>
	<span class="add">+				].join ' '</span>
	<span class="add">+				options:</span>
	<span class="add">+					async: true</span>
	<span class="add">+					kill: true</span>
	<span class="add">+			sleep:</span>
	<span class="add">+				command:</span>
	<span class="add">+					&quot;sleep 1&quot;</span>
	<span class="add">+</span>
	<span class="nrm">		cucumberjs:</span>
	<span class="nrm">			Edith:</span>
	<span class="nrm">				files: src: ['test/behavior/users/edith']</span>
	<span class="nfo">@@ -38,6 +54,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">			all:</span>
	<span class="nrm">				files: [</span>
	<span class="nrm">					'test/**/*coffee'</span>
	<span class="add">+					'test/**/*feature'</span>
	<span class="nrm">					'server/**/*coffee'</span>
	<span class="nrm">					'client/**/*html'</span>
	<span class="nrm">					'client/**/*coffee'</span>
	<span class="nfo">@@ -48,6 +65,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	grunt.npmTasks = [</span>
	<span class="nrm">		&quot;grunt-cucumber&quot;</span>
	<span class="nrm">		&quot;grunt-karma&quot;</span>
	<span class="add">+		&quot;grunt-shell-spawn&quot;</span>
	<span class="nrm">		&quot;grunt-browserify&quot;</span>
	<span class="nrm">		&quot;grunt-mocha-test&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="nfo">@@ -59,10 +77,19 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;browserify:dev&quot;</span>
	<span class="nrm">	]</span>

	<span class="add">+	grunt.registerTask &quot;features&quot;, [</span>
	<span class="add">+		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:Edith&quot;</span>
	<span class="add">+		&quot;shell:selenium:kill&quot; # Stop the selenium server</span>
	<span class="add">+		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="nrm">	grunt.registerTask &quot;test&quot;, [</span>
	<span class="nrm">		&quot;mochaTest:server&quot;</span>
	<span class="nrm">		&quot;karma:unit&quot;</span>
	<span class="rem">-		&quot;cucumberjs:Edith&quot;</span>
	<span class="add">+		&quot;features&quot;</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;default&quot;, [</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -19,7 +19,12 @@</span>
	<span class="nrm"> &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;coffeeify&quot;: &quot;~0.5.1&quot;,</span>
	<span class="nrm"> &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="rem">-    &quot;mocha&quot;: &quot;~1.12.0&quot;</span>
	<span class="add">+    &quot;mocha&quot;: &quot;~1.12.0&quot;,</span>
	<span class="add">+    &quot;selenium-webdriver&quot;: &quot;~2.35.0&quot;,</span>
	<span class="add">+    &quot;protractor&quot;: &quot;~0.7.0&quot;,</span>
	<span class="add">+    &quot;grunt-shell-spawn&quot;: &quot;~0.2.4&quot;,</span>
	<span class="add">+    &quot;selenium-launcher&quot;: &quot;~1.1.7&quot;,</span>
	<span class="add">+    &quot;q&quot;: &quot;~0.9.6&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">830ca5d</span>  Cleaned up client code.</h3>
	<!--
	<pre>
	<span class="nrm">client/index.html       | 4 </span><span class="add">++</span><span class="rem">--</span>
	<span class="nrm">client/todo/unit.coffee | 2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">2 files changed, 3 insertions(+), 3 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/index.html b/client/index.html</span>
	<span class="nfo">@@ -10,9 +10,9 @@</span>
	<span class="nrm">	&lt;/header&gt;</span>
	<span class="nrm">	&lt;section ng:controller=&quot;todo&quot;&gt;</span>
	<span class="nrm">		&lt;form ng:submit=&quot;Todos.add()&quot;&gt;</span>
	<span class="rem">-			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; ng: /&gt;</span>
	<span class="add">+			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; /&gt;</span>
	<span class="nrm">		&lt;/form&gt;</span>
	<span class="rem">-		&lt;ol&gt;</span>
	<span class="add">+		&lt;ol ng:cloak&gt;</span>
	<span class="nrm">			&lt;li ng:repeat=&quot;todo in todos&quot;&gt;{{todo}}&lt;/li&gt;</span>
	<span class="nrm">		&lt;/ol&gt;</span>
	<span class="nrm">	&lt;/section&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/todo/unit.coffee b/client/todo/unit.coffee</span>
	<span class="nfo">@@ -17,4 +17,4 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">		$scope.Todos.add()</span>
	<span class="nrm">		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="nrm">		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="rem">-		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>

	</pre>

<div class="commit">
	<h3><span class="hash">a976bbd</span>  Updated world tests.</h3>
	<!--
	<pre>
	<span class="nrm">test/behavior/steps/browsing.coffee            | 87 </span><span class="add">+++++++++++++++++</span><span class="rem">---------</span>
	<span class="nrm">test/behavior/support/world.coffee             | 17 </span><span class="rem">-----</span>
	<span class="nrm">test/behavior/support/worlds.coffee            |  2 </span><span class="add">+</span>
	<span class="nrm">test/behavior/support/worlds/protractor.coffee | 40 </span><span class="add">++++++++++++</span>
	<span class="nrm">test/behavior/support/worlds/zombie.coffee     | 21 </span><span class="add">+++++++</span>
	<span class="nrm">test/behavior/users/edith/Edith.feature        | 45 </span><span class="add">++++++</span><span class="rem">-------</span>
	<span class="nrm">6 files changed, 144 insertions(+), 68 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/steps/browsing.coffee b/test/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -1,43 +1,70 @@</span>
	<span class="add">+Q = require 'q'</span>
	<span class="nrm">should = require &quot;should&quot;</span>
	<span class="rem">-World = require &quot;../support/world&quot;</span>
	<span class="add">+World = require &quot;../support/worlds&quot;</span>
	<span class="nrm">module.exports = -&gt;</span>
	<span class="rem">-	@Given /has (?:his|her|a) browser open$/, (cb)-&gt;</span>
	<span class="add">+	@Before (done)-&gt;</span>
	<span class="nrm">		# opening a browser is like entering a whole new world...</span>
	<span class="nrm">		@world = new World()</span>
	<span class="rem">-		cb()</span>
	<span class="add">+		done()</span>

	<span class="rem">-	@Given /on the landing page/, (cb)-&gt;</span>
	<span class="rem">-		@world = new World()</span>
	<span class="add">+	@After (done)-&gt;</span>
	<span class="add">+		@world?.destroy()</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@Given /on the landing page/, (done)-&gt;</span>
	<span class="nrm">		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="rem">-		.then cb</span>
	<span class="add">+		.then(done)</span>

	<span class="rem">-	@When /goes to the (?:site|landing page)(?: directly)?/, (callback) -&gt;</span>
	<span class="add">+	@When /goes to the (?:site|landing page)(?: directly)?/, (done) -&gt;</span>
	<span class="nrm">		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="rem">-		.then callback</span>
	<span class="add">+		.then(done)</span>

	<span class="rem">-	@When /enters &quot;([^&quot;]+)&quot; into the &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, cb)-&gt;</span>
	<span class="rem">-		@world.fill(field, value)</span>
	<span class="rem">-		cb()</span>
	<span class="add">+	@When /enters &quot;([^&quot;]+)&quot; into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, done)-&gt;</span>
	<span class="add">+		@world.fill(field, value, true)</span>
	<span class="add">+		.then(-&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	<span class="add">+	@When /enters into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (field, lines, done)-&gt;</span>
	<span class="add">+		Q.all([@world.fill(field, line, true) for line in lines.split '\n'])</span>
	<span class="add">+		.then(-&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	Check for existance of a string in the title</span>
	<span class="add">+	###</span>
	<span class="add">+	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )title$/, (what, done) -&gt;</span>
	<span class="add">+		@world.title()</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="add">+				&quot;'#{what}' expected in title&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	<span class="nrm"></span>
	<span class="nrm">###</span>
	<span class="nrm">	Check for existance of a string in a selector</span>
	<span class="nrm">	###</span>
	<span class="rem">-	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )&quot;([^&quot;]*)&quot;$/, (what, where, callback) -&gt;</span>
	<span class="rem">-		@world.text(where).indexOf(what).should.be.greaterThan -1,</span>
	<span class="rem">-			&quot;'#{what}' expected in '#{where}'&quot;</span>
	<span class="rem">-		callback()</span>
	<span class="rem">-</span>
	<span class="rem">-	@Then /invited to enter a &quot;([^&quot;]*)&quot;/, (value, callback)-&gt;</span>
	<span class="rem">-		inputs = @world.find(&quot;input[type=text]&quot;)</span>
	<span class="rem">-		inputs.length.should.equal 1,</span>
	<span class="rem">-			&quot;One text input must exist.&quot;</span>
	<span class="rem">-		placeholder = inputs[0].getAttribute('placeholder')</span>
	<span class="rem">-		should.exist placeholder,</span>
	<span class="rem">-			&quot;Input should have placeholder.&quot;</span>
	<span class="rem">-		placeholder.should.match ///#{value}///,</span>
	<span class="rem">-			&quot;Placeholder should be inviting.&quot;</span>
	<span class="rem">-		callback()</span>
	<span class="rem">-</span>
	<span class="rem">-	@Then /page shows &quot;([^&quot;]+)&quot;/, (content)-&gt;</span>
	<span class="rem">-		text = @world.text(&quot;body&quot;)</span>
	<span class="rem">-		text.should.match ///#{content}///</span>
	<span class="add">+	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )&quot;([^&quot;]*)&quot;$/, (what, where, done) -&gt;</span>
	<span class="add">+		@world.text(where)</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="add">+				&quot;'#{what}' expected in '#{where}'&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span><span class="reverse"><span class="hash"> </span>
	<span class="add">+</span>
	<span class="add">+	@Then /invited to enter a(?:nother)? &quot;([^&quot;]*)&quot;/, (value, done)-&gt;</span>
	<span class="add">+		@world.placeholder(&quot;input[type=text]&quot;)</span>
	<span class="add">+		.then (placeholder)-&gt;</span>
	<span class="add">+			placeholder.should.match ///#{value}///,</span>
	<span class="add">+				&quot;placeholder should be inviting.&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	<span class="add">+</span>
	<span class="add">+	@Then /page shows &quot;([^&quot;]+)&quot;/, (content, done)-&gt;</span>
	<span class="add">+		@world.text(&quot;body&quot;)</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.should.match ///#{content}///</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/world.coffee b/test/behavior/support/world.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,17 +0,0 @@</span>
	<span class="rem">-Zombie = require &quot;zombie&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-module.exports = class World</span>
	<span class="rem">-	constructor: -&gt;</span>
	<span class="rem">-		@browser = new Zombie()</span>
	<span class="rem">-</span>
	<span class="rem">-	visit: (url)-&gt;</span>
	<span class="rem">-		@browser.visit(url)</span>
	<span class="rem">-</span>
	<span class="rem">-	find: (selector)-&gt;</span>
	<span class="rem">-		@browser.document.querySelectorAll selector</span>
	<span class="rem">-</span>
	<span class="rem">-	text: (where)-&gt;</span>
	<span class="rem">-		@browser.text where</span>
	<span class="rem">-</span>
	<span class="rem">-	fill: (what, value)-&gt;</span>
	<span class="rem">-		@browser.fill what, value</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds.coffee b/test/behavior/support/worlds.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,2 @@</span>
	<span class="add">+module.exports = require &quot;./worlds/protractor&quot;</span>
	<span class="add">+# module.exports = require &quot;./worlds/zombie&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds/protractor.coffee b/test/behavior/support/worlds/protractor.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,40 @@</span>
	<span class="add">+Q = require &quot;q&quot;</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+webdriver = require &quot;selenium-webdriver&quot;</span>
	<span class="add">+Protractor = require &quot;protractor&quot;</span>
	<span class="add">+By = Protractor.By</span>
	<span class="add">+</span>
	<span class="add">+module.exports = class World</span>
	<span class="add">+	constructor: -&gt;</span>
	<span class="add">+		@driver = new webdriver.Builder().</span>
	<span class="add">+			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="add">+			withCapabilities(webdriver.Capabilities.firefox()).build();</span>
	<span class="add">+</span>
	<span class="add">+		@driver.manage().timeouts().setScriptTimeout(10000);</span>
	<span class="add">+		@ptor = Protractor.wrapDriver(@driver);</span>
	<span class="add">+</span>
	<span class="add">+	visit: (url)-&gt;</span>
	<span class="add">+		Q @ptor.get(url)</span>
	<span class="add">+</span>
	<span class="add">+	find: (selector)-&gt;</span>
	<span class="add">+		@ptor.findElement By.css selector</span>
	<span class="add">+</span>
	<span class="add">+	text: (where)-&gt;</span>
	<span class="add">+		Q @find(where).getText()</span>
	<span class="add">+</span>
	<span class="add">+	title: -&gt;</span>
	<span class="add">+		Q @ptor.getTitle()</span>
	<span class="add">+</span>
	<span class="add">+	placeholder: (where)-&gt;</span>
	<span class="add">+		Q @find(where).getAttribute 'placeholder'</span>
	<span class="add">+</span>
	<span class="add">+	fill: (what, value, submit = false)-&gt;</span>
	<span class="add">+		input = @ptor.findElement(By.name(what))</span>
	<span class="add">+		deferred = input.sendKeys(value)</span>
	<span class="add">+		if submit</span>
	<span class="add">+			deferred.then -&gt;</span>
	<span class="add">+				input.submit()</span>
	<span class="add">+		Q deferred</span>
	<span class="add">+</span>
	<span class="add">+	destroy: (done)-&gt;</span>
	<span class="add">+		@driver.quit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds/zombie.coffee b/test/behavior/support/worlds/zombie.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,21 @@</span>
	<span class="add">+Zombie = require &quot;zombie&quot;</span>
	<span class="add">+</span>
	<span class="add">+module.exports = class World</span>
	<span class="add">+	constructor: -&gt;</span>
	<span class="add">+		@browser = new Zombie()</span>
	<span class="add">+</span>
	<span class="add">+	visit: (url)-&gt;</span>
	<span class="add">+		@browser.visit(url)</span>
	<span class="add">+</span>
	<span class="add">+	find: (selector)-&gt;</span>
	<span class="add">+		@browser.document.querySelectorAll selector</span>
	<span class="add">+</span>
	<span class="add">+	text: (where)-&gt;</span>
	<span class="add">+		@browser.text where</span>
	<span class="add">+</span>
	<span class="add">+	fill: (what, value)-&gt;</span>
	<span class="add">+		@browser.fill what, value</span>
	<span class="add">+</span>
	<span class="add">+	submit: (fieldName)-&gt;</span>
	<span class="add">+		field = @browser.document.querySelector &quot;[name='#{fieldName}']&quot;</span>
	<span class="add">+		field.form.submit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/users/edith/Edith.feature b/test/behavior/users/edith/Edith.feature</span>
	<span class="nfo">@@ -6,7 +6,7 @@</span> Feature: Site is available
	<span class="nrm">	Scenario: Direct Browsing</span>
	<span class="nrm">		Given Edith has her browser open</span>
	<span class="nrm">		When she goes to the site directly</span>
	<span class="rem">-		Then she should see &quot;Angular JS&quot; in the &quot;title&quot;</span>
	<span class="add">+		Then she should see &quot;Angular JS&quot; in the title</span>
	<span class="nrm">
	Feature: Site loads</span>
	<span class="nrm">	As a fly-fishing enthusiest</span>
	<span class="nfo">@@ -16,34 +16,37 @@</span> Feature: Site loads
	<span class="nrm">	Scenario: Landing bootstrap</span>
	<span class="nrm">		Given Edith has her browser open</span>
	<span class="nrm">		When she goes to the landing page</span>
	<span class="rem">-		Then she should see &quot;To Do&quot; in the &quot;title&quot;</span>
	<span class="add">+		Then she should see &quot;To Do&quot; in the title</span>
	<span class="nrm">		And she should see &quot;To Do&quot; in the &quot;header&quot;</span>
	<span class="nrm">		And she should be invited to enter a &quot;to-do&quot; item</span>
	<span class="nrm"></span>
	<span class="nrm">Scenario: First to-do</span>
	<span class="nrm">		Given Edith is on the landing page</span>
	<span class="nrm">		When she enters &quot;Buy peacock feathers&quot; into the &quot;to-do&quot; box</span>
	<span class="rem">-		Then the page shows &quot;1. Buy peacock feathers&quot;</span>
	<span class="add">+		Then the page shows &quot;Buy peacock feathers&quot;</span>

	<span class="rem">-	# Scenario: Second to-do</span>
	<span class="rem">-	# 	Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="rem">-	# 	And she is invited to enter a &quot;to-do&quot; item</span>
	<span class="rem">-	# 	When she enters &quot;Use peacock feathers to make a fly&quot; into a &quot;text&quot; box</span>
	<span class="rem">-	# 	Then the page shows &quot;1. Buy peackock feathres&quot;</span>
	<span class="rem">-	# 	And the page shows &quot;2. Use peacock feathers to make a fly&quot;</span>
	<span class="rem">-	# 	And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="add">+	Scenario: Second to-do</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		When she enters into a &quot;to-do&quot; box</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+			Buy peacock feathers</span>
	<span class="add">+			Use peacock feathers to make a fly</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="add">+		And she should be invited to enter another &quot;to-do&quot; item</span>

	<span class="rem">-	# # Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="rem">-	# # that the site has generated a unique URL for her -- there is some</span>
	<span class="rem">-	# # explanatory text to that effect.</span>
	<span class="rem">-	# Scenario: Saves list</span>
	<span class="rem">-	# 	Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="rem">-	# 	And she leaves the page</span>
	<span class="rem">-	# 	When she goes to the &quot;saved&quot; url</span>
	<span class="rem">-	# 	Then the page shows &quot;1. Buy peackock feathres&quot;</span>
	<span class="rem">-	# 	And the page shows &quot;2. Use peacock feathers to make a fly&quot;</span>
	<span class="rem">-	# 	And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="rem">-	# 	# Satisfied, she goes back to sleep</span>
	<span class="add">+	# Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="add">+	# that the site has generated a unique URL for her -- there is some</span>
	<span class="add">+	# explanatory text to that effect.</span>
	<span class="add">+	Scenario: Saves list</span>
	<span class="add">+		Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="add">+		And she leaves the page</span>
	<span class="add">+		When she goes to the &quot;saved&quot; url</span>
	<span class="add">+		Then the page shows &quot;Buy peackock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="add">+		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="add">+		# Satisfied, she goes back to sleep</span>
	<span class="nrm"></span>
	<span class="nrm">Scenario: More Features!</span>
	<span class="nrm">		Given Edith has her browser open</span>

	</pre>

<div class="commit">
	<h3><span class="hash">c941f6e</span>  Cleaned up configs, minimized package.json deps.</h3>
	<!--
	<pre>
	<span class="nrm">.gitignore       |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">Gruntfile.coffee | 10 </span><span class="add">+++++++</span><span class="rem">---</span>
	<span class="nrm">package.json     | 20 </span><span class="add">++++++++++</span><span class="rem">----------</span>
	<span class="nrm">3 files changed, 18 insertions(+), 14 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.gitignore b/.gitignore</span>
	<span class="nfo">@@ -1,3 +1,3 @@</span>
	<span class="nrm">node_modules</span>
	<span class="nrm">bower_components</span>
	<span class="rem">-selenium</span>
	<span class="add">+selenium*</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -31,10 +31,13 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		shell:</span>
	<span class="nrm">			kill:</span>
	<span class="nrm">				command: &quot;lsof -i TCP -P | grep 4444 | awk '{print $2}' | xargs -I{} kill {} &gt;/dev/null  || exit 0&quot;</span>
	<span class="add">+			install:</span>
	<span class="add">+				command: &quot;[ -f ./selenium/selenium-server-standalone-2.34.0.jar ] || ./node_modules/protractor/bin/install_selenium_standalone&quot;</span>
	<span class="nrm">			selenium:</span>
	<span class="nrm">				command: [</span>
	<span class="rem">-					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar &quot;</span>
	<span class="rem">-					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver &quot;</span>
	<span class="add">+					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="add">+					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="add">+					&quot;-log selenium.log -browserSideLog&quot;</span>
	<span class="nrm">					&quot;&gt;/dev/null&quot;</span>
	<span class="nrm">				].join ' '</span>
	<span class="nrm">				options:</span>
	<span class="nfo">@@ -79,10 +82,11 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;features&quot;, [</span>
	<span class="nrm">		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="nrm">		&quot;shell:selenium&quot;</span>
	<span class="nrm">		&quot;shell:sleep&quot;</span>
	<span class="nrm">		&quot;cucumberjs:Edith&quot;</span>
	<span class="rem">-		&quot;shell:selenium:kill&quot; # Stop the selenium server</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="nrm">		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="nrm">	]</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -10,21 +10,21 @@</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	<span class="nrm">&quot;devDependencies&quot;: {</span>
	<span class="add">+    &quot;caching-coffeeify&quot;: &quot;~0.2.0&quot;,</span>
	<span class="nrm"> &quot;grunt&quot;: &quot;~0.4.1&quot;,</span>
	<span class="rem">-    &quot;zombie&quot;: &quot;~2.0.0-alpha20&quot;,</span>
	<span class="add">+    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;grunt-cucumber&quot;: &quot;~0.2.1&quot;,</span>
	<span class="rem">-    &quot;should&quot;: &quot;~1.2.2&quot;,</span>
	<span class="nrm"> &quot;grunt-mocha-test&quot;: &quot;~0.6.3&quot;,</span>
	<span class="rem">-    &quot;request&quot;: &quot;~2.27.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="rem">-    &quot;coffeeify&quot;: &quot;~0.5.1&quot;,</span>
	<span class="rem">-    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="add">+    &quot;grunt-shell-spawn&quot;: &quot;~0.2.4&quot;,</span>
	<span class="nrm"> &quot;mocha&quot;: &quot;~1.12.0&quot;,</span>
	<span class="rem">-    &quot;selenium-webdriver&quot;: &quot;~2.35.0&quot;,</span>
	<span class="nrm"> &quot;protractor&quot;: &quot;~0.7.0&quot;,</span>
	<span class="rem">-    &quot;grunt-shell-spawn&quot;: &quot;~0.2.4&quot;,</span>
	<span class="rem">-    &quot;selenium-launcher&quot;: &quot;~1.1.7&quot;,</span>
	<span class="rem">-    &quot;q&quot;: &quot;~0.9.6&quot;</span>
	<span class="add">+    &quot;q&quot;: &quot;~0.9.6&quot;,</span>
	<span class="add">+    &quot;request&quot;: &quot;~2.27.0&quot;,</span>
	<span class="add">+    &quot;selenium-webdriver&quot;: &quot;~2.35.0&quot;,</span>
	<span class="add">+    &quot;should&quot;: &quot;~1.2.2&quot;,</span>
	<span class="add">+    &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="add">+    &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">085d2c6</span>  Moved written code to src/</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee                                   | 26 </span><span class="add">++++</span><span class="rem">----</span>
	<span class="nrm">client/.gitignore                                  |  1 </span><span class="rem">-</span>
	<span class="nrm">client/index.html                                  | 20 </span><span class="rem">------</span>
	<span class="nrm">client/main.coffee                                 |  1 </span><span class="rem">-</span>
	<span class="nrm">client/todo/module.coffee                          |  9 </span><span class="rem">---</span>
	<span class="nrm">client/todo/unit.coffee                            | 20 </span><span class="rem">------</span>
	<span class="nrm">server/server.coffee                               | 18 </span><span class="rem">-----</span>
	<span class="nrm">server/test/serves.coffee                          | 76 </span><span class="rem">----------------------</span>
	<span class="nrm">src/client/.gitignore                              |  1 </span><span class="add">+</span>
	<span class="nrm">src/client/index.html                              | 20 </span><span class="add">++++++</span>
	<span class="nrm">src/client/main.coffee                             |  1 </span><span class="add">+</span>
	<span class="nrm">src/client/todo/module.coffee                      |  9 </span><span class="add">+++</span>
	<span class="nrm">src/client/todo/unit.coffee                        | 20 </span><span class="add">++++++</span>
	<span class="nrm">src/features/behavior/steps/browsing.coffee        | 70 </span><span class="add">++++++++++++++++++++</span>
	<span class="nrm">src/features/behavior/steps/buildmore.coffee       |  6 </span><span class="add">++</span>
	<span class="nrm">src/features/behavior/support/worlds.coffee        |  2 </span><span class="add">+</span>
	<span class="nrm">.../behavior/support/worlds/protractor.coffee      | 40 </span><span class="add">++++++++++++</span>
	<span class="nrm">src/features/behavior/support/worlds/zombie.coffee | 21 </span><span class="add">++++++</span>
	<span class="nrm">src/features/behavior/users/edith/Edith.feature    | 54 </span><span class="add">+++++++++++++++</span>
	<span class="nrm">src/server/server.coffee                           | 18 </span><span class="add">+++++</span>
	<span class="nrm">src/server/test/serves.coffee                      | 76 </span><span class="add">++++++++++++++++++++++</span>
	<span class="nrm">test/behavior/steps/browsing.coffee                | 70 </span><span class="rem">--------------------</span>
	<span class="nrm">test/behavior/steps/buildmore.coffee               |  6 </span><span class="rem">--</span>
	<span class="nrm">test/behavior/support/worlds.coffee                |  2 </span><span class="rem">-</span>
	<span class="nrm">test/behavior/support/worlds/protractor.coffee     | 40 </span><span class="rem">------------</span>
	<span class="nrm">test/behavior/support/worlds/zombie.coffee         | 21 </span><span class="rem">------</span>
	<span class="nrm">test/behavior/users/edith/Edith.feature            | 54 </span><span class="rem">---------------</span>
	<span class="nrm">27 files changed, 351 insertions(+), 351 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -2,7 +2,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	grunt.initConfig</span>
	<span class="nrm">		browserify:</span>
	<span class="nrm">			dev:</span>
	<span class="rem">-				files: &quot;client/bundle.js&quot;: [&quot;client/main.coffee&quot;]</span>
	<span class="add">+				files: &quot;src/client/bundle.js&quot;: [&quot;src/client/main.coffee&quot;]</span>
	<span class="nrm">				options:</span>
	<span class="nrm">					debug: true</span>
	<span class="nrm">					transform: [</span>
	<span class="nfo">@@ -18,15 +18,15 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					files: [</span>
	<span class="nrm">						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="nrm">						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="rem">-						&quot;client/bundle.js&quot;</span>
	<span class="rem">-						&quot;client/**/unit.coffee&quot;</span>
	<span class="add">+						&quot;src/client/bundle.js&quot;</span>
	<span class="add">+						&quot;src/client/**/unit.coffee&quot;</span>
	<span class="nrm">					]</span>
	<span class="nrm"></span>
	<span class="nrm">	mochaTest:</span>
	<span class="nrm">			server:</span>
	<span class="nrm">				options:</span>
	<span class="nrm">					reporter: 'spec'</span>
	<span class="rem">-				src: [&quot;server/test/*coffee&quot;]</span>
	<span class="add">+				src: [&quot;src/server/test/*coffee&quot;]</span>
	<span class="nrm"></span>
	<span class="nrm">	shell:</span>
	<span class="nrm">			kill:</span>
	<span class="nfo">@@ -37,7 +37,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				command: [</span>
	<span class="nrm">					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="nrm">					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="rem">-					&quot;-log selenium.log -browserSideLog&quot;</span>
	<span class="add">+					# &quot;-log selenium.log -browserSideLog&quot;</span>
	<span class="nrm">					&quot;&gt;/dev/null&quot;</span>
	<span class="nrm">				].join ' '</span>
	<span class="nrm">				options:</span>
	<span class="nfo">@@ -49,19 +49,19 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm"></span>
	<span class="nrm">	cucumberjs:</span>
	<span class="nrm">			Edith:</span>
	<span class="rem">-				files: src: ['test/behavior/users/edith']</span>
	<span class="add">+				files: src: ['src/features/behavior/users/edith']</span>
	<span class="nrm">				options:</span>
	<span class="rem">-					steps: 'test/behavior/steps'</span>
	<span class="add">+					steps: 'src/features/behavior/steps'</span>
	<span class="nrm"></span>
	<span class="nrm">	watch:</span>
	<span class="nrm">			all:</span>
	<span class="nrm">				files: [</span>
	<span class="rem">-					'test/**/*coffee'</span>
	<span class="rem">-					'test/**/*feature'</span>
	<span class="rem">-					'server/**/*coffee'</span>
	<span class="rem">-					'client/**/*html'</span>
	<span class="rem">-					'client/**/*coffee'</span>
	<span class="rem">-					'client/**/*less'</span>
	<span class="add">+					'src/features/**/*coffee'</span>
	<span class="add">+					'src/features/**/*feature'</span>
	<span class="add">+					'src/server/**/*coffee'</span>
	<span class="add">+					'src/client/**/*html'</span>
	<span class="add">+					'src/client/**/*coffee'</span>
	<span class="add">+					'src/client/**/*less'</span>
	<span class="nrm">				]</span>
	<span class="nrm">				tasks: ['default']</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/.gitignore b/client/.gitignore</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1 +0,0 @@</span>
	<span class="rem">-bundle.js</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/index.html b/client/index.html</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,20 +0,0 @@</span>
	<span class="rem">-&lt;html&gt;</span>
	<span class="rem">-&lt;head&gt;</span>
	<span class="rem">-	&lt;title&gt;To Do - Angular JS&lt;/title&gt;</span>
	<span class="rem">-	&lt;script src=&quot;bower/angular/angular.js&quot;&gt;&lt;/script&gt;</span>
	<span class="rem">-	&lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;</span>
	<span class="rem">-&lt;/head&gt;</span>
	<span class="rem">-&lt;body ng:app=&quot;todo&quot;&gt;</span>
	<span class="rem">-	&lt;header&gt;</span>
	<span class="rem">-		&lt;h1&gt;To Do&lt;/h1&gt;</span>
	<span class="rem">-	&lt;/header&gt;</span>
	<span class="rem">-	&lt;section ng:controller=&quot;todo&quot;&gt;</span>
	<span class="rem">-		&lt;form ng:submit=&quot;Todos.add()&quot;&gt;</span>
	<span class="rem">-			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; /&gt;</span>
	<span class="rem">-		&lt;/form&gt;</span>
	<span class="rem">-		&lt;ol ng:cloak&gt;</span>
	<span class="rem">-			&lt;li ng:repeat=&quot;todo in todos&quot;&gt;{{todo}}&lt;/li&gt;</span>
	<span class="rem">-		&lt;/ol&gt;</span>
	<span class="rem">-	&lt;/section&gt;</span>
	<span class="rem">-&lt;/body&gt;</span>
	<span class="rem">-&lt;/html&gt;</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/main.coffee b/client/main.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1 +0,0 @@</span>
	<span class="rem">-todo = require &quot;./todo/module.coffee&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/todo/module.coffee b/client/todo/module.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,9 +0,0 @@</span>
	<span class="rem">-module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="rem">-</span>
	<span class="rem">-todo.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="rem">-	$scope.todos = []</span>
	<span class="rem">-	Todos = $scope.Todos =</span>
	<span class="rem">-		current: &quot;&quot;</span>
	<span class="rem">-		add: -&gt;</span>
	<span class="rem">-			$scope.todos.push Todos.current</span>
	<span class="rem">-			Todos.current = &quot;&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/client/todo/unit.coffee b/client/todo/unit.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,20 +0,0 @@</span>
	<span class="rem">-describe &quot;todo controller&quot;, -&gt;</span>
	<span class="rem">-	beforeEach module &quot;todo&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-	$scope = null</span>
	<span class="rem">-	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="rem">-		$scope = $rootScope.$new()</span>
	<span class="rem">-		$controller &quot;todo&quot;, {$scope}</span>
	<span class="rem">-</span>
	<span class="rem">-	it &quot;exposes todos&quot;, -&gt;</span>
	<span class="rem">-		expect($scope.todos).toEqual([], &quot;todos should be array&quot;)</span>
	<span class="rem">-		expect($scope.Todos).toBeDefined(&quot;Todos should be object&quot;)</span>
	<span class="rem">-		expect($scope.Todos.current).toBe(&quot;&quot;, &quot;Todos should have current (empty) reference&quot;)</span>
	<span class="rem">-		expect(typeof $scope.Todos.add).toBe(&quot;function&quot;, &quot;Todos.add should be function&quot;)</span>
	<span class="rem">-</span>
	<span class="rem">-	it &quot;can add todo&quot;, -&gt;</span>
	<span class="rem">-		$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="rem">-		$scope.Todos.add()</span>
	<span class="rem">-		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="rem">-		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="rem">-		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/server/server.coffee b/server/server.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,18 +0,0 @@</span>
	<span class="rem">-path = require &quot;path&quot;</span>
	<span class="rem">-express = require &quot;express&quot;</span>
	<span class="rem">-app = express()</span>
	<span class="rem">-</span>
	<span class="rem">-app.get '/bundle.js', (req, res)-&gt;</span>
	<span class="rem">-	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;bundle.js&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-app.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="rem">-	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;bower_components&quot;, req.params.module, req.params.file	</span>
	<span class="rem">-</span>
	<span class="rem">-app.get '/', (req, res)-&gt;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;index.html&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-module.exports =</span>
	<span class="rem">-	serve: -&gt;</span>
	<span class="rem">-		app.listen(3000)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/server/test/serves.coffee b/server/test/serves.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,76 +0,0 @@</span>
	<span class="rem">-should = require &quot;should&quot;</span>
	<span class="rem">-server = require &quot;../server&quot;</span>
	<span class="rem">-request = require &quot;request&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-get = (path, d, cb)-&gt;</span>
	<span class="rem">-	request path, (e, r, b)-&gt;</span>
	<span class="rem">-		cb e, r, b</span>
	<span class="rem">-		d()</span>
	<span class="rem">-</span>
	<span class="rem">-index = (d, cb)-&gt; get &quot;http://localhost:3000/&quot;, d, cb</span>
	<span class="rem">-bundle = (d, cb)-&gt; get &quot;http://localhost:3000/bundle.js&quot;, d, cb</span>
	<span class="rem">-</span>
	<span class="rem">-Callbacks =</span>
	<span class="rem">-	OK: (e, res)-&gt;</span>
	<span class="rem">-		res.statusCode.should.equal 200</span>
	<span class="rem">-</span>
	<span class="rem">-describe &quot;Server&quot;, -&gt;</span>
	<span class="rem">-</span>
	<span class="rem">-	before -&gt;</span>
	<span class="rem">-		server.serve()</span>
	<span class="rem">-</span>
	<span class="rem">-	describe &quot;/&quot;, -&gt;</span>
	<span class="rem">-		it &quot;binds on a known port&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (err, response)-&gt;</span>
	<span class="rem">-				should.not.exist err, &quot;Error when GETting (#{err})&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;returns 200 when requesting /&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, Callbacks.OK</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;returns an index page at /&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match /^&lt;html&gt;/</span>
	<span class="rem">-				body.should.match /&lt;\/html&gt;$/</span>
	<span class="rem">-</span>
	<span class="rem">-	describe &quot;index.html&quot;, -&gt;</span>
	<span class="rem">-		it &quot;returns a page with a title&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match ///</span>
	<span class="rem">-						&lt;title&gt;[^&lt;]*Angular\sJS[^&lt;]*&lt;/title&gt;</span>
	<span class="rem">-					///,</span>
	<span class="rem">-					&quot;page needs a title&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;returns a page with a header&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match /&lt;header&gt;/</span>
	<span class="rem">-				body.should.match /&lt;\/header&gt;/</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;returns a page with input fields&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match /&lt;input[^&gt;]*&gt;/</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;sets the placeholder on the input&quot;, (done)-&gt;</span>
	<span class="rem">-			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				matches = body.match /&lt;input[^&gt;]+placeholder=&quot;([^&quot;]+)&quot;[^&gt;]+\/&gt;/</span>
	<span class="rem">-				should.exist matches</span>
	<span class="rem">-				matches[1].should.match /to-do/</span>
	<span class="rem">-</span>
	<span class="rem">-	describe &quot;bundle.js&quot;, -&gt;</span>
	<span class="rem">-		it &quot;returns a bundle&quot;, (done)-&gt;</span>
	<span class="rem">-			bundle done, Callbacks.OK</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;returns a js bundle&quot;, (done)-&gt;</span>
	<span class="rem">-			bundle done, (e, res)-&gt;</span>
	<span class="rem">-				res.headers[&quot;content-type&quot;].should.equal &quot;text/javascript&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-		it &quot;defines an Angular module&quot;, (done)-&gt;</span>
	<span class="rem">-			bundle done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match ///</span>
	<span class="rem">-					angular\.module\(&quot;todo&quot;</span>
	<span class="rem">-				///</span>
	<span class="rem">-</span>
	<span class="rem">-	describe &quot;bower&quot;, -&gt;</span>
	<span class="rem">-		it &quot;serves Bower resources&quot;, (done)-&gt;</span>
	<span class="rem">-			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>
	<span class="rem">-				res.statusCode.should.equal 200</span>
	<span class="rem">-				done()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/.gitignore b/src/client/.gitignore</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1 @@</span>
	<span class="add">+bundle.js</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.html b/src/client/index.html</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,20 @@</span>
	<span class="add">+&lt;html&gt;</span>
	<span class="add">+&lt;head&gt;</span>
	<span class="add">+	&lt;title&gt;To Do - Angular JS&lt;/title&gt;</span>
	<span class="add">+	&lt;script src=&quot;bower/angular/angular.js&quot;&gt;&lt;/script&gt;</span>
	<span class="add">+	&lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;</span>
	<span class="add">+&lt;/head&gt;</span>
	<span class="add">+&lt;body ng:app=&quot;todo&quot;&gt;</span>
	<span class="add">+	&lt;header&gt;</span>
	<span class="add">+		&lt;h1&gt;To Do&lt;/h1&gt;</span>
	<span class="add">+	&lt;/header&gt;</span>
	<span class="add">+	&lt;section ng:controller=&quot;todo&quot;&gt;</span>
	<span class="add">+		&lt;form ng:submit=&quot;Todos.add()&quot;&gt;</span>
	<span class="add">+			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; /&gt;</span>
	<span class="add">+		&lt;/form&gt;</span>
	<span class="add">+		&lt;ol ng:cloak&gt;</span>
	<span class="add">+			&lt;li ng:repeat=&quot;todo in todos&quot;&gt;{{todo}}&lt;/li&gt;</span>
	<span class="add">+		&lt;/ol&gt;</span>
	<span class="add">+	&lt;/section&gt;</span>
	<span class="add">+&lt;/body&gt;</span>
	<span class="add">+&lt;/html&gt;</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/main.coffee b/src/client/main.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1 @@</span>
	<span class="add">+todo = require &quot;./todo/module.coffee&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,9 @@</span>
	<span class="add">+module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="add">+</span>
	<span class="add">+todo.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="add">+	$scope.todos = []</span>
	<span class="add">+	Todos = $scope.Todos =</span>
	<span class="add">+		current: &quot;&quot;</span>
	<span class="add">+		add: -&gt;</span>
	<span class="add">+			$scope.todos.push Todos.current</span>
	<span class="add">+			Todos.current = &quot;&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/unit.coffee b/src/client/todo/unit.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,20 @@</span>
	<span class="add">+describe &quot;todo controller&quot;, -&gt;</span>
	<span class="add">+	beforeEach module &quot;todo&quot;</span>
	<span class="add">+</span>
	<span class="add">+	$scope = null</span>
	<span class="add">+	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="add">+		$scope = $rootScope.$new()</span>
	<span class="add">+		$controller &quot;todo&quot;, {$scope}</span>
	<span class="add">+</span>
	<span class="add">+	it &quot;exposes todos&quot;, -&gt;</span>
	<span class="add">+		expect($scope.todos).toEqual([], &quot;todos should be array&quot;)</span>
	<span class="add">+		expect($scope.Todos).toBeDefined(&quot;Todos should be object&quot;)</span>
	<span class="add">+		expect($scope.Todos.current).toBe(&quot;&quot;, &quot;Todos should have current (empty) reference&quot;)</span>
	<span class="add">+		expect(typeof $scope.Todos.add).toBe(&quot;function&quot;, &quot;Todos.add should be function&quot;)</span>
	<span class="add">+</span>
	<span class="add">+	it &quot;can add todo&quot;, -&gt;</span>
	<span class="add">+		$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="add">+		$scope.Todos.add()</span>
	<span class="add">+		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="add">+		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="add">+		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,70 @@</span>
	<span class="add">+Q = require 'q'</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+World = require &quot;../support/worlds&quot;</span>
	<span class="add">+module.exports = -&gt;</span>
	<span class="add">+	@Before (done)-&gt;</span>
	<span class="add">+		# opening a browser is like entering a whole new world...</span>
	<span class="add">+		@world = new World()</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@After (done)-&gt;</span>
	<span class="add">+		@world?.destroy()</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@Given /on the landing page/, (done)-&gt;</span>
	<span class="add">+		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		.then(done)</span>
	<span class="add">+</span>
	<span class="add">+	@When /goes to the (?:site|landing page)(?: directly)?/, (done) -&gt;</span>
	<span class="add">+		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		.then(done)</span>
	<span class="add">+</span>
	<span class="add">+	@When /enters &quot;([^&quot;]+)&quot; into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, done)-&gt;</span>
	<span class="add">+		@world.fill(field, value, true)</span>
	<span class="add">+		.then(-&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	<span class="add">+	@When /enters into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (field, lines, done)-&gt;</span>
	<span class="add">+		Q.all([@world.fill(field, line, true) for line in lines.split '\n'])</span>
	<span class="add">+		.then(-&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	Check for existance of a string in the title</span>
	<span class="add">+	###</span>
	<span class="add">+	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )title$/, (what, done) -&gt;</span>
	<span class="add">+		@world.title()</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="add">+				&quot;'#{what}' expected in title&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	Check for existance of a string in a selector</span>
	<span class="add">+	###</span>
	<span class="add">+	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )&quot;([^&quot;]*)&quot;$/, (what, where, done) -&gt;</span>
	<span class="add">+		@world.text(where)</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="add">+				&quot;'#{what}' expected in '#{where}'&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span><span class="reverse"><span class="hash"> </span>
	<span class="add">+</span>
	<span class="add">+	@Then /invited to enter a(?:nother)? &quot;([^&quot;]*)&quot;/, (value, done)-&gt;</span>
	<span class="add">+		@world.placeholder(&quot;input[type=text]&quot;)</span>
	<span class="add">+		.then (placeholder)-&gt;</span>
	<span class="add">+			placeholder.should.match ///#{value}///,</span>
	<span class="add">+				&quot;placeholder should be inviting.&quot;</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	<span class="add">+</span>
	<span class="add">+	@Then /page shows &quot;([^&quot;]+)&quot;/, (content, done)-&gt;</span>
	<span class="add">+		@world.text(&quot;body&quot;)</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.should.match ///#{content}///</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/buildmore.coffee b/src/features/behavior/steps/buildmore.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,6 @@</span>
	<span class="add">+module.exports = -&gt;</span>
	<span class="add">+	@Then /MORE FEATURES/, (callback) -&gt;</span>
	<span class="add">+		throw &quot;BUILD MORE FEATURES&quot;</span>
	<span class="add">+		# express the regexp above with the code you wish you had</span>
	<span class="add">+		callback.pending()</span>
	<span class="add">+</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds.coffee b/src/features/behavior/support/worlds.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,2 @@</span>
	<span class="add">+module.exports = require &quot;./worlds/protractor&quot;</span>
	<span class="add">+# module.exports = require &quot;./worlds/zombie&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,40 @@</span>
	<span class="add">+Q = require &quot;q&quot;</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+webdriver = require &quot;selenium-webdriver&quot;</span>
	<span class="add">+Protractor = require &quot;protractor&quot;</span>
	<span class="add">+By = Protractor.By</span>
	<span class="add">+</span>
	<span class="add">+module.exports = class World</span>
	<span class="add">+	constructor: -&gt;</span>
	<span class="add">+		@driver = new webdriver.Builder().</span>
	<span class="add">+			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="add">+			withCapabilities(webdriver.Capabilities.firefox()).build();</span>
	<span class="add">+</span>
	<span class="add">+		@driver.manage().timeouts().setScriptTimeout(10000);</span>
	<span class="add">+		@ptor = Protractor.wrapDriver(@driver);</span>
	<span class="add">+</span>
	<span class="add">+	visit: (url)-&gt;</span>
	<span class="add">+		Q @ptor.get(url)</span>
	<span class="add">+</span>
	<span class="add">+	find: (selector)-&gt;</span>
	<span class="add">+		@ptor.findElement By.css selector</span>
	<span class="add">+</span>
	<span class="add">+	text: (where)-&gt;</span>
	<span class="add">+		Q @find(where).getText()</span>
	<span class="add">+</span>
	<span class="add">+	title: -&gt;</span>
	<span class="add">+		Q @ptor.getTitle()</span>
	<span class="add">+</span>
	<span class="add">+	placeholder: (where)-&gt;</span>
	<span class="add">+		Q @find(where).getAttribute 'placeholder'</span>
	<span class="add">+</span>
	<span class="add">+	fill: (what, value, submit = false)-&gt;</span>
	<span class="add">+		input = @ptor.findElement(By.name(what))</span>
	<span class="add">+		deferred = input.sendKeys(value)</span>
	<span class="add">+		if submit</span>
	<span class="add">+			deferred.then -&gt;</span>
	<span class="add">+				input.submit()</span>
	<span class="add">+		Q deferred</span>
	<span class="add">+</span>
	<span class="add">+	destroy: (done)-&gt;</span>
	<span class="add">+		@driver.quit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/zombie.coffee b/src/features/behavior/support/worlds/zombie.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,21 @@</span>
	<span class="add">+Zombie = require &quot;zombie&quot;</span>
	<span class="add">+</span>
	<span class="add">+module.exports = class World</span>
	<span class="add">+	constructor: -&gt;</span>
	<span class="add">+		@browser = new Zombie()</span>
	<span class="add">+</span>
	<span class="add">+	visit: (url)-&gt;</span>
	<span class="add">+		@browser.visit(url)</span>
	<span class="add">+</span>
	<span class="add">+	find: (selector)-&gt;</span>
	<span class="add">+		@browser.document.querySelectorAll selector</span>
	<span class="add">+</span>
	<span class="add">+	text: (where)-&gt;</span>
	<span class="add">+		@browser.text where</span>
	<span class="add">+</span>
	<span class="add">+	fill: (what, value)-&gt;</span>
	<span class="add">+		@browser.fill what, value</span>
	<span class="add">+</span>
	<span class="add">+	submit: (fieldName)-&gt;</span>
	<span class="add">+		field = @browser.document.querySelector &quot;[name='#{fieldName}']&quot;</span>
	<span class="add">+		field.form.submit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/edith/Edith.feature b/src/features/behavior/users/edith/Edith.feature</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,54 @@</span>
	<span class="add">+Feature: Site is available</span>
	<span class="add">+	As a user of our site</span>
	<span class="add">+	Edith wants to see the site</span>
	<span class="add">+	So that she knows it exists</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: Direct Browsing</span>
	<span class="add">+		Given Edith has her browser open</span>
	<span class="add">+		When she goes to the site directly</span>
	<span class="add">+		Then she should see &quot;Angular JS&quot; in the title</span>
	<span class="add">+</span>
	<span class="add">+Feature: Site loads</span>
	<span class="add">+	As a fly-fishing enthusiest</span>
	<span class="add">+	Edith wants the site to load</span>
	<span class="add">+	So she can list her fly-fishing to-do list</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: Landing bootstrap</span>
	<span class="add">+		Given Edith has her browser open</span>
	<span class="add">+		When she goes to the landing page</span>
	<span class="add">+		Then she should see &quot;To Do&quot; in the title</span>
	<span class="add">+		And she should see &quot;To Do&quot; in the &quot;header&quot;</span>
	<span class="add">+		And she should be invited to enter a &quot;to-do&quot; item</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: First to-do</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		When she enters &quot;Buy peacock feathers&quot; into the &quot;to-do&quot; box</span>
	<span class="add">+		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: Second to-do</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		When she enters into a &quot;to-do&quot; box</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+			Buy peacock feathers</span>
	<span class="add">+			Use peacock feathers to make a fly</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="add">+		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="add">+</span>
	<span class="add">+	# Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="add">+	# that the site has generated a unique URL for her -- there is some</span>
	<span class="add">+	# explanatory text to that effect.</span>
	<span class="add">+	Scenario: Saves list</span>
	<span class="add">+		Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="add">+		And she leaves the page</span>
	<span class="add">+		When she goes to the &quot;saved&quot; url</span>
	<span class="add">+		Then the page shows &quot;Buy peackock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="add">+		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="add">+		# Satisfied, she goes back to sleep</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: More Features!</span>
	<span class="add">+		Given Edith has her browser open</span>
	<span class="add">+		When she goes to the site</span>
	<span class="add">+		Then she wants MORE FEATURES!</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,18 @@</span>
	<span class="add">+path = require &quot;path&quot;</span>
	<span class="add">+express = require &quot;express&quot;</span>
	<span class="add">+app = express()</span>
	<span class="add">+</span>
	<span class="add">+app.get '/bundle.js', (req, res)-&gt;</span>
	<span class="add">+	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="add">+	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;bundle.js&quot;</span>
	<span class="add">+</span>
	<span class="add">+app.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="add">+	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="add">+	res.sendfile path.join __dirname, &quot;..&quot;, &quot;..&quot;, &quot;bower_components&quot;, req.params.module, req.params.file</span><span class="reverse"><span class="hash">	</span>
	<span class="add">+</span>
	<span class="add">+app.get '/', (req, res)-&gt;</span>
	<span class="add">+	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;index.html&quot;</span>
	<span class="add">+</span>
	<span class="add">+module.exports =</span>
	<span class="add">+	serve: -&gt;</span>
	<span class="add">+		app.listen(3000)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,76 @@</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+server = require &quot;../server&quot;</span>
	<span class="add">+request = require &quot;request&quot;</span>
	<span class="add">+</span>
	<span class="add">+get = (path, d, cb)-&gt;</span>
	<span class="add">+	request path, (e, r, b)-&gt;</span>
	<span class="add">+		cb e, r, b</span>
	<span class="add">+		d()</span>
	<span class="add">+</span>
	<span class="add">+index = (d, cb)-&gt; get &quot;http://localhost:3000/&quot;, d, cb</span>
	<span class="add">+bundle = (d, cb)-&gt; get &quot;http://localhost:3000/bundle.js&quot;, d, cb</span>
	<span class="add">+</span>
	<span class="add">+Callbacks =</span>
	<span class="add">+	OK: (e, res)-&gt;</span>
	<span class="add">+		res.statusCode.should.equal 200</span>
	<span class="add">+</span>
	<span class="add">+describe &quot;Server&quot;, -&gt;</span>
	<span class="add">+</span>
	<span class="add">+	before -&gt;</span>
	<span class="add">+		server.serve()</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;/&quot;, -&gt;</span>
	<span class="add">+		it &quot;binds on a known port&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (err, response)-&gt;</span>
	<span class="add">+				should.not.exist err, &quot;Error when GETting (#{err})&quot;</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns 200 when requesting /&quot;, (done)-&gt;</span>
	<span class="add">+			index done, Callbacks.OK</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns an index page at /&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match /^&lt;html&gt;/</span>
	<span class="add">+				body.should.match /&lt;\/html&gt;$/</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;index.html&quot;, -&gt;</span>
	<span class="add">+		it &quot;returns a page with a title&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match ///</span>
	<span class="add">+						&lt;title&gt;[^&lt;]*Angular\sJS[^&lt;]*&lt;/title&gt;</span>
	<span class="add">+					///,</span>
	<span class="add">+					&quot;page needs a title&quot;</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns a page with a header&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match /&lt;header&gt;/</span>
	<span class="add">+				body.should.match /&lt;\/header&gt;/</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns a page with input fields&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match /&lt;input[^&gt;]*&gt;/</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;sets the placeholder on the input&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				matches = body.match /&lt;input[^&gt;]+placeholder=&quot;([^&quot;]+)&quot;[^&gt;]+\/&gt;/</span>
	<span class="add">+				should.exist matches</span>
	<span class="add">+				matches[1].should.match /to-do/</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;bundle.js&quot;, -&gt;</span>
	<span class="add">+		it &quot;returns a bundle&quot;, (done)-&gt;</span>
	<span class="add">+			bundle done, Callbacks.OK</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns a js bundle&quot;, (done)-&gt;</span>
	<span class="add">+			bundle done, (e, res)-&gt;</span>
	<span class="add">+				res.headers[&quot;content-type&quot;].should.equal &quot;text/javascript&quot;</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;defines an Angular module&quot;, (done)-&gt;</span>
	<span class="add">+			bundle done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match ///</span>
	<span class="add">+					angular\.module\(&quot;todo&quot;</span>
	<span class="add">+				///</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;bower&quot;, -&gt;</span>
	<span class="add">+		it &quot;serves Bower resources&quot;, (done)-&gt;</span>
	<span class="add">+			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>
	<span class="add">+				res.statusCode.should.equal 200</span>
	<span class="add">+				done()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/steps/browsing.coffee b/test/behavior/steps/browsing.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,70 +0,0 @@</span>
	<span class="rem">-Q = require 'q'</span>
	<span class="rem">-should = require &quot;should&quot;</span>
	<span class="rem">-World = require &quot;../support/worlds&quot;</span>
	<span class="rem">-module.exports = -&gt;</span>
	<span class="rem">-	@Before (done)-&gt;</span>
	<span class="rem">-		# opening a browser is like entering a whole new world...</span>
	<span class="rem">-		@world = new World()</span>
	<span class="rem">-		done()</span>
	<span class="rem">-</span>
	<span class="rem">-	@After (done)-&gt;</span>
	<span class="rem">-		@world?.destroy()</span>
	<span class="rem">-		done()</span>
	<span class="rem">-</span>
	<span class="rem">-	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="rem">-		done()</span>
	<span class="rem">-</span>
	<span class="rem">-	@Given /on the landing page/, (done)-&gt;</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="rem">-		.then(done)</span>
	<span class="rem">-</span>
	<span class="rem">-	@When /goes to the (?:site|landing page)(?: directly)?/, (done) -&gt;</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="rem">-		.then(done)</span>
	<span class="rem">-</span>
	<span class="rem">-	@When /enters &quot;([^&quot;]+)&quot; into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, done)-&gt;</span>
	<span class="rem">-		@world.fill(field, value, true)</span>
	<span class="rem">-		.then(-&gt;done())</span>
	<span class="rem">-		.catch(done)</span>
	<span class="rem">-</span>
	<span class="rem">-	@When /enters into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (field, lines, done)-&gt;</span>
	<span class="rem">-		Q.all([@world.fill(field, line, true) for line in lines.split '\n'])</span>
	<span class="rem">-		.then(-&gt;done())</span>
	<span class="rem">-		.catch(done)</span>
	<span class="rem">-</span>
	<span class="rem">-	###</span>
	<span class="rem">-	Check for existance of a string in the title</span>
	<span class="rem">-	###</span>
	<span class="rem">-	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )title$/, (what, done) -&gt;</span>
	<span class="rem">-		@world.title()</span>
	<span class="rem">-		.then (text)-&gt;</span>
	<span class="rem">-			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="rem">-				&quot;'#{what}' expected in title&quot;</span>
	<span class="rem">-			done()</span>
	<span class="rem">-		.catch done</span>
	<span class="rem">-</span>
	<span class="rem">-	###</span>
	<span class="rem">-	Check for existance of a string in a selector</span>
	<span class="rem">-	###</span>
	<span class="rem">-	@Then /should see &quot;([^&quot;]*)&quot; in (?:the )&quot;([^&quot;]*)&quot;$/, (what, where, done) -&gt;</span>
	<span class="rem">-		@world.text(where)</span>
	<span class="rem">-		.then (text)-&gt;</span>
	<span class="rem">-			text.indexOf(what).should.be.greaterThan -1,</span>
	<span class="rem">-				&quot;'#{what}' expected in '#{where}'&quot;</span>
	<span class="rem">-			done()</span>
	<span class="rem">-		.catch done </span>
	<span class="rem">-</span>
	<span class="rem">-	@Then /invited to enter a(?:nother)? &quot;([^&quot;]*)&quot;/, (value, done)-&gt;</span>
	<span class="rem">-		@world.placeholder(&quot;input[type=text]&quot;)</span>
	<span class="rem">-		.then (placeholder)-&gt;</span>
	<span class="rem">-			placeholder.should.match ///#{value}///,</span>
	<span class="rem">-				&quot;placeholder should be inviting.&quot;</span>
	<span class="rem">-			done()</span>
	<span class="rem">-		.catch done</span>
	<span class="rem">-</span>
	<span class="rem">-	@Then /page shows &quot;([^&quot;]+)&quot;/, (content, done)-&gt;</span>
	<span class="rem">-		@world.text(&quot;body&quot;)</span>
	<span class="rem">-		.then (text)-&gt;</span>
	<span class="rem">-			text.should.match ///#{content}///</span>
	<span class="rem">-			done()</span>
	<span class="rem">-		.catch done</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/steps/buildmore.coffee b/test/behavior/steps/buildmore.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,6 +0,0 @@</span>
	<span class="rem">-module.exports = -&gt;</span>
	<span class="rem">-	@Then /MORE FEATURES/, (callback) -&gt;</span>
	<span class="rem">-		throw &quot;BUILD MORE FEATURES&quot;</span>
	<span class="rem">-		# express the regexp above with the code you wish you had</span>
	<span class="rem">-		callback.pending()</span>
	<span class="rem">-</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds.coffee b/test/behavior/support/worlds.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,2 +0,0 @@</span>
	<span class="rem">-module.exports = require &quot;./worlds/protractor&quot;</span>
	<span class="rem">-# module.exports = require &quot;./worlds/zombie&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds/protractor.coffee b/test/behavior/support/worlds/protractor.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,40 +0,0 @@</span>
	<span class="rem">-Q = require &quot;q&quot;</span>
	<span class="rem">-should = require &quot;should&quot;</span>
	<span class="rem">-webdriver = require &quot;selenium-webdriver&quot;</span>
	<span class="rem">-Protractor = require &quot;protractor&quot;</span>
	<span class="rem">-By = Protractor.By</span>
	<span class="rem">-</span>
	<span class="rem">-module.exports = class World</span>
	<span class="rem">-	constructor: -&gt;</span>
	<span class="rem">-		@driver = new webdriver.Builder().</span>
	<span class="rem">-			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="rem">-			withCapabilities(webdriver.Capabilities.firefox()).build();</span>
	<span class="rem">-</span>
	<span class="rem">-		@driver.manage().timeouts().setScriptTimeout(10000);</span>
	<span class="rem">-		@ptor = Protractor.wrapDriver(@driver);</span>
	<span class="rem">-</span>
	<span class="rem">-	visit: (url)-&gt;</span>
	<span class="rem">-		Q @ptor.get(url)</span>
	<span class="rem">-</span>
	<span class="rem">-	find: (selector)-&gt;</span>
	<span class="rem">-		@ptor.findElement By.css selector</span>
	<span class="rem">-</span>
	<span class="rem">-	text: (where)-&gt;</span>
	<span class="rem">-		Q @find(where).getText()</span>
	<span class="rem">-</span>
	<span class="rem">-	title: -&gt;</span>
	<span class="rem">-		Q @ptor.getTitle()</span>
	<span class="rem">-</span>
	<span class="rem">-	placeholder: (where)-&gt;</span>
	<span class="rem">-		Q @find(where).getAttribute 'placeholder'</span>
	<span class="rem">-</span>
	<span class="rem">-	fill: (what, value, submit = false)-&gt;</span>
	<span class="rem">-		input = @ptor.findElement(By.name(what))</span>
	<span class="rem">-		deferred = input.sendKeys(value)</span>
	<span class="rem">-		if submit</span>
	<span class="rem">-			deferred.then -&gt;</span>
	<span class="rem">-				input.submit()</span>
	<span class="rem">-		Q deferred</span>
	<span class="rem">-</span>
	<span class="rem">-	destroy: (done)-&gt;</span>
	<span class="rem">-		@driver.quit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/support/worlds/zombie.coffee b/test/behavior/support/worlds/zombie.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,21 +0,0 @@</span>
	<span class="rem">-Zombie = require &quot;zombie&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-module.exports = class World</span>
	<span class="rem">-	constructor: -&gt;</span>
	<span class="rem">-		@browser = new Zombie()</span>
	<span class="rem">-</span>
	<span class="rem">-	visit: (url)-&gt;</span>
	<span class="rem">-		@browser.visit(url)</span>
	<span class="rem">-</span>
	<span class="rem">-	find: (selector)-&gt;</span>
	<span class="rem">-		@browser.document.querySelectorAll selector</span>
	<span class="rem">-</span>
	<span class="rem">-	text: (where)-&gt;</span>
	<span class="rem">-		@browser.text where</span>
	<span class="rem">-</span>
	<span class="rem">-	fill: (what, value)-&gt;</span>
	<span class="rem">-		@browser.fill what, value</span>
	<span class="rem">-</span>
	<span class="rem">-	submit: (fieldName)-&gt;</span>
	<span class="rem">-		field = @browser.document.querySelector &quot;[name='#{fieldName}']&quot;</span>
	<span class="rem">-		field.form.submit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/test/behavior/users/edith/Edith.feature b/test/behavior/users/edith/Edith.feature</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,54 +0,0 @@</span>
	<span class="rem">-Feature: Site is available</span>
	<span class="rem">-	As a user of our site</span>
	<span class="rem">-	Edith wants to see the site</span>
	<span class="rem">-	So that she knows it exists</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: Direct Browsing</span>
	<span class="rem">-		Given Edith has her browser open</span>
	<span class="rem">-		When she goes to the site directly</span>
	<span class="rem">-		Then she should see &quot;Angular JS&quot; in the title</span>
	<span class="rem">-</span>
	<span class="rem">-Feature: Site loads</span>
	<span class="rem">-	As a fly-fishing enthusiest</span>
	<span class="rem">-	Edith wants the site to load</span>
	<span class="rem">-	So she can list her fly-fishing to-do list</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: Landing bootstrap</span>
	<span class="rem">-		Given Edith has her browser open</span>
	<span class="rem">-		When she goes to the landing page</span>
	<span class="rem">-		Then she should see &quot;To Do&quot; in the title</span>
	<span class="rem">-		And she should see &quot;To Do&quot; in the &quot;header&quot;</span>
	<span class="rem">-		And she should be invited to enter a &quot;to-do&quot; item</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: First to-do</span>
	<span class="rem">-		Given Edith is on the landing page</span>
	<span class="rem">-		When she enters &quot;Buy peacock feathers&quot; into the &quot;to-do&quot; box</span>
	<span class="rem">-		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: Second to-do</span>
	<span class="rem">-		Given Edith is on the landing page</span>
	<span class="rem">-		When she enters into a &quot;to-do&quot; box</span>
	<span class="rem">-			&quot;&quot;&quot;</span>
	<span class="rem">-			Buy peacock feathers</span>
	<span class="rem">-			Use peacock feathers to make a fly</span>
	<span class="rem">-			&quot;&quot;&quot;</span>
	<span class="rem">-		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="rem">-		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="rem">-		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="rem">-</span>
	<span class="rem">-	# Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="rem">-	# that the site has generated a unique URL for her -- there is some</span>
	<span class="rem">-	# explanatory text to that effect.</span>
	<span class="rem">-	Scenario: Saves list</span>
	<span class="rem">-		Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="rem">-		And she leaves the page</span>
	<span class="rem">-		When she goes to the &quot;saved&quot; url</span>
	<span class="rem">-		Then the page shows &quot;Buy peackock feathers&quot;</span>
	<span class="rem">-		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="rem">-		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="rem">-		# Satisfied, she goes back to sleep</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: More Features!</span>
	<span class="rem">-		Given Edith has her browser open</span>
	<span class="rem">-		When she goes to the site</span>
	<span class="rem">-		Then she wants MORE FEATURES!</span>

	</pre>

<div class="commit">
	<h3><span class="hash">3d268c3</span>  Save bower dependencies.</h3>
	<!--
	<pre>
	<span class="nrm">bower.json | 12 </span><span class="add">++++++++++++</span>
	<span class="nrm">1 file changed, 12 insertions(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/bower.json b/bower.json</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,12 @@</span>
	<span class="add">+{</span>
	<span class="add">+  &quot;ignore&quot;: [</span>
	<span class="add">+    &quot;**/.*&quot;,</span>
	<span class="add">+    &quot;node_modules&quot;,</span>
	<span class="add">+    &quot;bower_components&quot;</span>
	<span class="add">+  ],</span>
	<span class="add">+  &quot;dependencies&quot;: {</span>
	<span class="add">+    &quot;angular-mocks&quot;: &quot;~1.0.8&quot;,</span>
	<span class="add">+    &quot;angular&quot;: &quot;~1.0.8&quot;</span>
	<span class="add">+  },</span>
	<span class="add">+  &quot;private&quot;: true</span>
	<span class="add">+}</span>

	</pre>

<div class="commit">
	<h3><span class="hash">b92echash</span>  Added karma coverage.</h3>
	<!--
	<pre>
	<span class="nrm">.gitignore       | 1 </span><span class="add">+</span>
	<span class="nrm">Gruntfile.coffee | 7 </span><span class="add">+++++++</span>
	<span class="nrm">package.json     | 3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">3 files changed, 10 insertions(+), 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.gitignore b/.gitignore</span>
	<span class="nfo">@@ -1,3 +1,4 @@</span>
	<span class="nrm">node_modules</span>
	<span class="nrm">bower_components</span>
	<span class="nrm">selenium*</span>
	<span class="add">+coverage</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -14,6 +14,13 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				options:</span>
	<span class="nrm">					browsers: [&quot;PhantomJS&quot;]</span>
	<span class="nrm">					frameworks: [&quot;jasmine&quot;]</span>
	<span class="add">+					preprocessors:</span>
	<span class="add">+						&quot;src/client/bundle.js&quot;: &quot;coverage&quot;</span>
	<span class="add">+						&quot;src/**/*.coffee&quot;: &quot;coffee&quot;</span>
	<span class="add">+					reporters: [</span>
	<span class="add">+						'coverage'</span>
	<span class="add">+						'dots'</span>
	<span class="add">+					]</span>
	<span class="nrm">					singleRun: true</span>
	<span class="nrm">					files: [</span>
	<span class="nrm">						&quot;bower_components/angular/angular.js&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -24,7 +24,8 @@</span>
	<span class="nrm"> &quot;selenium-webdriver&quot;: &quot;~2.35.0&quot;,</span>
	<span class="nrm"> &quot;should&quot;: &quot;~1.2.2&quot;,</span>
	<span class="nrm"> &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="rem">-    &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;</span>
	<span class="add">+    &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="add">+    &quot;karma-coverage&quot;: &quot;~0.1.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">6a9644c</span>  Finished defining tasks.</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/steps/browsing.coffee | 15 </span><span class="add">+++++++++++++</span><span class="rem">--</span>
	<span class="nrm">1 file changed, 13 insertions(+), 2 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -14,14 +14,25 @@</span> module.exports = -&gt;
	<span class="nrm">	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="nrm">		done()</span>

	<span class="rem">-	@Given /on the landing page/, (done)-&gt;</span>
	<span class="add">+	@Given /has entered a &quot;([^&quot;]*)&quot; item/, (value, done)-&gt;</span>
	<span class="add">+		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		.then(=&gt;@world.fill(value, value, true))</span>
	<span class="add">+		.then(=&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	<span class="add">+	@Given /(?:on|goes to) the (?:site|landing page)(?: directly)?/, (done)-&gt;</span>
	<span class="nrm">		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="nrm">		.then(done)</span>

	<span class="rem">-	@When /goes to the (?:site|landing page)(?: directly)?/, (done) -&gt;</span>
	<span class="add">+	@When /goes to the &quot;([^&quot;]*)&quot; url/, (url, done)-&gt;</span>
	<span class="nrm">		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="nrm">		.then(done)</span>

	<span class="add">+	@Given /leaves the page/, (done)-&gt;</span>
	<span class="add">+		# @world.reload()</span>
	<span class="add">+		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		.then -&gt;done()</span>
	<span class="add">+</span>
	<span class="nrm">	@When /enters &quot;([^&quot;]+)&quot; into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, done)-&gt;</span>
	<span class="nrm">		@world.fill(field, value, true)</span>
	<span class="nrm">		.then(-&gt;done())</span>

	</pre>

<div class="commit">
	<h3><span class="hash">a9cb8b8</span>  Cleaned up features and support code.</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/steps/browsing.coffee            |  6 </span><span class="add">++++++</span>
	<span class="nrm">src/features/behavior/steps/buildmore.coffee           |  1 </span><span class="rem">-</span>
	<span class="nrm">src/features/behavior/support/worlds/protractor.coffee |  3 </span><span class="add">+++</span>
	<span class="nrm">src/features/behavior/users/edith/Edith.feature        | 14 </span><span class="add">+++++++</span><span class="rem">-------</span>
	<span class="nrm">4 files changed, 16 insertions(+), 8 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -65,6 +65,9 @@</span> module.exports = -&gt;
	<span class="nrm">			done()</span>
	<span class="nrm">		.catch done </span>

	<span class="add">+	###</span>
	<span class="add">+	Check for reasonable placeholder value</span>
	<span class="add">+	###</span>
	<span class="nrm">	@Then /invited to enter a(?:nother)? &quot;([^&quot;]*)&quot;/, (value, done)-&gt;</span>
	<span class="nrm">		@world.placeholder(&quot;input[type=text]&quot;)</span>
	<span class="nrm">		.then (placeholder)-&gt;</span>
	<span class="nfo">@@ -73,6 +76,9 @@</span> module.exports = -&gt;
	<span class="nrm">			done()</span>
	<span class="nrm">		.catch done</span>

	<span class="add">+	###</span>
	<span class="add">+	Check for content somewhere in the body.</span>
	<span class="add">+	###</span>
	<span class="nrm">	@Then /page shows &quot;([^&quot;]+)&quot;/, (content, done)-&gt;</span>
	<span class="nrm">		@world.text(&quot;body&quot;)</span>
	<span class="nrm">		.then (text)-&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/buildmore.coffee b/src/features/behavior/steps/buildmore.coffee</span>
	<span class="nfo">@@ -3,4 +3,3 @@</span> module.exports = -&gt;
	<span class="nrm">		throw &quot;BUILD MORE FEATURES&quot;</span>
	<span class="nrm">		# express the regexp above with the code you wish you had</span>
	<span class="nrm">		callback.pending()</span>
	<span class="rem">-</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="nfo">@@ -16,6 +16,9 @@</span> module.exports = class World
	<span class="nrm">	visit: (url)-&gt;</span>
	<span class="nrm">		Q @ptor.get(url)</span>

	<span class="add">+	reload: -&gt;</span>
	<span class="add">+		Q @ptor.reload()</span>
	<span class="add">+</span>
	<span class="nrm">	find: (selector)-&gt;</span>
	<span class="nrm">		@ptor.findElement By.css selector</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/edith/Edith.feature b/src/features/behavior/users/edith/Edith.feature</span>
	<span class="nfo">@@ -40,15 +40,15 @@</span> Feature: Site loads
	<span class="nrm">	# that the site has generated a unique URL for her -- there is some</span>
	<span class="nrm">	# explanatory text to that effect.</span>
	<span class="nrm">	Scenario: Saves list</span>
	<span class="rem">-		Given Edith has entered a &quot;to-do&quot; item</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		And she enters into a &quot;to-do&quot; box</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+			Buy peacock feathers</span>
	<span class="add">+			Use peacock feathers to make a fly</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="nrm">		And she leaves the page</span>
	<span class="nrm">		When she goes to the &quot;saved&quot; url</span>
	<span class="rem">-		Then the page shows &quot;Buy peackock feathers&quot;</span>
	<span class="add">+		Then the page shows &quot;Buy peacock feathers&quot;</span>
	<span class="nrm">		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="nrm">		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="nrm">		# Satisfied, she goes back to sleep</span>
	<span class="rem">-</span>
	<span class="rem">-	Scenario: More Features!</span>
	<span class="rem">-		Given Edith has her browser open</span>
	<span class="rem">-		When she goes to the site</span>
	<span class="rem">-		Then she wants MORE FEATURES!</span>

	</pre>

<div class="commit">
	<h3><span class="hash">b251505</span>  Implemented auto local save.</h3>
	<!--
	<pre>
	<span class="nrm">src/client/todo/module.coffee |  9 </span><span class="add">+++++++</span><span class="rem">--</span>
	<span class="nrm">src/client/todo/unit.coffee   | 28 </span><span class="add">+++++++++++++++++++++++</span><span class="rem">-----</span>
	<span class="nrm">2 files changed, 30 insertions(+), 7 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="nfo">@@ -1,9 +1,14 @@</span>
	<span class="nrm">module.exports = todo = angular.module &quot;todo&quot;, []</span>

	<span class="rem">-todo.controller &quot;todo&quot;, ($scope)-&gt;</span>
	<span class="rem">-	$scope.todos = []</span>
	<span class="add">+todo.service &quot;storage&quot;, -&gt;</span>
	<span class="add">+	get: -&gt; JSON.parse window.localStorage[&quot;TDD-ToDos&quot;] || '[]'</span>
	<span class="add">+	set: (TDs)-&gt; window.localStorage[&quot;TDD-ToDos&quot;] = JSON.stringify TDs</span>
	<span class="add">+</span>
	<span class="add">+todo.controller &quot;todo&quot;, ($scope, storage)-&gt;</span>
	<span class="add">+	$scope.todos = storage.get()</span>
	<span class="nrm">	Todos = $scope.Todos =</span>
	<span class="nrm">		current: &quot;&quot;</span>
	<span class="nrm">		add: -&gt;</span>
	<span class="nrm">			$scope.todos.push Todos.current</span>
	<span class="nrm">			Todos.current = &quot;&quot;</span>
	<span class="add">+			storage.set $scope.todos</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/unit.coffee b/src/client/todo/unit.coffee</span>
	<span class="nfo">@@ -1,10 +1,12 @@</span>
	<span class="add">+$scope = null</span>
	<span class="add">+loadScope = inject ($rootScope, $controller)-&gt;</span>
	<span class="add">+	$scope = $rootScope.$new()</span>
	<span class="add">+	$controller &quot;todo&quot;, {$scope}</span>
	<span class="add">+</span>
	<span class="nrm">describe &quot;todo controller&quot;, -&gt;</span>
	<span class="nrm">	beforeEach module &quot;todo&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-	$scope = null</span>
	<span class="rem">-	beforeEach inject ($rootScope, $controller)-&gt;</span>
	<span class="rem">-		$scope = $rootScope.$new()</span>
	<span class="rem">-		$controller &quot;todo&quot;, {$scope}</span>
	<span class="add">+	beforeEach loadScope</span>
	<span class="add">+	afterEach -&gt; delete window.localStorage['TDD-ToDos']</span>
	<span class="nrm"></span>
	<span class="nrm">it &quot;exposes todos&quot;, -&gt;</span>
	<span class="nrm">		expect($scope.todos).toEqual([], &quot;todos should be array&quot;)</span>
	<span class="nfo">@@ -18,3 +20,19 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="nrm">		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="nrm">		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;localStorage&quot;, -&gt;</span>
	<span class="add">+		it &quot;saves to local storage&quot;, -&gt;</span>
	<span class="add">+			$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="add">+			$scope.Todos.add()</span>
	<span class="add">+			expect(window.localStorage['TDD-ToDos']).toBeDefined(&quot;TDD-ToDos were created on localStorage&quot;)</span>
	<span class="add">+			stored = window.localStorage['TDD-ToDos']</span>
	<span class="add">+			expect(stored).toEqual('[&quot;Todo 1&quot;]', &quot;Saves array of todos&quot;)</span>
	<span class="add">+</span>
	<span class="add">+		describe &quot;load&quot;, -&gt;</span>
	<span class="add">+			beforeEach -&gt;</span>
	<span class="add">+				window.localStorage['TDD-ToDos'] = '[&quot;Todo 1&quot;]'</span>
	<span class="add">+				loadScope()</span>
	<span class="add">+</span>
	<span class="add">+			it &quot;restores from local storage&quot;, -&gt;</span>
	<span class="add">+				expect($scope.todos).toEqual([&quot;Todo 1&quot;], &quot;Loaded one saved todo&quot;)</span>

	</pre>

<div class="commit">
	<h3><span class="hash">502e2d0</span>  General clean up.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee              | 14 </span><span class="add">+++++++</span><span class="rem">-------</span>
	<span class="nrm">package.json                  |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/server/server.coffee      |  6 </span><span class="add">++++</span><span class="rem">--</span>
	<span class="nrm">src/server/test/serves.coffee |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">4 files changed, 13 insertions(+), 11 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -2,7 +2,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	grunt.initConfig</span>
	<span class="nrm">		browserify:</span>
	<span class="nrm">			dev:</span>
	<span class="rem">-				files: &quot;src/client/bundle.js&quot;: [&quot;src/client/main.coffee&quot;]</span>
	<span class="add">+				files: &quot;build/bundle.js&quot;: [&quot;src/client/main.coffee&quot;]</span>
	<span class="nrm">				options:</span>
	<span class="nrm">					debug: true</span>
	<span class="nrm">					transform: [</span>
	<span class="nfo">@@ -25,7 +25,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					files: [</span>
	<span class="nrm">						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="nrm">						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="rem">-						&quot;src/client/bundle.js&quot;</span>
	<span class="add">+						&quot;build/bundle.js&quot;</span>
	<span class="nrm">						&quot;src/client/**/unit.coffee&quot;</span>
	<span class="nrm">					]</span>

	<span class="nfo">@@ -55,10 +55,10 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					&quot;sleep 1&quot;</span>
	<span class="nrm"></span>
	<span class="nrm">	cucumberjs:</span>
	<span class="rem">-			Edith:</span>
	<span class="rem">-				files: src: ['src/features/behavior/users/edith']</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					steps: 'src/features/behavior/steps'</span>
	<span class="add">+			users:</span>
	<span class="add">+				files: src: ['src/features/behavior/users/*']</span>
	<span class="add">+			options:</span>
	<span class="add">+				steps: 'src/features/behavior/steps'</span>
	<span class="nrm"></span>
	<span class="nrm">	watch:</span>
	<span class="nrm">			all:</span>
	<span class="nfo">@@ -92,7 +92,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;shell:install&quot;</span>
	<span class="nrm">		&quot;shell:selenium&quot;</span>
	<span class="nrm">		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:Edith&quot;</span>
	<span class="add">+		&quot;cucumberjs:users&quot;</span>
	<span class="nrm">		&quot;shell:selenium:kill&quot;</span>
	<span class="nrm">		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="nrm">	]</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -5,7 +5,7 @@</span>
	<span class="nrm">&quot;main&quot;: &quot;index.js&quot;,</span>
	<span class="nrm">&quot;scripts&quot;: {</span>
	<span class="nrm"> &quot;test&quot;: &quot;grunt test&quot;,</span>
	<span class="rem">-    &quot;serve&quot;: &quot;coffee -e \&quot;require('./server/server').serve()\&quot;&quot;</span>
	<span class="add">+    &quot;serve&quot;: &quot;coffee -e \&quot;require('./src/server/server').serve()\&quot;&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -2,13 +2,15 @@</span> path = require &quot;path&quot;
	<span class="nrm">express = require &quot;express&quot;</span>
	<span class="nrm">app = express()</span>

	<span class="add">+root = path.join __dirname, &quot;..&quot;, &quot;..&quot;</span>
	<span class="add">+</span>
	<span class="nrm">app.get '/bundle.js', (req, res)-&gt;</span>
	<span class="nrm">	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;bundle.js&quot;</span>
	<span class="add">+	res.sendfile path.join root, &quot;build&quot;, &quot;bundle.js&quot;</span>
	<span class="nrm">
	app.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="nrm">	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;..&quot;, &quot;bower_components&quot;, req.params.module, req.params.file	</span>
	<span class="add">+	res.sendfile path.join root, &quot;bower_components&quot;, req.params.module, req.params.file</span>
	<span class="nrm">
	app.get '/', (req, res)-&gt;</span>
	<span class="nrm">	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;index.html&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -51,7 +51,7 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm"></span>
	<span class="nrm">	it &quot;sets the placeholder on the input&quot;, (done)-&gt;</span>
	<span class="nrm">			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				matches = body.match /&lt;input[^&gt;]+placeholder=&quot;([^&quot;]+)&quot;[^&gt;]+\/&gt;/</span>
	<span class="add">+				matches = body.match /&lt;input[^&gt;]+placeholder=&quot;([^&quot;]+)&quot;/</span>
	<span class="nrm">				should.exist matches</span>
	<span class="nrm">				matches[1].should.match /to-do/</span>


	</pre>

<div class="commit">
	<h3><span class="hash">def81c4</span>  Switched to jade for index</h3>
	<!--
	<pre>
	<span class="nrm">.gitignore                    |  1 </span><span class="add">+</span>
	<span class="nrm">Gruntfile.coffee              |  7 </span><span class="add">+++++++</span>
	<span class="nrm">package.json                  |  3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">src/client/.gitignore         |  1 </span><span class="rem">-</span>
	<span class="nrm">src/client/index.html         | 20 </span><span class="rem">--------------------</span>
	<span class="nrm">src/client/index.jade         | 14 </span><span class="add">++++++++++++++</span>
	<span class="nrm">src/server/server.coffee      |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/server/test/serves.coffee |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">8 files changed, 26 insertions(+), 24 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.gitignore b/.gitignore</span>
	<span class="nfo">@@ -2,3 +2,4 @@</span> node_modules
	<span class="nrm">bower_components</span>
	<span class="nrm">selenium*</span>
	<span class="nrm">coverage</span>
	<span class="add">+build</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -9,6 +9,11 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">						&quot;caching-coffeeify&quot;</span>
	<span class="nrm">					]</span>

	<span class="add">+		jade:</span>
	<span class="add">+			index:</span>
	<span class="add">+				files:</span>
	<span class="add">+					&quot;build/index.html&quot;: &quot;src/client/index.jade&quot;</span>
	<span class="add">+</span>
	<span class="nrm">		karma:</span>
	<span class="nrm">			unit:</span>
	<span class="nrm">				options:</span>
	<span class="nfo">@@ -78,6 +83,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;grunt-shell-spawn&quot;</span>
	<span class="nrm">		&quot;grunt-browserify&quot;</span>
	<span class="nrm">		&quot;grunt-mocha-test&quot;</span>
	<span class="add">+		&quot;grunt-contrib-jade&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="nrm">	]</span>

	<span class="nfo">@@ -85,6 +91,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;build&quot;, [</span>
	<span class="nrm">		&quot;browserify:dev&quot;</span>
	<span class="add">+		&quot;jade:index&quot;</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;features&quot;, [</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -25,7 +25,8 @@</span>
	<span class="nrm"> &quot;should&quot;: &quot;~1.2.2&quot;,</span>
	<span class="nrm"> &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="nrm"> &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="rem">-    &quot;karma-coverage&quot;: &quot;~0.1.0&quot;</span>
	<span class="add">+    &quot;karma-coverage&quot;: &quot;~0.1.0&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/.gitignore b/src/client/.gitignore</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1 +0,0 @@</span>
	<span class="rem">-bundle.js</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.html b/src/client/index.html</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,20 +0,0 @@</span>
	<span class="rem">-&lt;html&gt;</span>
	<span class="rem">-&lt;head&gt;</span>
	<span class="rem">-	&lt;title&gt;To Do - Angular JS&lt;/title&gt;</span>
	<span class="rem">-	&lt;script src=&quot;bower/angular/angular.js&quot;&gt;&lt;/script&gt;</span>
	<span class="rem">-	&lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt;</span>
	<span class="rem">-&lt;/head&gt;</span>
	<span class="rem">-&lt;body ng:app=&quot;todo&quot;&gt;</span>
	<span class="rem">-	&lt;header&gt;</span>
	<span class="rem">-		&lt;h1&gt;To Do&lt;/h1&gt;</span>
	<span class="rem">-	&lt;/header&gt;</span>
	<span class="rem">-	&lt;section ng:controller=&quot;todo&quot;&gt;</span>
	<span class="rem">-		&lt;form ng:submit=&quot;Todos.add()&quot;&gt;</span>
	<span class="rem">-			&lt;input type=&quot;text&quot; name=&quot;to-do&quot; placeholder=&quot;to-do&quot; ng:model=&quot;Todos.current&quot; /&gt;</span>
	<span class="rem">-		&lt;/form&gt;</span>
	<span class="rem">-		&lt;ol ng:cloak&gt;</span>
	<span class="rem">-			&lt;li ng:repeat=&quot;todo in todos&quot;&gt;{{todo}}&lt;/li&gt;</span>
	<span class="rem">-		&lt;/ol&gt;</span>
	<span class="rem">-	&lt;/section&gt;</span>
	<span class="rem">-&lt;/body&gt;</span>
	<span class="rem">-&lt;/html&gt;</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.jade b/src/client/index.jade</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,14 @@</span>
	<span class="add">+!!!</span>
	<span class="add">+html</span>
	<span class="add">+	head</span>
	<span class="add">+		title To Do - Angular JS</span>
	<span class="add">+		script(src='bower/angular/angular.js')</span>
	<span class="add">+		script(src='bundle.js')</span>
	<span class="add">+	body(ng:app='todo')</span>
	<span class="add">+		header</span>
	<span class="add">+			h1 To Do</span>
	<span class="add">+		section(ng:controller='todo')</span>
	<span class="add">+			form(ng:submit='Todos.add()')</span>
	<span class="add">+				input(type='text', name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="add">+			ol(ng:cloak='ng:cloak')</span>
	<span class="add">+				li(ng:repeat='todo in todos') {{todo}}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -13,7 +13,7 @@</span> app.get '/bower/:module/:file', (req, res)-&gt;
	<span class="nrm">	res.sendfile path.join root, &quot;bower_components&quot;, req.params.module, req.params.file</span>
	<span class="nrm">
	app.get '/', (req, res)-&gt;</span>
	<span class="rem">-	res.sendfile path.join __dirname, &quot;..&quot;, &quot;client&quot;, &quot;index.html&quot;</span>
	<span class="add">+	res.sendfile path.join root, &quot;build&quot;, &quot;index.html&quot;</span>
	<span class="nrm">
	module.exports =</span>
	<span class="nrm">	serve: -&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -29,7 +29,7 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm"></span>
	<span class="nrm">	it &quot;returns an index page at /&quot;, (done)-&gt;</span>
	<span class="nrm">			index done, (e, r, body)-&gt;</span>
	<span class="rem">-				body.should.match /^&lt;html&gt;/</span>
	<span class="add">+				body.should.match /^&lt;!DOCTYPE html&gt;&lt;html&gt;/</span>
	<span class="nrm">				body.should.match /&lt;\/html&gt;$/</span>
	<span class="nrm"></span>
	<span class="nrm">describe &quot;index.html&quot;, -&gt;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">03cb4ad</span>  Added Jason user - who likes using pretty software.</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/users/jason/Jason.feature | 11 </span><span class="add">+++++++++++</span>
	<span class="nrm">1 file changed, 11 insertions(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/jason/Jason.feature b/src/features/behavior/users/jason/Jason.feature</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,11 @@</span>
	<span class="add">+@current</span>
	<span class="add">+Feature: Site looks nice</span>
	<span class="add">+	As a user of our side</span>
	<span class="add">+	Jason wants the site to be pleasant to use</span>
	<span class="add">+	So that he has an exceptional experience</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: basic styling</span>
	<span class="add">+		Given Jason has his browser open</span>
	<span class="add">+		When he visits the site</span>
	<span class="add">+		Then the &quot;header&quot; is centered</span>
	<span class="add">+		And the &quot;input&quot; is centered</span>

	</pre>

<div class="commit">
	<h3><span class="hash">92f29e2</span>  Added steps and support for checking if an item is &quot;centered&quot;.</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/steps/browsing.coffee        |  4 </span><span class="add">+</span><span class="rem">--</span>
	<span class="nrm">src/features/behavior/steps/stylistic.coffee       | 30 </span><span class="add">++++++++++++++++++++++</span>
	<span class="nrm">src/features/behavior/support/worlds.coffee        |  8 </span><span class="add">+++++</span><span class="rem">-</span>
	<span class="nrm">.../behavior/support/worlds/protractor.coffee      | 16 </span><span class="add">++++++++++++</span>
	<span class="nrm">4 files changed, 55 insertions(+), 3 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -4,7 +4,7 @@</span> World = require &quot;../support/worlds&quot;
	<span class="nrm">module.exports = -&gt;</span>
	<span class="nrm">	@Before (done)-&gt;</span>
	<span class="nrm">		# opening a browser is like entering a whole new world...</span>
	<span class="rem">-		@world = new World()</span>
	<span class="add">+		@world = World.get()</span>
	<span class="nrm">		done()</span>
	<span class="nrm"></span>
	<span class="nrm">@After (done)-&gt;</span>
	<span class="nfo">@@ -20,7 +20,7 @@</span> module.exports = -&gt;
	<span class="nrm">		.then(=&gt;done())</span>
	<span class="nrm">		.catch(done)</span>

	<span class="rem">-	@Given /(?:on|goes to) the (?:site|landing page)(?: directly)?/, (done)-&gt;</span>
	<span class="add">+	@Given /(?:on|goes to|visits) the (?:site|landing page)(?: directly)?/, (done)-&gt;</span>
	<span class="nrm">		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="nrm">		.then(done)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/stylistic.coffee b/src/features/behavior/steps/stylistic.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,30 @@</span>
	<span class="add">+Q = require 'q'</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+World = require &quot;../support/worlds&quot;</span>
	<span class="add">+</span>
	<span class="add">+module.exports = -&gt;</span>
	<span class="add">+	###</span>
	<span class="add">+	Check for bootstap on the page...</span>
	<span class="add">+	####</span>
	<span class="add">+	@Then /^bootstrap is loaded$/, (done)-&gt;</span>
	<span class="add">+		done() # No idea how to test this...</span>
	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	Verify an element is &quot;centered&quot;</span>
	<span class="add">+	###</span>
	<span class="add">+	@Then /the &quot;([^&quot;]+)&quot; is centered/, (elem, done)-&gt;</span>
	<span class="add">+		@world.coords(elem)</span>
	<span class="add">+		.then (coords)-&gt;</span>
	<span class="add">+			# The expected position is how far &quot;left&quot; the element should be</span>
	<span class="add">+			# This is a numerically quick way to calculate</span>
	<span class="add">+			expected = (coords.window.width - coords.element.width) / 2</span>
	<span class="add">+			actual = coords.element.left</span>
	<span class="add">+			absolute = Math.abs(actual - expected)</span>
	<span class="add">+			# The tolerance for positioning is some percentage of the window width,</span>
	<span class="add">+			# in this case 5%</span>
	<span class="add">+			tolerance = 0.05 * coords.window.width</span>
	<span class="add">+			# The error should be less than some tolerance</span>
	<span class="add">+			absolute.should.be.lessThan tolerance, &quot;centering #{elem}&quot;</span>
	<span class="add">+		.then(-&gt;done())</span>
	<span class="add">+		.catch(done)</span>
	<span class="add">+</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds.coffee b/src/features/behavior/support/worlds.coffee</span>
	<span class="nfo">@@ -1,2 +1,8 @@</span>
	<span class="rem">-module.exports = require &quot;./worlds/protractor&quot;</span>
	<span class="add">+World = require &quot;./worlds/protractor&quot;</span>
	<span class="nrm"># module.exports = require &quot;./worlds/zombie&quot;</span>
	<span class="add">+world = new World()</span>
	<span class="add">+module.exports =</span>
	<span class="add">+	get: -&gt;</span>
	<span class="add">+		if world.isDestroyed()</span>
	<span class="add">+			world = new World()</span>
	<span class="add">+		return world</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="nfo">@@ -4,6 +4,7 @@</span> webdriver = require &quot;selenium-webdriver&quot;
	<span class="nrm">Protractor = require &quot;protractor&quot;</span>
	<span class="nrm">By = Protractor.By</span>

	<span class="add">+_destroyed = false</span>
	<span class="nrm">module.exports = class World</span>
	<span class="nrm">	constructor: -&gt;</span>
	<span class="nrm">		@driver = new webdriver.Builder().</span>
	<span class="nfo">@@ -39,5 +40,20 @@</span> module.exports = class World
	<span class="nrm">				input.submit()</span>
	<span class="nrm">		Q deferred</span>

	<span class="add">+	coords: (elem)-&gt;</span>
	<span class="add">+		Q.all([</span>
	<span class="add">+			@find('html').getSize()</span>
	<span class="add">+			@find( elem ).getLocation()</span>
	<span class="add">+			@find( elem ).getSize()</span>
	<span class="add">+		]).spread (window, location, size)-&gt;</span>
	<span class="add">+			coords =</span>
	<span class="add">+				window: window</span>
	<span class="add">+				element:</span>
	<span class="add">+					width: size.width</span>
	<span class="add">+					left: location.x</span>
	<span class="add">+</span>
	<span class="nrm">	destroy: (done)-&gt;</span>
	<span class="add">+		_destroyed = true</span>
	<span class="nrm">		@driver.quit()</span>
	<span class="add">+</span>
	<span class="add">+	isDestroyed: -&gt; _destroyed</span>

	</pre>

<div class="commit">
	<h3><span class="hash">51b7c4a</span>  Added bootstrap and styling.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee              | 43 </span><span class="add">+++++++++++++++++++++++++++++++++++++++</span><span class="rem">----</span>
	<span class="nrm">bower.json                    | 10 </span><span class="add">++++++++</span><span class="rem">--</span>
	<span class="nrm">package.json                  |  3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">src/client/index.jade         | 19 </span><span class="add">++++++++++++</span><span class="rem">-------</span>
	<span class="nrm">src/client/page.less          |  8 </span><span class="add">++++++++</span>
	<span class="nrm">src/server/server.coffee      |  4 </span><span class="add">++++</span>
	<span class="nrm">src/server/test/serves.coffee | 15 </span><span class="add">++++++++++++++</span><span class="rem">-</span>
	<span class="nrm">7 files changed, 87 insertions(+), 15 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -14,6 +14,15 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				files:</span>
	<span class="nrm">					&quot;build/index.html&quot;: &quot;src/client/index.jade&quot;</span>

	<span class="add">+		less:</span>
	<span class="add">+			page:</span>
	<span class="add">+				options:</span>
	<span class="add">+					paths:[</span>
	<span class="add">+						&quot;bower_components/bootstrap/less&quot;</span>
	<span class="add">+					]</span>
	<span class="add">+				files:</span>
	<span class="add">+					&quot;build/page.css&quot;: [&quot;src/client/page.less&quot;]</span>
	<span class="add">+</span>
	<span class="nrm">		karma:</span>
	<span class="nrm">			unit:</span>
	<span class="nrm">				options:</span>
	<span class="nfo">@@ -60,18 +69,32 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					&quot;sleep 1&quot;</span>
	<span class="nrm"></span>
	<span class="nrm">	cucumberjs:</span>
	<span class="rem">-			users:</span>
	<span class="rem">-				files: src: ['src/features/behavior/users/*']</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+			current:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+				options:</span>
	<span class="add">+					tags: '@current'</span>
	<span class="add">+</span>
	<span class="nrm">			options:</span>
	<span class="nrm">				steps: 'src/features/behavior/steps'</span>
	<span class="nrm"></span>
	<span class="nrm">	watch:</span>
	<span class="add">+			build:</span>
	<span class="add">+				files:[</span>
	<span class="add">+					'src/client/**/*jade'</span>
	<span class="add">+					'src/client/**/*coffee'</span>
	<span class="add">+					'src/client/**/*less'</span>
	<span class="add">+				]</span>
	<span class="add">+				tasks: ['build']</span>
	<span class="nrm">			all:</span>
	<span class="nrm">				files: [</span>
	<span class="nrm">					'src/features/**/*coffee'</span>
	<span class="nrm">					'src/features/**/*feature'</span>
	<span class="nrm">					'src/server/**/*coffee'</span>
	<span class="rem">-					'src/client/**/*html'</span>
	<span class="add">+					'src/client/**/*jade'</span>
	<span class="nrm">					'src/client/**/*coffee'</span>
	<span class="nrm">					'src/client/**/*less'</span>
	<span class="nrm">				]</span>
	<span class="nfo">@@ -84,6 +107,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;grunt-browserify&quot;</span>
	<span class="nrm">		&quot;grunt-mocha-test&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-jade&quot;</span>
	<span class="add">+		&quot;grunt-contrib-less&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="nrm">	]</span>

	<span class="nfo">@@ -92,6 +116,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	grunt.registerTask &quot;build&quot;, [</span>
	<span class="nrm">		&quot;browserify:dev&quot;</span>
	<span class="nrm">		&quot;jade:index&quot;</span>
	<span class="add">+		&quot;less:page&quot;</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;features&quot;, [</span>
	<span class="nfo">@@ -99,7 +124,17 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;shell:install&quot;</span>
	<span class="nrm">		&quot;shell:selenium&quot;</span>
	<span class="nrm">		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:users&quot;</span>
	<span class="add">+		&quot;cucumberjs:all&quot;</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="add">+		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;feature&quot;, [</span>
	<span class="add">+		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:current&quot;</span>
	<span class="nrm">		&quot;shell:selenium:kill&quot;</span>
	<span class="nrm">		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="nrm">	]</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/bower.json b/bower.json</span>
	<span class="nfo">@@ -1,4 +1,6 @@</span>
	{
	<span class="add">+  &quot;name&quot;: &quot;tdd-angular&quot;,</span>
	<span class="add">+  &quot;version&quot;: &quot;0.0.0&quot;,</span>
	<span class="nrm">&quot;ignore&quot;: [</span>
	<span class="nrm"> &quot;**/.*&quot;,</span>
	<span class="nrm"> &quot;node_modules&quot;,</span>
	<span class="nfo">@@ -6,7 +8,11 @@</span>
	<span class="nrm">],</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;angular-mocks&quot;: &quot;~1.0.8&quot;,</span>
	<span class="rem">-    &quot;angular&quot;: &quot;~1.0.8&quot;</span>
	<span class="add">+    &quot;angular&quot;: &quot;~1.0.8&quot;,</span>
	<span class="add">+    &quot;bootstrap&quot;: &quot;~3.0.0&quot;</span>
	<span class="nrm">},</span>
	<span class="rem">-  &quot;private&quot;: true</span>
	<span class="add">+  &quot;private&quot;: true,</span>
	<span class="add">+  &quot;devDependencies&quot;: {</span>
	<span class="add">+    &quot;bootstrap&quot;: &quot;~3.0.0&quot;</span>
	<span class="add">+  }</span>
	}
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -26,7 +26,8 @@</span>
	<span class="nrm"> &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="nrm"> &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="nrm"> &quot;karma-coverage&quot;: &quot;~0.1.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;</span>
	<span class="add">+    &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.jade b/src/client/index.jade</span>
	<span class="nfo">@@ -2,13 +2,18 @@</span>
	<span class="nrm">html</span>
	<span class="nrm">	head</span>
	<span class="nrm">		title To Do - Angular JS</span>
	<span class="add">+		meta(name=&quot;viewport&quot;, content=&quot;width=device-width, initial-scale=1.0&quot;)</span>
	<span class="add">+		link(rel=&quot;stylesheet&quot;, href=&quot;page.css&quot;, media=&quot;screen&quot;)</span>
	<span class="nrm">		script(src='bower/angular/angular.js')</span>
	<span class="nrm">		script(src='bundle.js')</span>
	<span class="nrm">	body(ng:app='todo')</span>
	<span class="rem">-		header</span>
	<span class="rem">-			h1 To Do</span>
	<span class="rem">-		section(ng:controller='todo')</span>
	<span class="rem">-			form(ng:submit='Todos.add()')</span>
	<span class="rem">-				input(type='text', name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="rem">-			ol(ng:cloak='ng:cloak')</span>
	<span class="rem">-				li(ng:repeat='todo in todos') {{todo}}</span>
	<span class="add">+		.container</span>
	<span class="add">+			.jumbotron</span>
	<span class="add">+				header</span>
	<span class="add">+					h1 To Do</span>
	<span class="add">+				section.row(ng:controller='todo')</span>
	<span class="add">+					.col-md-6.col-md-offset-3</span>
	<span class="add">+						form(ng:submit='Todos.add()')</span>
	<span class="add">+							input(type='text', id=&quot;to-do&quot;, name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="add">+						ol(ng:cloak='ng:cloak')</span>
	<span class="add">+							li(ng:repeat='todo in todos') {{todo}}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/page.less b/src/client/page.less</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,8 @@</span>
	<span class="add">+@import &quot;bootstrap.less&quot;;</span>
	<span class="add">+</span>
	<span class="add">+#to-do {</span>
	<span class="add">+    font-size: larger;</span>
	<span class="add">+    padding: 10px;</span>
	<span class="add">+    margin-top: 2ex;</span>
	<span class="add">+    width: 100%;</span>
	<span class="add">+}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -4,6 +4,10 @@</span> app = express()
	<span class="nrm">
	root = path.join __dirname, &quot;..&quot;, &quot;..&quot;</span>

	<span class="add">+app.get '/page.css', (req, res)-&gt;</span>
	<span class="add">+	res.set &quot;content-type&quot;, &quot;text/css&quot;</span>
	<span class="add">+	res.sendfile path.join root, &quot;build&quot;, &quot;page.css&quot;</span>
	<span class="add">+</span>
	<span class="nrm">app.get '/bundle.js', (req, res)-&gt;</span>
	<span class="nrm">	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="nrm">	res.sendfile path.join root, &quot;build&quot;, &quot;bundle.js&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -7,8 +7,9 @@</span> get = (path, d, cb)-&gt;
	<span class="nrm">		cb e, r, b</span>
	<span class="nrm">		d()</span>

	<span class="rem">-index = (d, cb)-&gt; get &quot;http://localhost:3000/&quot;, d, cb</span>
	<span class="add">+index  = (d, cb)-&gt; get &quot;http://localhost:3000/&quot;, d, cb</span>
	<span class="nrm">bundle = (d, cb)-&gt; get &quot;http://localhost:3000/bundle.js&quot;, d, cb</span>
	<span class="add">+styles = (d, cb)-&gt; get &quot;http://localhost:3000/page.css&quot;, d, cb</span>
	<span class="nrm">
	Callbacks =</span>
	<span class="nrm">	OK: (e, res)-&gt;</span>
	<span class="nfo">@@ -55,6 +56,10 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">				should.exist matches</span>
	<span class="nrm">				matches[1].should.match /to-do/</span>

	<span class="add">+		it &quot;sets a viewport&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match /&lt;meta[^&gt;]+name=&quot;viewport&quot;/</span>
	<span class="add">+</span>
	<span class="nrm">	describe &quot;bundle.js&quot;, -&gt;</span>
	<span class="nrm">		it &quot;returns a bundle&quot;, (done)-&gt;</span>
	<span class="nrm">			bundle done, Callbacks.OK</span>
	<span class="nfo">@@ -69,6 +74,14 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">					angular\.module\(&quot;todo&quot;</span>
	<span class="nrm">				///</span>

	<span class="add">+	describe &quot;page.css&quot;, -&gt;</span>
	<span class="add">+		it &quot;returns a stylesheet&quot;, (done)-&gt;</span>
	<span class="add">+			styles done, Callbacks.OK</span>
	<span class="add">+</span>
	<span class="add">+		it &quot;returns a css bundle&quot;, (done)-&gt;</span>
	<span class="add">+			styles done, (e, res)-&gt;</span>
	<span class="add">+				res.headers[&quot;content-type&quot;].should.equal &quot;text/css&quot;</span>
	<span class="add">+</span>
	<span class="nrm">	describe &quot;bower&quot;, -&gt;</span>
	<span class="nrm">		it &quot;serves Bower resources&quot;, (done)-&gt;</span>
	<span class="nrm">			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">37d0455</span>  Added compression tasks. Without tests. tsk tsk.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee | 18 </span><span class="add">++++++++++++++++++</span>
	<span class="nrm">package.json     |  4 </span><span class="add">+++</span><span class="rem">-</span>
	<span class="nrm">2 files changed, 21 insertions(+), 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -81,6 +81,16 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">			options:</span>
	<span class="nrm">				steps: 'src/features/behavior/steps'</span>

	<span class="add">+		uglify:</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					'build/bundle.min.js': [&quot;build/bundle.js&quot;]</span>
	<span class="add">+</span>
	<span class="add">+		cssmin:</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					'build/page.min.css': [&quot;build/page.css&quot;]</span>
	<span class="add">+</span>
	<span class="nrm">		watch:</span>
	<span class="nrm">			build:</span>
	<span class="nrm">				files:[</span>
	<span class="nfo">@@ -106,9 +116,11 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;grunt-shell-spawn&quot;</span>
	<span class="nrm">		&quot;grunt-browserify&quot;</span>
	<span class="nrm">		&quot;grunt-mocha-test&quot;</span>
	<span class="add">+		&quot;grunt-contrib-cssmin&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-jade&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-less&quot;</span>
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="add">+		&quot;grunt-contrib-uglify&quot;</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.loadNpmTasks npmTask for npmTask in grunt.npmTasks</span>
	<span class="nfo">@@ -145,7 +157,13 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;features&quot;</span>
	<span class="nrm">	]</span>

	<span class="add">+	grunt.registerTask &quot;compress&quot;, [</span>
	<span class="add">+		&quot;uglify:all&quot;</span>
	<span class="add">+		&quot;cssmin:all&quot;</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="nrm">	grunt.registerTask &quot;default&quot;, [</span>
	<span class="nrm">		&quot;build&quot;</span>
	<span class="nrm">		&quot;test&quot;</span>
	<span class="add">+		&quot;compress&quot;</span>
	<span class="nrm">	]</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -27,7 +27,9 @@</span>
	<span class="nrm"> &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="nrm"> &quot;karma-coverage&quot;: &quot;~0.1.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;</span>
	<span class="add">+    &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">3243c62</span>  Cleaned up src/client, added footer.</h3>
	<!--
	<pre>
	<span class="nrm">package.json                  |  3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">src/client/index.jade         | 12 </span><span class="add">++++</span><span class="rem">--------</span>
	<span class="nrm">src/client/page.less          |  7 </span><span class="add">+</span><span class="rem">------</span>
	<span class="nrm">src/client/todo/style.less    |  6 </span><span class="add">++++++</span>
	<span class="nrm">src/client/todo/template.jade |  8 </span><span class="add">++++++++</span>
	<span class="nrm">src/server/test/serves.coffee |  4 </span><span class="add">++++</span>
	<span class="nrm">6 files changed, 25 insertions(+), 15 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -29,7 +29,8 @@</span>
	<span class="nrm"> &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;</span>
	<span class="add">+    &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="add">+    &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.jade b/src/client/index.jade</span>
	<span class="nfo">@@ -9,11 +9,7 @@</span> html
	<span class="nrm">	body(ng:app='todo')</span>
	<span class="nrm">		.container</span>
	<span class="nrm">			.jumbotron</span>
	<span class="rem">-				header</span>
	<span class="rem">-					h1 To Do</span>
	<span class="rem">-				section.row(ng:controller='todo')</span>
	<span class="rem">-					.col-md-6.col-md-offset-3</span>
	<span class="rem">-						form(ng:submit='Todos.add()')</span>
	<span class="rem">-							input(type='text', id=&quot;to-do&quot;, name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="rem">-						ol(ng:cloak='ng:cloak')</span>
	<span class="rem">-							li(ng:repeat='todo in todos') {{todo}}</span>
	<span class="add">+				include todo/template</span>
	<span class="add">+			footer</span>
	<span class="add">+				:markdown</span>
	<span class="add">+					BDD Todo by [David Souther](http://davidsouther.com)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/page.less b/src/client/page.less</span>
	<span class="nfo">@@ -1,8 +1,3 @@</span>
	<span class="nrm">@import &quot;bootstrap.less&quot;;</span>

	<span class="rem">-#to-do {</span>
	<span class="rem">-    font-size: larger;</span>
	<span class="rem">-    padding: 10px;</span>
	<span class="rem">-    margin-top: 2ex;</span>
	<span class="rem">-    width: 100%;</span>
	<span class="rem">-}</span>
	<span class="add">+@import &quot;./todo/style.less&quot;;</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/style.less b/src/client/todo/style.less</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,6 @@</span>
	<span class="add">+#to-do {</span>
	<span class="add">+    font-size: larger;</span>
	<span class="add">+    padding: 10px;</span>
	<span class="add">+    margin-top: 2ex;</span>
	<span class="add">+    width: 100%;</span>
	<span class="add">+}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/template.jade b/src/client/todo/template.jade</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,8 @@</span>
	<span class="add">+header</span>
	<span class="add">+	h1 To Do</span>
	<span class="add">+section.row(ng:controller='todo')</span>
	<span class="add">+	.col-md-6.col-md-offset-3</span>
	<span class="add">+		form(ng:submit='Todos.add()')</span>
	<span class="add">+			input(type='text', id=&quot;to-do&quot;, name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="add">+		ol(ng:cloak='ng:cloak')</span>
	<span class="add">+			li(ng:repeat='todo in todos') {{todo}}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -60,6 +60,10 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">			index done, (e, r, body)-&gt;</span>
	<span class="nrm">				body.should.match /&lt;meta[^&gt;]+name=&quot;viewport&quot;/</span>

	<span class="add">+		it &quot;has a link in the footer&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (e, r, body)-&gt;</span>
	<span class="add">+				body.should.match /&lt;a[^&gt;]+href=&quot;[^&quot;]+davidsouther.com/</span>
	<span class="add">+</span>
	<span class="nrm">	describe &quot;bundle.js&quot;, -&gt;</span>
	<span class="nrm">		it &quot;returns a bundle&quot;, (done)-&gt;</span>
	<span class="nrm">			bundle done, Callbacks.OK</span>

	</pre>

<div class="commit">
	<h3><span class="hash">a479a0d</span>  Moved world management to own step definitions.</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/steps/browsing.coffee | 10 </span><span class="rem">----------</span>
	<span class="nrm">src/features/behavior/steps/world.coffee    | 10 </span><span class="add">++++++++++</span>
	<span class="nrm">2 files changed, 10 insertions(+), 10 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -1,16 +1,6 @@</span>
	<span class="nrm">Q = require 'q'</span>
	<span class="nrm">should = require &quot;should&quot;</span>
	<span class="rem">-World = require &quot;../support/worlds&quot;</span>
	<span class="nrm">module.exports = -&gt;</span>
	<span class="rem">-	@Before (done)-&gt;</span>
	<span class="rem">-		# opening a browser is like entering a whole new world...</span>
	<span class="rem">-		@world = World.get()</span>
	<span class="rem">-		done()</span>
	<span class="rem">-</span>
	<span class="rem">-	@After (done)-&gt;</span>
	<span class="rem">-		@world?.destroy()</span>
	<span class="rem">-		done()</span>
	<span class="rem">-</span>
	<span class="nrm">	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="nrm">		done()</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/world.coffee b/src/features/behavior/steps/world.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,10 @@</span>
	<span class="add">+World = require &quot;../support/worlds&quot;</span>
	<span class="add">+module.exports = -&gt;</span>
	<span class="add">+	@Before (done)-&gt;</span>
	<span class="add">+		# opening a browser is like entering a whole new world...</span>
	<span class="add">+		@world = World.get()</span>
	<span class="add">+		done()</span>
	<span class="add">+</span>
	<span class="add">+	@After (done)-&gt;</span>
	<span class="add">+		@world?.destroy()</span>
	<span class="add">+		done()</span>

	</pre>

<div class="commit">
	<h3><span class="hash">75660ce</span>  Removed comment line.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee | 1 </span><span class="rem">-</span>
	<span class="nrm">1 file changed, 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -58,7 +58,6 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				command: [</span>
	<span class="nrm">					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="nrm">					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="rem">-					# &quot;-log selenium.log -browserSideLog&quot;</span>
	<span class="nrm">					&quot;&gt;/dev/null&quot;</span>
	<span class="nrm">				].join ' '</span>
	<span class="nrm">				options:</span>

	</pre>

<div class="commit">
	<h3><span class="hash">d943312</span>  Allow server start to get configuration settings.</h3>
	<!--
	<pre>
	<span class="nrm">package.json                |  3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">src/server/server.coffee    | 21 </span><span class="add">++++++++++++++++</span><span class="rem">-----</span>
	<span class="nrm">src/server/test/port.coffee | 34 </span><span class="add">++++++++++++++++++++++++++++++++++</span>
	<span class="nrm">3 files changed, 52 insertions(+), 6 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -30,7 +30,8 @@</span>
	<span class="nrm"> &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="rem">-    &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="add">+    &quot;marked&quot;: &quot;~0.2.9&quot;,</span>
	<span class="add">+    &quot;nconf&quot;: &quot;~0.6.7&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -1,9 +1,16 @@</span>
	<span class="nrm">path = require &quot;path&quot;</span>
	<span class="rem">-express = require &quot;express&quot;</span>
	<span class="rem">-app = express()</span>
	<span class="rem">-</span>
	<span class="nrm">root = path.join __dirname, &quot;..&quot;, &quot;..&quot;</span>

	<span class="add">+nconf = require &quot;nconf&quot;</span>
	<span class="add">+nconf.argv()</span>
	<span class="add">+	.env()</span>
	<span class="add">+	.file</span>
	<span class="add">+		file: path.join root, 'server.json'</span>
	<span class="add">+	.defaults</span>
	<span class="add">+		port: 3000</span>
	<span class="add">+</span>
	<span class="add">+express = require &quot;express&quot;</span>
	<span class="add">+app = express()</span>
	<span class="nrm">app.get '/page.css', (req, res)-&gt;</span>
	<span class="nrm">	res.set &quot;content-type&quot;, &quot;text/css&quot;</span>
	<span class="nrm">	res.sendfile path.join root, &quot;build&quot;, &quot;page.css&quot;</span>
	<span class="nfo">@@ -19,6 +26,10 @@</span> app.get '/bower/:module/:file', (req, res)-&gt;
	<span class="nrm">app.get '/', (req, res)-&gt;</span>
	<span class="nrm">	res.sendfile path.join root, &quot;build&quot;, &quot;index.html&quot;</span>

	<span class="rem">-module.exports =</span>
	<span class="add">+module.exports = do -&gt;</span>
	<span class="nrm">	serve: -&gt;</span>
	<span class="rem">-		app.listen(3000)</span>
	<span class="add">+		port = nconf.get('port')</span>
	<span class="add">+		server = app.listen port</span>
	<span class="add">+		console.log &quot;ToDo Application Server listening on port #{port}&quot;</span>
	<span class="add">+	stop: -&gt;</span>
	<span class="add">+		server?.close()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/port.coffee b/src/server/test/port.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,34 @@</span>
	<span class="add">+nconf = require &quot;nconf&quot;</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+server = require &quot;../server&quot;</span>
	<span class="add">+request = require &quot;request&quot;</span>
	<span class="add">+</span>
	<span class="add">+get = (path, d, cb)-&gt;</span>
	<span class="add">+	request path, (e, r, b)-&gt;</span>
	<span class="add">+		cb e, r, b</span>
	<span class="add">+		d()</span>
	<span class="add">+</span>
	<span class="add">+port = 3030</span>
	<span class="add">+</span>
	<span class="add">+index  = (d, cb)-&gt; get &quot;http://localhost:#{port}/&quot;, d, cb</span>
	<span class="add">+Callbacks =</span>
	<span class="add">+	OK: (e, res)-&gt;</span>
	<span class="add">+		res.statusCode.should.equal 200</span>
	<span class="add">+</span>
	<span class="add">+describe &quot;Server&quot;, -&gt;</span>
	<span class="add">+	_port = undefined</span>
	<span class="add">+</span>
	<span class="add">+	before -&gt;</span>
	<span class="add">+		_port = nconf.get &quot;port&quot;</span>
	<span class="add">+		nconf.set &quot;port&quot;, 3030</span>
	<span class="add">+		server.serve()</span>
	<span class="add">+</span>
	<span class="add">+	after -&gt;</span>
	<span class="add">+		server.stop()</span>
	<span class="add">+		nconf.set &quot;port&quot;, _port</span>
	<span class="add">+		_port = undefined</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;/&quot;, -&gt;</span>
	<span class="add">+		it &quot;binds on a known port&quot;, (done)-&gt;</span>
	<span class="add">+			index done, (err, response)-&gt;</span>
	<span class="add">+				should.not.exist err, &quot;Error when GETting (#{err})&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">1c6a6a5</span>  Added helper tasks</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee | 14 </span><span class="add">++++++++++++++</span>
	<span class="nrm">1 file changed, 14 insertions(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -98,6 +98,14 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					'src/client/**/*less'</span>
	<span class="nrm">				]</span>
	<span class="nrm">				tasks: ['build']</span>
	<span class="add">+			base:</span>
	<span class="add">+				files:[</span>
	<span class="add">+					'src/client/**/*jade'</span>
	<span class="add">+					'src/client/**/*coffee'</span>
	<span class="add">+					'src/client/**/*less'</span>
	<span class="add">+					'src/server/**/*coffee'</span>
	<span class="add">+				]</span>
	<span class="add">+				tasks: [ 'base' ]</span>
	<span class="nrm">			all:</span>
	<span class="nrm">				files: [</span>
	<span class="nrm">					'src/features/**/*coffee'</span>
	<span class="nfo">@@ -156,6 +164,12 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;features&quot;</span>
	<span class="nrm">	]</span>

	<span class="add">+	grunt.registerTask &quot;base&quot;, [</span>
	<span class="add">+		'build'</span>
	<span class="add">+		'mochaTest:server'</span>
	<span class="add">+		'karma:unit'</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="nrm">	grunt.registerTask &quot;compress&quot;, [</span>
	<span class="nrm">		&quot;uglify:all&quot;</span>
	<span class="nrm">		&quot;cssmin:all&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">683f577</span>  Reformatted some code.</h3>
	<!--
	<pre>
	<span class="nrm">src/server/server.coffee | 26 </span><span class="add">++++++++++++++</span><span class="rem">------------</span>
	<span class="nrm">1 file changed, 14 insertions(+), 12 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -10,23 +10,25 @@</span> nconf.argv()
	<span class="nrm">		port: 3000</span>
	<span class="nrm">
	express = require &quot;express&quot;</span>
	<span class="rem">-app = express()</span>
	<span class="rem">-app.get '/page.css', (req, res)-&gt;</span>
	<span class="rem">-	res.set &quot;content-type&quot;, &quot;text/css&quot;</span>
	<span class="rem">-	res.sendfile path.join root, &quot;build&quot;, &quot;page.css&quot;</span>
	<span class="add">+app =</span>
	<span class="add">+	express()</span>
	<span class="add">+		.get '/page.css', (req, res)-&gt;</span>
	<span class="add">+			res.set &quot;content-type&quot;, &quot;text/css&quot;</span>
	<span class="add">+			res.sendfile path.join root, &quot;build&quot;, &quot;page.css&quot;</span>

	<span class="rem">-app.get '/bundle.js', (req, res)-&gt;</span>
	<span class="rem">-	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join root, &quot;build&quot;, &quot;bundle.js&quot;</span>
	<span class="add">+		.get '/bundle.js', (req, res)-&gt;</span>
	<span class="add">+			res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="add">+			res.sendfile path.join root, &quot;build&quot;, &quot;bundle.js&quot;</span>

	<span class="rem">-app.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="rem">-	res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="rem">-	res.sendfile path.join root, &quot;bower_components&quot;, req.params.module, req.params.file</span>
	<span class="add">+		.get '/bower/:module/:file', (req, res)-&gt;</span>
	<span class="add">+			res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="add">+			res.sendfile path.join root, &quot;bower_components&quot;, req.params.module, req.params.file</span>

	<span class="rem">-app.get '/', (req, res)-&gt;</span>
	<span class="rem">-	res.sendfile path.join root, &quot;build&quot;, &quot;index.html&quot;</span>
	<span class="add">+		.get '/', (req, res)-&gt;</span>
	<span class="add">+			res.sendfile path.join root, &quot;build&quot;, &quot;index.html&quot;</span>
	<span class="nrm">
	module.exports = do -&gt;</span>
	<span class="add">+	server = null</span>
	<span class="nrm">	serve: -&gt;</span>
	<span class="nrm">		port = nconf.get('port')</span>
	<span class="nrm">		server = app.listen port</span>

	</pre>

<div class="commit">
	<h3><span class="hash">cdc377d</span>  Added feature for Edith removing an item</h3>
	<!--
	<pre>
	<span class="nrm">src/features/behavior/steps/browsing.coffee     | 10 </span><span class="add">++++++++++</span>
	<span class="nrm">src/features/behavior/steps/todo.coffee         | 10 </span><span class="add">++++++++++</span>
	<span class="nrm">src/features/behavior/users/edith/Edith.feature | 12 </span><span class="add">++++++++++++</span>
	<span class="nrm">src/features/behavior/users/jason/Jason.feature |  1 </span><span class="rem">-</span>
	<span class="nrm">4 files changed, 32 insertions(+), 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -75,3 +75,13 @@</span> module.exports = -&gt;
	<span class="nrm">			text.should.match ///#{content}///</span>
	<span class="nrm">			done()</span>
	<span class="nrm">		.catch done</span>
	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	Ensure lack of content in the body.</span>
	<span class="add">+	###</span>
	<span class="add">+	@Then /page does not show &quot;([^&quot;]+)&quot;/, (content, done)-&gt;</span>
	<span class="add">+		@world.text(&quot;body&quot;)</span>
	<span class="add">+		.then (text)-&gt;</span>
	<span class="add">+			text.should.not.match ///#{content}///</span>
	<span class="add">+			done()</span>
	<span class="add">+		.catch done</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/todo.coffee b/src/features/behavior/steps/todo.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,10 @@</span>
	<span class="add">+Q = require 'q'</span>
	<span class="add">+should = require &quot;should&quot;</span>
	<span class="add">+module.exports = -&gt;</span>
	<span class="add">+	@When /remove(?:s?) the first todo/, (what, done)-&gt;</span>
	<span class="add">+		@world.click(&quot;.remove:nth-of-type(1)&quot;)</span>
	<span class="add">+		.then -&gt;</span>
	<span class="add">+			debugger;</span>
	<span class="add">+			done()</span>
	<span class="add">+		# .catch (e)-&gt;</span>
	<span class="add">+		# 	done(e)</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/edith/Edith.feature b/src/features/behavior/users/edith/Edith.feature</span>
	<span class="nfo">@@ -36,6 +36,18 @@</span> Feature: Site loads
	<span class="nrm">		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="nrm">		And she should be invited to enter another &quot;to-do&quot; item</span>

	<span class="add">+	@current</span>
	<span class="add">+	Scenario: Finishes a todo</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		And she enters into a &quot;to-do&quot; box</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+			Buy peacock feathers</span>
	<span class="add">+			Use peacock feathers to make a fly</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+		When she removes the first todo</span>
	<span class="add">+		Then the page does not show &quot;Buy peacock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="add">+</span>
	<span class="nrm">	# Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="nrm">	# that the site has generated a unique URL for her -- there is some</span>
	<span class="nrm">	# explanatory text to that effect.</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/jason/Jason.feature b/src/features/behavior/users/jason/Jason.feature</span>
	<span class="nfo">@@ -1,4 +1,3 @@</span>
	<span class="rem">-@current</span>
	<span class="nrm">Feature: Site looks nice</span>
	<span class="nrm">	As a user of our side</span>
	<span class="nrm">	Jason wants the site to be pleasant to use</span>

	</pre>

<div class="commit">
	<h3><span class="hash">be5bc5a</span>  Implemented removing todos.</h3>
	<!--
	<pre>
	<span class="nrm">src/client/todo/module.coffee | 2 </span><span class="add">++</span>
	<span class="nrm">src/client/todo/style.less    | 4 </span><span class="add">++++</span>
	<span class="nrm">src/client/todo/template.jade | 7 </span><span class="add">+++++</span><span class="rem">--</span>
	<span class="nrm">src/client/todo/unit.coffee   | 8 </span><span class="add">++++++++</span>
	<span class="nrm">4 files changed, 19 insertions(+), 2 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="nfo">@@ -12,3 +12,5 @@</span> todo.controller &quot;todo&quot;, ($scope, storage)-&gt;
	<span class="nrm">			$scope.todos.push Todos.current</span>
	<span class="nrm">			Todos.current = &quot;&quot;</span>
	<span class="nrm">			storage.set $scope.todos</span>
	<span class="add">+		remove: (todo)-&gt;</span>
	<span class="add">+			$scope.todos.splice $scope.todos.indexOf(todo), 1</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/style.less b/src/client/todo/style.less</span>
	<span class="nfo">@@ -4,3 +4,7 @@</span>
	<span class="nrm"> margin-top: 2ex;</span>
	<span class="nrm"> width: 100%;</span>
	}
	<span class="add">+</span>
	<span class="add">+.remove {</span>
	<span class="add">+	margin-top: 2px;</span>
	<span class="add">+}</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/template.jade b/src/client/todo/template.jade</span>
	<span class="nfo">@@ -4,5 +4,8 @@</span> section.row(ng:controller='todo')
	<span class="nrm">	.col-md-6.col-md-offset-3</span>
	<span class="nrm">		form(ng:submit='Todos.add()')</span>
	<span class="nrm">			input(type='text', id=&quot;to-do&quot;, name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="rem">-		ol(ng:cloak='ng:cloak')</span>
	<span class="rem">-			li(ng:repeat='todo in todos') {{todo}}</span>
	<span class="add">+		ol(ng:cloak)</span>
	<span class="add">+			li(ng:repeat='todo in todos')</span>
	<span class="add">+				| {{todo}}</span>
	<span class="add">+				button.remove.btn.btn-default.btn-sm.pull-right(ng:click=&quot;Todos.remove(todo)&quot;)</span>
	<span class="add">+					span.glyphicon.glyphicon-ok</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/unit.coffee b/src/client/todo/unit.coffee</span>
	<span class="nfo">@@ -21,6 +21,14 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="nrm">		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>

	<span class="add">+	it &quot;can remove todo&quot;, -&gt;</span>
	<span class="add">+		$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="add">+		$scope.Todos.add()</span>
	<span class="add">+		$scope.Todos.current = &quot;Todo 2&quot;</span>
	<span class="add">+		$scope.Todos.add()</span>
	<span class="add">+		$scope.Todos.remove(&quot;Todo 1&quot;)</span>
	<span class="add">+		expect($scope.todos).toEqual([&quot;Todo 2&quot;], &quot;One todo left.&quot;)</span>
	<span class="add">+</span>
	<span class="nrm">	describe &quot;localStorage&quot;, -&gt;</span>
	<span class="nrm">		it &quot;saves to local storage&quot;, -&gt;</span>
	<span class="nrm">			$scope.Todos.current = &quot;Todo 1&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">5e20840</span>  Serve glyphicon font files.</h3>
	<!--
	<pre>
	<span class="nrm">src/server/server.coffee      | 3 </span><span class="add">+++</span>
	<span class="nrm">src/server/test/serves.coffee | 6 </span><span class="add">++++++</span>
	<span class="nrm">2 files changed, 9 insertions(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -16,6 +16,9 @@</span> app =
	<span class="nrm">			res.set &quot;content-type&quot;, &quot;text/css&quot;</span>
	<span class="nrm">			res.sendfile path.join root, &quot;build&quot;, &quot;page.css&quot;</span>

	<span class="add">+		.get '/fonts/:font', (req, res)-&gt;</span>
	<span class="add">+			res.sendfile path.join root, &quot;bower_components&quot;, &quot;bootstrap&quot;, &quot;fonts&quot;, req.params.font</span>
	<span class="add">+</span>
	<span class="nrm">		.get '/bundle.js', (req, res)-&gt;</span>
	<span class="nrm">			res.set &quot;content-type&quot;, &quot;text/javascript&quot;</span>
	<span class="nrm">			res.sendfile path.join root, &quot;build&quot;, &quot;bundle.js&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -91,3 +91,9 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>
	<span class="nrm">				res.statusCode.should.equal 200</span>
	<span class="nrm">				done()</span>
	<span class="add">+</span>
	<span class="add">+	describe &quot;fonts&quot;, -&gt;</span>
	<span class="add">+		it &quot;serves fonts from bootstrap&quot;, (done)-&gt;</span>
	<span class="add">+			request &quot;http://localhost:3000/fonts/glyphicons-halflings-regular.woff&quot;, (e, res)-&gt;</span>
	<span class="add">+				res.statusCode.should.equal 200</span>
	<span class="add">+				done()</span>
	<span class="nrm">\ No newline at end of file</span>

	</pre>

<div class="commit">
	<h3><span class="hash">3548ce3</span>  Added test and implementation to save removed items.</h3>
	<!--
	<pre>
	<span class="nrm">src/client/todo/module.coffee                       |  6 </span><span class="add">+++</span><span class="rem">---</span>
	<span class="nrm">src/features/behavior/steps/todo.coffee             |  9 </span><span class="add">+++</span><span class="rem">------</span>
	<span class="nrm">.../behavior/support/worlds/protractor.coffee       | 16 </span><span class="add">+++++++++</span><span class="rem">-------</span>
	<span class="nrm">src/features/behavior/users/edith/Edith.feature     | 21 </span><span class="add">++++++++++++++++++</span><span class="rem">---</span>
	<span class="nrm">4 files changed, 33 insertions(+), 19 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="nfo">@@ -6,11 +6,11 @@</span> todo.service &quot;storage&quot;, -&gt;
	<span class="nrm">
	todo.controller &quot;todo&quot;, ($scope, storage)-&gt;</span>
	<span class="nrm">	$scope.todos = storage.get()</span>
	<span class="add">+	$scope.$watch 'todos', -&gt; storage.set $scope.todos</span>
	<span class="nrm">	Todos = $scope.Todos =</span>
	<span class="nrm">		current: &quot;&quot;</span>
	<span class="rem">-		add: -&gt;</span>
	<span class="add">+		add: -&gt; $scope.$apply -&gt;</span>
	<span class="nrm">			$scope.todos.push Todos.current</span>
	<span class="nrm">			Todos.current = &quot;&quot;</span>
	<span class="rem">-			storage.set $scope.todos</span>
	<span class="rem">-		remove: (todo)-&gt;</span>
	<span class="add">+		remove: (todo)-&gt; $scope.$apply -&gt;</span>
	<span class="nrm">			$scope.todos.splice $scope.todos.indexOf(todo), 1</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/todo.coffee b/src/features/behavior/steps/todo.coffee</span>
	<span class="nfo">@@ -1,10 +1,7 @@</span>
	<span class="nrm">Q = require 'q'</span>
	<span class="nrm">should = require &quot;should&quot;</span>
	<span class="nrm">module.exports = -&gt;</span>
	<span class="rem">-	@When /remove(?:s?) the first todo/, (what, done)-&gt;</span>
	<span class="add">+	@When /remove(?:s?) the first todo/, (done)-&gt;</span>
	<span class="nrm">		@world.click(&quot;.remove:nth-of-type(1)&quot;)</span>
	<span class="rem">-		.then -&gt;</span>
	<span class="rem">-			debugger;</span>
	<span class="rem">-			done()</span>
	<span class="rem">-		# .catch (e)-&gt;</span>
	<span class="rem">-		# 	done(e)</span>
	<span class="add">+		.then -&gt; done()</span>
	<span class="add">+		.catch done</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="nfo">@@ -6,13 +6,13 @@</span> By = Protractor.By
	<span class="nrm">
	_destroyed = false</span>
	<span class="nrm">module.exports = class World</span>
	<span class="rem">-	constructor: -&gt;</span>
	<span class="add">+	constructor: (browser=&quot;firefox&quot;)-&gt;</span>
	<span class="nrm">		@driver = new webdriver.Builder().</span>
	<span class="nrm">			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="rem">-			withCapabilities(webdriver.Capabilities.firefox()).build();</span>
	<span class="add">+			withCapabilities(webdriver.Capabilities[browser]()).build()</span>

	<span class="rem">-		@driver.manage().timeouts().setScriptTimeout(10000);</span>
	<span class="rem">-		@ptor = Protractor.wrapDriver(@driver);</span>
	<span class="add">+		@driver.manage().timeouts().setScriptTimeout(100)</span>
	<span class="add">+		@ptor = Protractor.wrapDriver(@driver)</span>
	<span class="nrm"></span>
	<span class="nrm">visit: (url)-&gt;</span>
	<span class="nrm">		Q @ptor.get(url)</span>
	<span class="nfo">@@ -35,9 +35,7 @@</span> module.exports = class World
	<span class="nrm">	fill: (what, value, submit = false)-&gt;</span>
	<span class="nrm">		input = @ptor.findElement(By.name(what))</span>
	<span class="nrm">		deferred = input.sendKeys(value)</span>
	<span class="rem">-		if submit</span>
	<span class="rem">-			deferred.then -&gt;</span>
	<span class="rem">-				input.submit()</span>
	<span class="add">+		input.submit()  if submit</span>
	<span class="nrm">		Q deferred</span>
	<span class="nrm"></span>
	<span class="nrm">coords: (elem)-&gt;</span>
	<span class="nfo">@@ -52,6 +50,10 @@</span> module.exports = class World
	<span class="nrm">					width: size.width</span>
	<span class="nrm">					left: location.x</span>

	<span class="add">+	click: (what)-&gt;</span>
	<span class="add">+		debugger</span>
	<span class="add">+		Q @find(what).click()</span>
	<span class="add">+</span>
	<span class="nrm">	destroy: (done)-&gt;</span>
	<span class="nrm">		_destroyed = true</span>
	<span class="nrm">		@driver.quit()</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/users/edith/Edith.feature b/src/features/behavior/users/edith/Edith.feature</span>
	<span class="nfo">@@ -48,9 +48,11 @@</span> Feature: Site loads
	<span class="nrm">		Then the page does not show &quot;Buy peacock feathers&quot;</span>
	<span class="nrm">		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>

	<span class="rem">-	# Edith wonders whether the site will remember her list. Then she sees</span>
	<span class="rem">-	# that the site has generated a unique URL for her -- there is some</span>
	<span class="rem">-	# explanatory text to that effect.</span>
	<span class="add">+Feature: Todo lists save</span>
	<span class="add">+	As a user of our site</span>
	<span class="add">+	Edith wants the site to save her list</span>
	<span class="add">+	So that she can return to a list she made in the past</span>
	<span class="add">+</span>
	<span class="nrm">	Scenario: Saves list</span>
	<span class="nrm">		Given Edith is on the landing page</span>
	<span class="nrm">		And she enters into a &quot;to-do&quot; box</span>
	<span class="nfo">@@ -64,3 +66,16 @@</span> Feature: Site loads
	<span class="nrm">		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>
	<span class="nrm">		And she should be invited to enter another &quot;to-do&quot; item</span>
	<span class="nrm">		# Satisfied, she goes back to sleep</span>
	<span class="add">+</span>
	<span class="add">+	Scenario: Saves list after completing</span>
	<span class="add">+		Given Edith is on the landing page</span>
	<span class="add">+		And she enters into a &quot;to-do&quot; box</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+			Buy peacock feathers</span>
	<span class="add">+			Use peacock feathers to make a fly</span>
	<span class="add">+			&quot;&quot;&quot;</span>
	<span class="add">+		And she removes the first todo</span>
	<span class="add">+		And she leaves the page</span>
	<span class="add">+		When she goes to the &quot;saved&quot; url</span>
	<span class="add">+		Then the page does not show &quot;Buy peacock feathers&quot;</span>
	<span class="add">+		And the page shows &quot;Use peacock feathers to make a fly&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">88343d1</span>  Refactored to save on todos watch.</h3>
	<!--
	<pre>
	<span class="nrm">src/client/todo/module.coffee | 16 </span><span class="add">+++++++++</span><span class="rem">-------</span>
	<span class="nrm">src/client/todo/unit.coffee   |  3 </span><span class="add">+++</span>
	<span class="nrm">2 files changed, 12 insertions(+), 7 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="nfo">@@ -2,15 +2,17 @@</span> module.exports = todo = angular.module &quot;todo&quot;, []
	<span class="nrm">
	todo.service &quot;storage&quot;, -&gt;</span>
	<span class="nrm">	get: -&gt; JSON.parse window.localStorage[&quot;TDD-ToDos&quot;] || '[]'</span>
	<span class="rem">-	set: (TDs)-&gt; window.localStorage[&quot;TDD-ToDos&quot;] = JSON.stringify TDs</span>
	<span class="add">+	put: (TDs)-&gt; window.localStorage[&quot;TDD-ToDos&quot;] = JSON.stringify TDs</span>
	<span class="nrm">
	todo.controller &quot;todo&quot;, ($scope, storage)-&gt;</span>
	<span class="rem">-	$scope.todos = storage.get()</span>
	<span class="rem">-	$scope.$watch 'todos', -&gt; storage.set $scope.todos</span>
	<span class="add">+	todos = $scope.todos = storage.get()</span>
	<span class="add">+	save = (newV, oldV) -&gt;</span>
	<span class="add">+		storage.put todos</span>
	<span class="add">+	$scope.$watch 'todos', save, true</span>
	<span class="nrm">	Todos = $scope.Todos =</span>
	<span class="nrm">		current: &quot;&quot;</span>
	<span class="rem">-		add: -&gt; $scope.$apply -&gt;</span>
	<span class="rem">-			$scope.todos.push Todos.current</span>
	<span class="add">+		add: -&gt;</span>
	<span class="add">+			todos.push Todos.current</span>
	<span class="nrm">			Todos.current = &quot;&quot;</span>
	<span class="rem">-		remove: (todo)-&gt; $scope.$apply -&gt;</span>
	<span class="rem">-			$scope.todos.splice $scope.todos.indexOf(todo), 1</span>
	<span class="add">+		remove: (todo)-&gt;</span>
	<span class="add">+			todos.splice todos.indexOf(todo), 1</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/unit.coffee b/src/client/todo/unit.coffee</span>
	<span class="nfo">@@ -17,6 +17,7 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">	it &quot;can add todo&quot;, -&gt;</span>
	<span class="nrm">		$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="nrm">		$scope.Todos.add()</span>
	<span class="add">+		$scope.$digest()</span>
	<span class="nrm">		expect($scope.todos.length).toEqual(1, &quot;After adding, todos has single todo&quot;)</span>
	<span class="nrm">		expect($scope.todos[0]).toEqual(&quot;Todo 1&quot;, &quot;Correct Todo was added&quot;)</span>
	<span class="nrm">		expect($scope.Todos.current).toEqual(&quot;&quot;, &quot;Resets current todo&quot;)</span>
	<span class="nfo">@@ -26,6 +27,7 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">		$scope.Todos.add()</span>
	<span class="nrm">		$scope.Todos.current = &quot;Todo 2&quot;</span>
	<span class="nrm">		$scope.Todos.add()</span>
	<span class="add">+		$scope.$digest()</span>
	<span class="nrm">		$scope.Todos.remove(&quot;Todo 1&quot;)</span>
	<span class="nrm">		expect($scope.todos).toEqual([&quot;Todo 2&quot;], &quot;One todo left.&quot;)</span>

	<span class="nfo">@@ -33,6 +35,7 @@</span> describe &quot;todo controller&quot;, -&gt;
	<span class="nrm">		it &quot;saves to local storage&quot;, -&gt;</span>
	<span class="nrm">			$scope.Todos.current = &quot;Todo 1&quot;</span>
	<span class="nrm">			$scope.Todos.add()</span>
	<span class="add">+			$scope.$digest()</span>
	<span class="nrm">			expect(window.localStorage['TDD-ToDos']).toBeDefined(&quot;TDD-ToDos were created on localStorage&quot;)</span>
	<span class="nrm">			stored = window.localStorage['TDD-ToDos']</span>
	<span class="nrm">			expect(stored).toEqual('[&quot;Todo 1&quot;]', &quot;Saves array of todos&quot;)</span>

	</pre>

<div class="commit">
	<h3><span class="hash">d3233ce</span>  Added animations to checkmarks.</h3>
	<!--
	<pre>
	<span class="nrm">src/client/todo/style.less    | 10 </span><span class="add">+++++++++</span><span class="rem">-</span>
	<span class="nrm">src/client/todo/template.jade |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">2 files changed, 10 insertions(+), 2 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/style.less b/src/client/todo/style.less</span>
	<span class="nfo">@@ -7,4 +7,12 @@</span>
	<span class="nrm">
	.remove {</span>
	<span class="nrm">	margin-top: 2px;</span>
	<span class="rem">-}</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+	opacity: 0;</span>
	<span class="add">+	transition: all 0.3s;</span>
	<span class="add">+}</span>
	<span class="add">+</span>
	<span class="add">+.todo:hover {</span>
	<span class="add">+	.remove {</span>
	<span class="add">+		opacity: 1;</span>
	<span class="add">+	}</span>
	<span class="add">+}</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/template.jade b/src/client/todo/template.jade</span>
	<span class="nfo">@@ -5,7 +5,7 @@</span> section.row(ng:controller='todo')
	<span class="nrm">		form(ng:submit='Todos.add()')</span>
	<span class="nrm">			input(type='text', id=&quot;to-do&quot;, name='to-do', placeholder='to-do', ng:model='Todos.current')</span>
	<span class="nrm">		ol(ng:cloak)</span>
	<span class="rem">-			li(ng:repeat='todo in todos')</span>
	<span class="add">+			li.todo(ng:repeat='todo in todos')</span>
	<span class="nrm">				| {{todo}}</span>
	<span class="nrm">				button.remove.btn.btn-default.btn-sm.pull-right(ng:click=&quot;Todos.remove(todo)&quot;)</span>
	<span class="nrm">					span.glyphicon.glyphicon-ok</span>
	<span class="nrm">\ No newline at end of file</span>

	</pre>

<div class="commit">
	<h3><span class="hash">c1cc8fa</span>  Recursive gruntfiles</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee              | 145 </span><span class="add">+++</span><span class="rem">---------------------------------------</span>
	<span class="nrm">recurse.coffee                |  20 </span><span class="add">++++++</span>
	<span class="nrm">src/client/Gruntfile.coffee   |  74 </span><span class="add">+++++++++++++++++++++</span>
	<span class="nrm">src/features/Gruntfile.coffee |   9 </span><span class="add">+++</span>
	<span class="nrm">src/server/Gruntfile.coffee   |  59 </span><span class="add">+++++++++++++++++</span>
	<span class="nrm">5 files changed, 172 insertions(+), 135 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -1,103 +1,10 @@</span>
	<span class="nrm">module.exports = (grunt)-&gt;</span>
	<span class="rem">-	grunt.initConfig</span>
	<span class="rem">-		browserify:</span>
	<span class="rem">-			dev:</span>
	<span class="rem">-				files: &quot;build/bundle.js&quot;: [&quot;src/client/main.coffee&quot;]</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					debug: true</span>
	<span class="rem">-					transform: [</span>
	<span class="rem">-						&quot;caching-coffeeify&quot;</span>
	<span class="rem">-					]</span>
	<span class="add">+	require(&quot;./recurse&quot;)(grunt)</span>

	<span class="rem">-		jade:</span>
	<span class="rem">-			index:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					&quot;build/index.html&quot;: &quot;src/client/index.jade&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-		less:</span>
	<span class="rem">-			page:</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					paths:[</span>
	<span class="rem">-						&quot;bower_components/bootstrap/less&quot;</span>
	<span class="rem">-					]</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					&quot;build/page.css&quot;: [&quot;src/client/page.less&quot;]</span>
	<span class="rem">-</span>
	<span class="rem">-		karma:</span>
	<span class="rem">-			unit:</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					browsers: [&quot;PhantomJS&quot;]</span>
	<span class="rem">-					frameworks: [&quot;jasmine&quot;]</span>
	<span class="rem">-					preprocessors:</span>
	<span class="rem">-						&quot;src/client/bundle.js&quot;: &quot;coverage&quot;</span>
	<span class="rem">-						&quot;src/**/*.coffee&quot;: &quot;coffee&quot;</span>
	<span class="rem">-					reporters: [</span>
	<span class="rem">-						'coverage'</span>
	<span class="rem">-						'dots'</span>
	<span class="rem">-					]</span>
	<span class="rem">-					singleRun: true</span>
	<span class="rem">-					files: [</span>
	<span class="rem">-						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="rem">-						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="rem">-						&quot;build/bundle.js&quot;</span>
	<span class="rem">-						&quot;src/client/**/unit.coffee&quot;</span>
	<span class="rem">-					]</span>
	<span class="rem">-</span>
	<span class="rem">-		mochaTest:</span>
	<span class="rem">-			server:</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					reporter: 'spec'</span>
	<span class="rem">-				src: [&quot;src/server/test/*coffee&quot;]</span>
	<span class="rem">-</span>
	<span class="rem">-		shell:</span>
	<span class="rem">-			kill:</span>
	<span class="rem">-				command: &quot;lsof -i TCP -P | grep 4444 | awk '{print $2}' | xargs -I{} kill {} &gt;/dev/null  || exit 0&quot;</span>
	<span class="rem">-			install:</span>
	<span class="rem">-				command: &quot;[ -f ./selenium/selenium-server-standalone-2.34.0.jar ] || ./node_modules/protractor/bin/install_selenium_standalone&quot;</span>
	<span class="rem">-			selenium:</span>
	<span class="rem">-				command: [</span>
	<span class="rem">-					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="rem">-					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="rem">-					&quot;&gt;/dev/null&quot;</span>
	<span class="rem">-				].join ' '</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					async: true</span>
	<span class="rem">-					kill: true</span>
	<span class="rem">-			sleep:</span>
	<span class="rem">-				command:</span>
	<span class="rem">-					&quot;sleep 1&quot;</span>
	<span class="rem">-</span>
	<span class="rem">-		cucumberjs:</span>
	<span class="rem">-			all:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					src: ['src/features/behavior/users/*']</span>
	<span class="rem">-			current:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					src: ['src/features/behavior/users/*']</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					tags: '@current'</span>
	<span class="rem">-</span>
	<span class="rem">-			options:</span>
	<span class="rem">-				steps: 'src/features/behavior/steps'</span>
	<span class="rem">-</span>
	<span class="rem">-		uglify:</span>
	<span class="rem">-			all:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					'build/bundle.min.js': [&quot;build/bundle.js&quot;]</span>
	<span class="rem">-</span>
	<span class="rem">-		cssmin:</span>
	<span class="rem">-			all:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					'build/page.min.css': [&quot;build/page.css&quot;]</span>
	<span class="add">+	grunt.NpmTasks = [ &quot;grunt-contrib-watch&quot; ]</span>

	<span class="add">+	grunt.Config =</span>
	<span class="nrm">		watch:</span>
	<span class="rem">-			build:</span>
	<span class="rem">-				files:[</span>
	<span class="rem">-					'src/client/**/*jade'</span>
	<span class="rem">-					'src/client/**/*coffee'</span>
	<span class="rem">-					'src/client/**/*less'</span>
	<span class="rem">-				]</span>
	<span class="rem">-				tasks: ['build']</span>
	<span class="nrm">			base:</span>
	<span class="nrm">				files:[</span>
	<span class="nrm">					'src/client/**/*jade'</span>
	<span class="nfo">@@ -117,46 +24,14 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				]</span>
	<span class="nrm">				tasks: ['default']</span>

	<span class="rem">-	grunt.npmTasks = [</span>
	<span class="rem">-		&quot;grunt-cucumber&quot;</span>
	<span class="rem">-		&quot;grunt-karma&quot;</span>
	<span class="rem">-		&quot;grunt-shell-spawn&quot;</span>
	<span class="rem">-		&quot;grunt-browserify&quot;</span>
	<span class="rem">-		&quot;grunt-mocha-test&quot;</span>
	<span class="rem">-		&quot;grunt-contrib-cssmin&quot;</span>
	<span class="rem">-		&quot;grunt-contrib-jade&quot;</span>
	<span class="rem">-		&quot;grunt-contrib-less&quot;</span>
	<span class="rem">-		&quot;grunt-contrib-watch&quot;</span>
	<span class="rem">-		&quot;grunt-contrib-uglify&quot;</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.loadNpmTasks npmTask for npmTask in grunt.npmTasks</span>
	<span class="add">+	[</span>
	<span class="add">+		&quot;./src/client&quot;</span>
	<span class="add">+		&quot;./src/server&quot;</span>
	<span class="add">+		&quot;./src/features&quot;</span>
	<span class="add">+	].map grunt.grunt</span>

	<span class="rem">-	grunt.registerTask &quot;build&quot;, [</span>
	<span class="rem">-		&quot;browserify:dev&quot;</span>
	<span class="rem">-		&quot;jade:index&quot;</span>
	<span class="rem">-		&quot;less:page&quot;</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.registerTask &quot;features&quot;, [</span>
	<span class="rem">-		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="rem">-		&quot;shell:install&quot;</span>
	<span class="rem">-		&quot;shell:selenium&quot;</span>
	<span class="rem">-		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:all&quot;</span>
	<span class="rem">-		&quot;shell:selenium:kill&quot;</span>
	<span class="rem">-		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.registerTask &quot;feature&quot;, [</span>
	<span class="rem">-		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="rem">-		&quot;shell:install&quot;</span>
	<span class="rem">-		&quot;shell:selenium&quot;</span>
	<span class="rem">-		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:current&quot;</span>
	<span class="rem">-		&quot;shell:selenium:kill&quot;</span>
	<span class="rem">-		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="rem">-	]</span>
	<span class="add">+	grunt.initConfig grunt.Config</span>
	<span class="add">+	grunt.loadNpmTasks npmTask for npmTask in grunt.NpmTasks</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;test&quot;, [</span>
	<span class="nrm">		&quot;mochaTest:server&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/recurse.coffee b/recurse.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,20 @@</span>
	<span class="add">+module.exports = (grunt)-&gt;</span>
	<span class="add">+	grunt.grunt = (path)-&gt;</span>
	<span class="add">+		other = require &quot;#{path}/Gruntfile&quot;</span>
	<span class="add">+		other(grunt)</span>
	<span class="add">+</span>
	<span class="add">+	Object.defineProperty grunt, &quot;Config&quot;, do-&gt;</span>
	<span class="add">+		_config = {}</span>
	<span class="add">+		get: -&gt; _config</span>
	<span class="add">+		set: (val)-&gt;</span>
	<span class="add">+			for t, c of val</span>
	<span class="add">+				_config[t] = _config[t] || {}</span>
	<span class="add">+				for k, v of c</span>
	<span class="add">+					_config[t][k] = v</span>
	<span class="add">+			grunt</span>
	<span class="add">+</span>
	<span class="add">+	Object.defineProperty grunt, &quot;NpmTasks&quot;, do-&gt;</span>
	<span class="add">+		_tasks = []</span>
	<span class="add">+		get: -&gt; _tasks</span>
	<span class="add">+		set: (val)-&gt;</span>
	<span class="add">+			_tasks = _tasks.concat val</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/Gruntfile.coffee b/src/client/Gruntfile.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,74 @@</span>
	<span class="add">+module.exports = (grunt)-&gt;</span>
	<span class="add">+	grunt.Config =</span>
	<span class="add">+		browserify:</span>
	<span class="add">+			dev:</span>
	<span class="add">+				files: &quot;build/bundle.js&quot;: [&quot;src/client/main.coffee&quot;]</span>
	<span class="add">+				options:</span>
	<span class="add">+					debug: true</span>
	<span class="add">+					transform: [</span>
	<span class="add">+						&quot;caching-coffeeify&quot;</span>
	<span class="add">+					]</span>
	<span class="add">+</span>
	<span class="add">+		jade:</span>
	<span class="add">+			index: files: &quot;build/index.html&quot;: &quot;src/client/index.jade&quot;</span>
	<span class="add">+</span>
	<span class="add">+		less:</span>
	<span class="add">+			page:</span>
	<span class="add">+				options:</span>
	<span class="add">+					paths: [</span>
	<span class="add">+						&quot;bower_components/bootstrap/less&quot;</span>
	<span class="add">+					]</span>
	<span class="add">+				files:</span>
	<span class="add">+					&quot;build/page.css&quot;: [&quot;src/client/page.less&quot;]</span>
	<span class="add">+</span>
	<span class="add">+		karma:</span>
	<span class="add">+			unit:</span>
	<span class="add">+				options:</span>
	<span class="add">+					browsers: [&quot;PhantomJS&quot;]</span>
	<span class="add">+					frameworks: [&quot;jasmine&quot;]</span>
	<span class="add">+					preprocessors:</span>
	<span class="add">+						&quot;src/client/bundle.js&quot;: &quot;coverage&quot;</span>
	<span class="add">+						&quot;src/**/*.coffee&quot;: &quot;coffee&quot;</span>
	<span class="add">+					reporters: [</span>
	<span class="add">+						'coverage'</span>
	<span class="add">+						'dots'</span>
	<span class="add">+					]</span>
	<span class="add">+					singleRun: true</span>
	<span class="add">+					files: [</span>
	<span class="add">+						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="add">+						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="add">+						&quot;build/bundle.js&quot;</span>
	<span class="add">+						&quot;src/client/**/unit.coffee&quot;</span>
	<span class="add">+					]</span>
	<span class="add">+		uglify:</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					'build/bundle.min.js': [&quot;build/bundle.js&quot;]</span>
	<span class="add">+</span>
	<span class="add">+		cssmin:</span>
	<span class="add">+			all: files: 'build/page.min.css': [&quot;build/page.css&quot;]</span>
	<span class="add">+</span>
	<span class="add">+		watch:</span>
	<span class="add">+			build:</span>
	<span class="add">+				files: [</span>
	<span class="add">+					'src/client/**/*jade'</span>
	<span class="add">+					'src/client/**/*coffee'</span>
	<span class="add">+					'src/client/**/*less'</span>
	<span class="add">+				]</span>
	<span class="add">+				tasks: ['build']</span>
	<span class="add">+</span>
	<span class="add">+	grunt.NpmTasks = [</span>
	<span class="add">+		&quot;grunt-browserify&quot;</span>
	<span class="add">+		&quot;grunt-contrib-jade&quot;</span>
	<span class="add">+		&quot;grunt-contrib-less&quot;</span>
	<span class="add">+		&quot;grunt-karma&quot;</span>
	<span class="add">+		&quot;grunt-contrib-uglify&quot;</span>
	<span class="add">+		&quot;grunt-contrib-cssmin&quot;</span>
	<span class="add">+		&quot;grunt-contrib-watch&quot;</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;build&quot;, [</span>
	<span class="add">+		&quot;browserify:dev&quot;</span>
	<span class="add">+		&quot;jade:index&quot;</span>
	<span class="add">+		&quot;less:page&quot;</span>
	<span class="add">+	]</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/Gruntfile.coffee b/src/features/Gruntfile.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,9 @@</span>
	<span class="add">+module.exports = (grunt)-&gt;</span>
	<span class="add">+	grunt.Config =</span>
	<span class="add">+		mochaTest:</span>
	<span class="add">+			server:</span>
	<span class="add">+				options:</span>
	<span class="add">+					reporter: 'spec'</span>
	<span class="add">+				src: [&quot;src/server/test/*coffee&quot;]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.NpmTasks.push &quot;grunt-mocha-test&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/Gruntfile.coffee b/src/server/Gruntfile.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,59 @@</span>
	<span class="add">+module.exports = (grunt)-&gt;</span>
	<span class="add">+	grunt.Config =</span>
	<span class="add">+		shell:</span>
	<span class="add">+			kill:</span>
	<span class="add">+				command: &quot;lsof -i TCP -P | grep 4444 | awk '{print $2}' | xargs -I{} kill {} &gt;/dev/null  || exit 0&quot;</span>
	<span class="add">+			install:</span>
	<span class="add">+				command: &quot;[ -f ./selenium/selenium-server-standalone-2.34.0.jar ] || ./node_modules/protractor/bin/install_selenium_standalone&quot;</span>
	<span class="add">+			selenium:</span>
	<span class="add">+				command: [</span>
	<span class="add">+					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="add">+					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="add">+					&quot;&gt;/dev/null&quot;</span>
	<span class="add">+				].join ' '</span>
	<span class="add">+				options:</span>
	<span class="add">+					async: true</span>
	<span class="add">+					kill: true</span>
	<span class="add">+			sleep:</span>
	<span class="add">+				command:</span>
	<span class="add">+					&quot;sleep 1&quot;</span>
	<span class="add">+</span>
	<span class="add">+		cucumberjs:</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+			current:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+				options:</span>
	<span class="add">+					tags: '@current'</span>
	<span class="add">+</span>
	<span class="add">+			options:</span>
	<span class="add">+				steps: 'src/features/behavior/steps'</span>
	<span class="add">+</span>
	<span class="add">+	grunt.NpmTasks = [</span>
	<span class="add">+		&quot;grunt-cucumber&quot;</span>
	<span class="add">+		&quot;grunt-shell-spawn&quot;</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;features&quot;, [</span>
	<span class="add">+		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:all&quot;</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="add">+		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;feature&quot;, [</span>
	<span class="add">+		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		# Start the application server</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:current&quot;</span>
	<span class="add">+		# Stop the application server</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="add">+		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="add">+	]</span>

	</pre>

<div class="commit">
	<h3><span class="hash">2b61d1e</span>  Added descriptions for tasks.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee            | 34 </span><span class="add">++++++++++++++++++++</span><span class="rem">--------------</span>
	<span class="nrm">src/client/Gruntfile.coffee |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/server/Gruntfile.coffee |  6 </span><span class="add">++++</span><span class="rem">--</span>
	<span class="nrm">3 files changed, 25 insertions(+), 17 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -1,8 +1,19 @@</span>
	<span class="nrm">module.exports = (grunt)-&gt;</span>
	<span class="nrm">	require(&quot;./recurse&quot;)(grunt)</span>

	<span class="rem">-	grunt.NpmTasks = [ &quot;grunt-contrib-watch&quot; ]</span>
	<span class="add">+	[</span>
	<span class="add">+		&quot;./src/client&quot;</span>
	<span class="add">+		&quot;./src/server&quot;</span>
	<span class="add">+		&quot;./src/features&quot;</span>
	<span class="add">+	].map grunt.grunt</span>

	<span class="add">+</span>
	<span class="add">+	###</span>
	<span class="add">+	The root Gruntfile simply manages several tasks, defined elsewhere.</span>
	<span class="add">+	It watches some types of files, and composes some high-level helper tasks.</span>
	<span class="add">+	###</span>
	<span class="add">+</span>
	<span class="add">+	grunt.NpmTasks = [ &quot;grunt-contrib-watch&quot; ]</span>
	<span class="nrm">	grunt.Config =</span>
	<span class="nrm">		watch:</span>
	<span class="nrm">			base:</span>
	<span class="nfo">@@ -24,34 +35,29 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				]</span>
	<span class="nrm">				tasks: ['default']</span>

	<span class="rem">-	[</span>
	<span class="rem">-		&quot;./src/client&quot;</span>
	<span class="rem">-		&quot;./src/server&quot;</span>
	<span class="rem">-		&quot;./src/features&quot;</span>
	<span class="rem">-	].map grunt.grunt</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.initConfig grunt.Config</span>
	<span class="rem">-	grunt.loadNpmTasks npmTask for npmTask in grunt.NpmTasks</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.registerTask &quot;test&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;test&quot;, &quot;Run all the tests.&quot;, [</span>
	<span class="nrm">		&quot;mochaTest:server&quot;</span>
	<span class="nrm">		&quot;karma:unit&quot;</span>
	<span class="nrm">		&quot;features&quot;</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;base&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;base&quot;, &quot;Perform a base level of production, up to but not including features.&quot;, [</span>
	<span class="nrm">		'build'</span>
	<span class="nrm">		'mochaTest:server'</span>
	<span class="nrm">		'karma:unit'</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;compress&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;compress&quot;, &quot;Compress CSS and JS bundles.&quot;, [</span>
	<span class="nrm">		&quot;uglify:all&quot;</span>
	<span class="nrm">		&quot;cssmin:all&quot;</span>
	<span class="add">+		# Modify index.html to use min files</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;default&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;default&quot;, &quot;Prepare the full project for deployment, including running all tests.&quot;, [</span>
	<span class="nrm">		&quot;build&quot;</span>
	<span class="nrm">		&quot;test&quot;</span>
	<span class="nrm">		&quot;compress&quot;</span>
	<span class="nrm">	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.initConfig grunt.Config</span>
	<span class="add">+	grunt.loadNpmTasks npmTask for npmTask in grunt.NpmTasks</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/Gruntfile.coffee b/src/client/Gruntfile.coffee</span>
	<span class="nfo">@@ -67,7 +67,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;grunt-contrib-watch&quot;</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;build&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;build&quot;, &quot;Compile various sources into three bundles.&quot;, [</span>
	<span class="nrm">		&quot;browserify:dev&quot;</span>
	<span class="nrm">		&quot;jade:index&quot;</span>
	<span class="nrm">		&quot;less:page&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/Gruntfile.coffee b/src/server/Gruntfile.coffee</span>
	<span class="nfo">@@ -22,6 +22,8 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">			all:</span>
	<span class="nrm">				files:</span>
	<span class="nrm">					src: ['src/features/behavior/users/*']</span>
	<span class="add">+				options:</span>
	<span class="add">+					tags: '~@broken'</span>
	<span class="nrm">			current:</span>
	<span class="nrm">				files:</span>
	<span class="nrm">					src: ['src/features/behavior/users/*']</span>
	<span class="nfo">@@ -36,7 +38,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;grunt-shell-spawn&quot;</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;features&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;features&quot;, &quot;Run all feature behaviors, except those tagged @broken.&quot;, [</span>
	<span class="nrm">		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="nrm">		&quot;shell:install&quot;</span>
	<span class="nrm">		&quot;shell:selenium&quot;</span>
	<span class="nfo">@@ -46,7 +48,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="nrm">	]</span>

	<span class="rem">-	grunt.registerTask &quot;feature&quot;, [</span>
	<span class="add">+	grunt.registerTask &quot;feature&quot;, &quot;Runs feature behaviors tagged @current.&quot;, [</span>
	<span class="nrm">		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="nrm">		&quot;shell:install&quot;</span>
	<span class="nrm">		&quot;shell:selenium&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">486408b</span>  Smooth task definitions.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee | 14 </span><span class="add">++++++</span><span class="rem">--------</span>
	<span class="nrm">1 file changed, 6 insertions(+), 8 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -35,16 +35,15 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">				]</span>
	<span class="nrm">				tasks: ['default']</span>

	<span class="rem">-	grunt.registerTask &quot;test&quot;, &quot;Run all the tests.&quot;, [</span>
	<span class="rem">-		&quot;mochaTest:server&quot;</span>
	<span class="rem">-		&quot;karma:unit&quot;</span>
	<span class="rem">-		&quot;features&quot;</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="nrm">	grunt.registerTask &quot;base&quot;, &quot;Perform a base level of production, up to but not including features.&quot;, [</span>
	<span class="nrm">		'build'</span>
	<span class="rem">-		'mochaTest:server'</span>
	<span class="nrm">		'karma:unit'</span>
	<span class="add">+		'mochaTest:server'</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;test&quot;, &quot;Run all the tests.&quot;, [</span>
	<span class="add">+		&quot;base&quot;</span>
	<span class="add">+		&quot;features&quot;</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;compress&quot;, &quot;Compress CSS and JS bundles.&quot;, [</span>
	<span class="nfo">@@ -54,7 +53,6 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;default&quot;, &quot;Prepare the full project for deployment, including running all tests.&quot;, [</span>
	<span class="rem">-		&quot;build&quot;</span>
	<span class="nrm">		&quot;test&quot;</span>
	<span class="nrm">		&quot;compress&quot;</span>
	<span class="nrm">	]</span>

	</pre>

<div class="commit">
	<h3><span class="hash">b236317</span>  Ready for Heroku</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">Procfile         |  1 </span><span class="add">+</span>
	<span class="nrm">package.json     | 14 </span><span class="add">++++++++++</span><span class="rem">----</span>
	<span class="nrm">3 files changed, 12 insertions(+), 5 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -49,7 +49,7 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">	grunt.registerTask &quot;compress&quot;, &quot;Compress CSS and JS bundles.&quot;, [</span>
	<span class="nrm">		&quot;uglify:all&quot;</span>
	<span class="nrm">		&quot;cssmin:all&quot;</span>
	<span class="rem">-		# Modify index.html to use min files</span>
	<span class="add">+		# TODO Modify index.html to use min files</span>
	<span class="nrm">	]</span>
	<span class="nrm"></span>
	<span class="nrm">grunt.registerTask &quot;default&quot;, &quot;Prepare the full project for deployment, including running all tests.&quot;, [</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Procfile b/Procfile</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1 @@</span>
	<span class="add">+web: npm start</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -4,8 +4,9 @@</span>
	<span class="nrm">&quot;description&quot;: &quot;AngularJS application, written in a BDD/TDD style.&quot;,</span>
	<span class="nrm">&quot;main&quot;: &quot;index.js&quot;,</span>
	<span class="nrm">&quot;scripts&quot;: {</span>
	<span class="add">+    &quot;postinstall&quot;: &quot;./node_modules/bower/bin/bower install&quot;,</span>
	<span class="nrm"> &quot;test&quot;: &quot;grunt test&quot;,</span>
	<span class="rem">-    &quot;serve&quot;: &quot;coffee -e \&quot;require('./src/server/server').serve()\&quot;&quot;</span>
	<span class="add">+    &quot;start&quot;: &quot;coffee -e \&quot;require('./src/server/server').serve()\&quot;&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	<span class="nfo">@@ -30,10 +31,15 @@</span>
	<span class="nrm"> &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="rem">-    &quot;marked&quot;: &quot;~0.2.9&quot;,</span>
	<span class="rem">-    &quot;nconf&quot;: &quot;~0.6.7&quot;</span>
	<span class="add">+    &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="rem">-    &quot;express&quot;: &quot;~3.3.5&quot;</span>
	<span class="add">+    &quot;express&quot;: &quot;~3.3.5&quot;,</span>
	<span class="add">+    &quot;bower&quot;: &quot;~1.2.5&quot;,</span>
	<span class="add">+    &quot;nconf&quot;: &quot;~0.6.7&quot;</span>
	<span class="add">+  },</span>
	<span class="add">+  &quot;engines&quot;: {</span>
	<span class="add">+    &quot;node&quot;: &quot;0.10.x&quot;,</span>
	<span class="add">+    &quot;npm&quot;: &quot;1.2.x&quot;</span>
	}
	}

	</pre>

<div class="commit">
	<h3><span class="hash">cb45d32</span>  Configured better for Heroku</h3>
	<!--
	<pre>
	<span class="nrm">Procfile                    | 2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">package.json                | 5 </span><span class="add">+++</span><span class="rem">--</span>
	<span class="nrm">src/server/server.coffee    | 4 </span><span class="add">++</span><span class="rem">--</span>
	<span class="nrm">src/server/test/port.coffee | 4 </span><span class="add">++</span><span class="rem">--</span>
	<span class="nrm">start.js                    | 2 </span><span class="add">++</span>
	<span class="nrm">5 files changed, 10 insertions(+), 7 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Procfile b/Procfile</span>
	<span class="nfo">@@ -1 +1 @@</span>
	<span class="rem">-web: npm start</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+web: node start.js</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -6,7 +6,7 @@</span>
	<span class="nrm">&quot;scripts&quot;: {</span>
	<span class="nrm"> &quot;postinstall&quot;: &quot;./node_modules/bower/bin/bower install&quot;,</span>
	<span class="nrm"> &quot;test&quot;: &quot;grunt test&quot;,</span>
	<span class="rem">-    &quot;start&quot;: &quot;coffee -e \&quot;require('./src/server/server').serve()\&quot;&quot;</span>
	<span class="add">+    &quot;start&quot;: &quot;node start.js&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	<span class="nfo">@@ -36,7 +36,8 @@</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;,</span>
	<span class="nrm"> &quot;bower&quot;: &quot;~1.2.5&quot;,</span>
	<span class="rem">-    &quot;nconf&quot;: &quot;~0.6.7&quot;</span>
	<span class="add">+    &quot;nconf&quot;: &quot;~0.6.7&quot;,</span>
	<span class="add">+    &quot;coffee-script&quot;: &quot;~1.6.3&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;engines&quot;: {</span>
	<span class="nrm"> &quot;node&quot;: &quot;0.10.x&quot;,</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/server.coffee b/src/server/server.coffee</span>
	<span class="nfo">@@ -7,7 +7,7 @@</span> nconf.argv()
	<span class="nrm">	.file</span>
	<span class="nrm">		file: path.join root, 'server.json'</span>
	<span class="nrm">	.defaults</span>
	<span class="rem">-		port: 3000</span>
	<span class="add">+		PORT: 3000</span>
	<span class="nrm">
	express = require &quot;express&quot;</span>
	<span class="nrm">app =</span>
	<span class="nfo">@@ -33,7 +33,7 @@</span> app =
	<span class="nrm">module.exports = do -&gt;</span>
	<span class="nrm">	server = null</span>
	<span class="nrm">	serve: -&gt;</span>
	<span class="rem">-		port = nconf.get('port')</span>
	<span class="add">+		port = nconf.get('PORT')</span>
	<span class="nrm">		server = app.listen port</span>
	<span class="nrm">		console.log &quot;ToDo Application Server listening on port #{port}&quot;</span>
	<span class="nrm">	stop: -&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/port.coffee b/src/server/test/port.coffee</span>
	<span class="nfo">@@ -20,12 +20,12 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm"></span>
	<span class="nrm">before -&gt;</span>
	<span class="nrm">		_port = nconf.get &quot;port&quot;</span>
	<span class="rem">-		nconf.set &quot;port&quot;, 3030</span>
	<span class="add">+		nconf.set &quot;PORT&quot;, 3030</span>
	<span class="nrm">		server.serve()</span>
	<span class="nrm"></span>
	<span class="nrm">after -&gt;</span>
	<span class="nrm">		server.stop()</span>
	<span class="rem">-		nconf.set &quot;port&quot;, _port</span>
	<span class="add">+		nconf.set &quot;PORT&quot;, _port</span>
	<span class="nrm">		_port = undefined</span>
	<span class="nrm"></span>
	<span class="nrm">describe &quot;/&quot;, -&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/start.js b/start.js</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,2 @@</span>
	<span class="add">+require(&quot;coffee-script&quot;);</span>
	<span class="add">+require(&quot;./src/server/server&quot;).serve();</span>

	</pre>

<div class="commit">
	<h3><span class="hash">c684e83</span>  Updated configs across the board for Heroku.</h3>
	<!--
	<pre>
	<span class="nrm">Gruntfile.coffee                                   |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">Procfile                                           |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">bower.json                                         |  5 </span><span class="add">+</span><span class="rem">----</span>
	<span class="nrm">package.json                                       | 21 </span><span class="add">+++++++++++</span><span class="rem">----------</span>
	<span class="nrm">recurse.coffee                                     | 20 </span><span class="rem">--------------------</span>
	<span class="nrm">src/deploy/grunt/recurse.coffee                    | 22 </span><span class="add">++++++++++++++++++++++</span>
	<span class="nrm">src/deploy/install.js                              |  7 </span><span class="add">+++++++</span>
	<span class="nrm">src/deploy/start.js                                |  2 </span><span class="add">++</span>
	<span class="nrm">.../behavior/support/worlds/protractor.coffee      |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">start.js                                           |  2 </span><span class="rem">--</span>
	<span class="nrm">10 files changed, 46 insertions(+), 39 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Gruntfile.coffee b/Gruntfile.coffee</span>
	<span class="nfo">@@ -1,5 +1,5 @@</span>
	<span class="nrm">module.exports = (grunt)-&gt;</span>
	<span class="rem">-	require(&quot;./recurse&quot;)(grunt)</span>
	<span class="add">+	require(&quot;./src/deploy/grunt/recurse&quot;)(grunt, __dirname)</span>
	<span class="nrm"></span>
	<span class="nrm">[</span>
	<span class="nrm">		&quot;./src/client&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/Procfile b/Procfile</span>
	<span class="nfo">@@ -1 +1 @@</span>
	<span class="rem">-web: node start.js</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+web: node src/deploy/start.js</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/bower.json b/bower.json</span>
	<span class="nfo">@@ -11,8 +11,5 @@</span>
	<span class="nrm"> &quot;angular&quot;: &quot;~1.0.8&quot;,</span>
	<span class="nrm"> &quot;bootstrap&quot;: &quot;~3.0.0&quot;</span>
	<span class="nrm">},</span>
	<span class="rem">-  &quot;private&quot;: true,</span>
	<span class="rem">-  &quot;devDependencies&quot;: {</span>
	<span class="rem">-    &quot;bootstrap&quot;: &quot;~3.0.0&quot;</span>
	<span class="rem">-  }</span>
	<span class="add">+  &quot;private&quot;: true</span>
	}
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -4,16 +4,13 @@</span>
	<span class="nrm">&quot;description&quot;: &quot;AngularJS application, written in a BDD/TDD style.&quot;,</span>
	<span class="nrm">&quot;main&quot;: &quot;index.js&quot;,</span>
	<span class="nrm">&quot;scripts&quot;: {</span>
	<span class="rem">-    &quot;postinstall&quot;: &quot;./node_modules/bower/bin/bower install&quot;,</span>
	<span class="add">+    &quot;postinstall&quot;: &quot;node src/deploy/install.js&quot;,</span>
	<span class="nrm"> &quot;test&quot;: &quot;grunt test&quot;,</span>
	<span class="rem">-    &quot;start&quot;: &quot;node start.js&quot;</span>
	<span class="add">+    &quot;start&quot;: &quot;node src/deploy/start.js&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	<span class="nrm">&quot;devDependencies&quot;: {</span>
	<span class="rem">-    &quot;caching-coffeeify&quot;: &quot;~0.2.0&quot;,</span>
	<span class="rem">-    &quot;grunt&quot;: &quot;~0.4.1&quot;,</span>
	<span class="rem">-    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;grunt-cucumber&quot;: &quot;~0.2.1&quot;,</span>
	<span class="nrm"> &quot;grunt-mocha-test&quot;: &quot;~0.6.3&quot;,</span>
	<span class="nfo">@@ -27,17 +24,21 @@</span>
	<span class="nrm"> &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="nrm"> &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="nrm"> &quot;karma-coverage&quot;: &quot;~0.1.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="rem">-    &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="nrm"> &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="add">+    &quot;caching-coffeeify&quot;: &quot;~0.2.0&quot;,</span>
	<span class="add">+    &quot;grunt&quot;: &quot;~0.4.1&quot;,</span>
	<span class="add">+    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="nrm"> &quot;express&quot;: &quot;~3.3.5&quot;,</span>
	<span class="nrm"> &quot;bower&quot;: &quot;~1.2.5&quot;,</span>
	<span class="nrm"> &quot;nconf&quot;: &quot;~0.6.7&quot;,</span>
	<span class="rem">-    &quot;coffee-script&quot;: &quot;~1.6.3&quot;</span>
	<span class="add">+    &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="add">+    &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="add">+    &quot;coffee-script&quot;: &quot;~1.6.3&quot;,</span>
	<span class="add">+    &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;engines&quot;: {</span>
	<span class="nrm"> &quot;node&quot;: &quot;0.10.x&quot;,</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/recurse.coffee b/recurse.coffee</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,20 +0,0 @@</span>
	<span class="rem">-module.exports = (grunt)-&gt;</span>
	<span class="rem">-	grunt.grunt = (path)-&gt;</span>
	<span class="rem">-		other = require &quot;#{path}/Gruntfile&quot;</span>
	<span class="rem">-		other(grunt)</span>
	<span class="rem">-</span>
	<span class="rem">-	Object.defineProperty grunt, &quot;Config&quot;, do-&gt;</span>
	<span class="rem">-		_config = {}</span>
	<span class="rem">-		get: -&gt; _config</span>
	<span class="rem">-		set: (val)-&gt;</span>
	<span class="rem">-			for t, c of val</span>
	<span class="rem">-				_config[t] = _config[t] || {}</span>
	<span class="rem">-				for k, v of c</span>
	<span class="rem">-					_config[t][k] = v</span>
	<span class="rem">-			grunt</span>
	<span class="rem">-</span>
	<span class="rem">-	Object.defineProperty grunt, &quot;NpmTasks&quot;, do-&gt;</span>
	<span class="rem">-		_tasks = []</span>
	<span class="rem">-		get: -&gt; _tasks</span>
	<span class="rem">-		set: (val)-&gt;</span>
	<span class="rem">-			_tasks = _tasks.concat val</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/grunt/recurse.coffee b/src/deploy/grunt/recurse.coffee</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,22 @@</span>
	<span class="add">+Path = require &quot;path&quot;</span>
	<span class="add">+</span>
	<span class="add">+module.exports = (grunt, root)-&gt;</span>
	<span class="add">+	grunt.grunt = (path)-&gt;</span>
	<span class="add">+		other = require &quot;#{root}/#{path}/Gruntfile&quot;</span>
	<span class="add">+		other(grunt)</span>
	<span class="add">+</span>
	<span class="add">+	Object.defineProperty grunt, &quot;Config&quot;, do-&gt;</span>
	<span class="add">+		_config = {}</span>
	<span class="add">+		get: -&gt; _config</span>
	<span class="add">+		set: (val)-&gt;</span>
	<span class="add">+			for t, c of val</span>
	<span class="add">+				_config[t] = _config[t] || {}</span>
	<span class="add">+				for k, v of c</span>
	<span class="add">+					_config[t][k] = v</span>
	<span class="add">+			grunt</span>
	<span class="add">+</span>
	<span class="add">+	Object.defineProperty grunt, &quot;NpmTasks&quot;, do-&gt;</span>
	<span class="add">+		_tasks = []</span>
	<span class="add">+		get: -&gt; _tasks</span>
	<span class="add">+		set: (val)-&gt;</span>
	<span class="add">+			_tasks = _tasks.concat val</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/install.js b/src/deploy/install.js</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,7 @@</span>
	<span class="add">+require(&quot;bower&quot;)</span>
	<span class="add">+.commands</span>
	<span class="add">+.install()</span>
	<span class="add">+.on('end', function (installed) {</span>
	<span class="add">+	console.log(installed);</span>
	<span class="add">+	require(&quot;grunt&quot;).tasks(&quot;build&quot;);</span>
	<span class="add">+});</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/start.js b/src/deploy/start.js</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,2 @@</span>
	<span class="add">+require(&quot;coffee-script&quot;);</span>
	<span class="add">+require(&quot;../server/server&quot;).serve();</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="nfo">@@ -11,7 +11,7 @@</span> module.exports = class World
	<span class="nrm">			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="nrm">			withCapabilities(webdriver.Capabilities[browser]()).build()</span>

	<span class="rem">-		@driver.manage().timeouts().setScriptTimeout(100)</span>
	<span class="add">+		@driver.manage().timeouts().setScriptTimeout(1000)</span>
	<span class="nrm">		@ptor = Protractor.wrapDriver(@driver)</span>
	<span class="nrm"></span>
	<span class="nrm">visit: (url)-&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/start.js b/start.js</span>
	<span class="wrn">deleted file mode 100644</span>
	<span class="nfo">@@ -1,2 +0,0 @@</span>
	<span class="rem">-require(&quot;coffee-script&quot;);</span>
	<span class="rem">-require(&quot;./src/server/server&quot;).serve();</span>

	</pre>

<div class="commit">
	<h3><span class="hash">f56a1b1</span>  Basic heroku release scripts.</h3>
	<!--
	<pre>
	<span class="nrm">package.json               | 19 </span><span class="add">+++++++++</span><span class="rem">----------</span>
	<span class="nrm">src/client/todo/style.less |  3 </span><span class="add">++</span><span class="rem">-</span>
	<span class="nrm">src/deploy/install.js      |  1 </span><span class="rem">-</span>
	<span class="nrm">src/deploy/release.sh      | 34 </span><span class="add">++++++++++++++++++++++++++++++++++</span>
	<span class="nrm">4 files changed, 45 insertions(+), 12 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -11,6 +11,9 @@</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	<span class="nrm">&quot;license&quot;: &quot;MIT&quot;,</span>
	<span class="nrm">&quot;devDependencies&quot;: {</span>
	<span class="add">+    &quot;caching-coffeeify&quot;: &quot;~0.2.0&quot;,</span>
	<span class="add">+    &quot;grunt&quot;: &quot;~0.4.1&quot;,</span>
	<span class="add">+    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-watch&quot;: &quot;~0.5.2&quot;,</span>
	<span class="nrm"> &quot;grunt-cucumber&quot;: &quot;~0.2.1&quot;,</span>
	<span class="nrm"> &quot;grunt-mocha-test&quot;: &quot;~0.6.3&quot;,</span>
	<span class="nfo">@@ -24,22 +27,18 @@</span>
	<span class="nrm"> &quot;grunt-karma&quot;: &quot;~0.6.2&quot;,</span>
	<span class="nrm"> &quot;phantomjs&quot;: &quot;~1.9.1-8&quot;,</span>
	<span class="nrm"> &quot;karma-coverage&quot;: &quot;~0.1.0&quot;,</span>
	<span class="rem">-    &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="rem">-  },</span>
	<span class="rem">-  &quot;dependencies&quot;: {</span>
	<span class="rem">-    &quot;caching-coffeeify&quot;: &quot;~0.2.0&quot;,</span>
	<span class="rem">-    &quot;grunt&quot;: &quot;~0.4.1&quot;,</span>
	<span class="rem">-    &quot;grunt-browserify&quot;: &quot;~1.2.4&quot;,</span>
	<span class="rem">-    &quot;express&quot;: &quot;~3.3.5&quot;,</span>
	<span class="rem">-    &quot;bower&quot;: &quot;~1.2.5&quot;,</span>
	<span class="rem">-    &quot;nconf&quot;: &quot;~0.6.7&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-jade&quot;: &quot;~0.8.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-less&quot;: &quot;~0.7.0&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-cssmin&quot;: &quot;~0.6.1&quot;,</span>
	<span class="nrm"> &quot;grunt-contrib-uglify&quot;: &quot;~0.2.2&quot;,</span>
	<span class="rem">-    &quot;coffee-script&quot;: &quot;~1.6.3&quot;,</span>
	<span class="nrm"> &quot;marked&quot;: &quot;~0.2.9&quot;</span>
	<span class="nrm">},</span>
	<span class="add">+  &quot;dependencies&quot;: {</span>
	<span class="add">+    &quot;coffee-script&quot;: &quot;~1.6.3&quot;,</span>
	<span class="add">+    &quot;express&quot;: &quot;~3.3.5&quot;,</span>
	<span class="add">+    &quot;bower&quot;: &quot;~1.2.5&quot;,</span>
	<span class="add">+    &quot;nconf&quot;: &quot;~0.6.7&quot;</span>
	<span class="add">+  },</span>
	<span class="nrm">&quot;engines&quot;: {</span>
	<span class="nrm"> &quot;node&quot;: &quot;0.10.x&quot;,</span>
	<span class="nrm"> &quot;npm&quot;: &quot;1.2.x&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/style.less b/src/client/todo/style.less</span>
	<span class="nfo">@@ -8,11 +8,12 @@</span>
	<span class="nrm">.remove {</span>
	<span class="nrm">	margin-top: 2px;</span>
	<span class="nrm">	opacity: 0;</span>
	<span class="rem">-	transition: all 0.3s;</span>
	<span class="add">+	transition: all 0.3s 0.2s;</span>
	}
	<span class="nrm">
	.todo:hover {</span>
	<span class="nrm">	.remove {</span>
	<span class="nrm">		opacity: 1;</span>
	<span class="add">+		transition: all 0.1s 0;</span>
	<span class="nrm">	}</span>
	}
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/install.js b/src/deploy/install.js</span>
	<span class="nfo">@@ -3,5 +3,4 @@</span> require(&quot;bower&quot;)
	<span class="nrm">.install()</span>
	<span class="nrm">.on('end', function (installed) {</span>
	<span class="nrm">	console.log(installed);</span>
	<span class="rem">-	require(&quot;grunt&quot;).tasks(&quot;build&quot;);</span>
	<span class="nrm">});</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/release.sh b/src/deploy/release.sh</span>
	<span class="wrn">new file mode 100755</span>
	<span class="nfo">@@ -0,0 +1,34 @@</span>
	<span class="add">+#/bin/sh</span>
	<span class="add">+</span>
	<span class="add">+function fin(){</span>
	<span class="add">+	echo &quot;Cleaning up&quot;</span>
	<span class="add">+	git co develop</span>
	<span class="add">+	git stash pop</span>
	<span class="add">+</span><span class="reverse"><span class="hash">	</span>
	<span class="add">+	# Fix bower</span>
	<span class="add">+	rm -rf bower_components</span>
	<span class="add">+	bower install</span>
	<span class="add">+}</span>
	<span class="add">+</span>
	<span class="add">+git stash</span>
	<span class="add">+git co master</span>
	<span class="add">+git reset --hard develop</span>
	<span class="add">+</span>
	<span class="add">+if grunt base</span>
	<span class="add">+then</span>
	<span class="add">+	echo &quot;Cutting release and pushing to heroku.&quot;</span>
	<span class="add">+	echo -n</span>
	<span class="add">+else</span>
	<span class="add">+	echo &quot;Cowardly not pushing with failing base build.&quot;</span>
	<span class="add">+	fin</span>
	<span class="add">+	exit 1</span>
	<span class="add">+fi</span>
	<span class="add">+</span>
	<span class="add">+git add --force build</span>
	<span class="add">+git add --force bower_components/angular/angular.js</span>
	<span class="add">+git add --force bower_components/bootstrap/fonts</span>
	<span class="add">+</span>
	<span class="add">+git commit -m 'Release'</span>
	<span class="add">+git push -f heroku master</span>
	<span class="add">+</span>
	<span class="add">+fin</span>

	</pre>

<div class="commit">
	<h3><span class="hash">4b587ae</span>  Added sexier animations.</h3>
	<!--
	<pre>
	<span class="nrm">bower.json                    |  2 </span><span class="rem">--</span>
	<span class="nrm">src/client/Gruntfile.coffee   |  5 </span><span class="add">+++</span><span class="rem">--</span>
	<span class="nrm">src/client/index.jade         |  6 </span><span class="add">++++</span><span class="rem">--</span>
	<span class="nrm">src/client/lib/mixins.less    | 13 </span><span class="add">+++++++++++++</span>
	<span class="nrm">src/client/page.less          |  4 </span><span class="add">++</span><span class="rem">--</span>
	<span class="nrm">src/client/todo/module.coffee | 12 </span><span class="add">++++++</span><span class="rem">------</span>
	<span class="nrm">src/client/todo/style.less    | 39 </span><span class="add">+++++++++++++++++++++++++++++++</span><span class="rem">--------</span>
	<span class="nrm">src/client/todo/template.jade |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/server/test/serves.coffee |  6 </span><span class="rem">------</span>
	<span class="nrm">9 files changed, 60 insertions(+), 29 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/bower.json b/bower.json</span>
	<span class="nfo">@@ -7,8 +7,6 @@</span>
	<span class="nrm"> &quot;bower_components&quot;</span>
	<span class="nrm">],</span>
	<span class="nrm">&quot;dependencies&quot;: {</span>
	<span class="rem">-    &quot;angular-mocks&quot;: &quot;~1.0.8&quot;,</span>
	<span class="rem">-    &quot;angular&quot;: &quot;~1.0.8&quot;,</span>
	<span class="nrm"> &quot;bootstrap&quot;: &quot;~3.0.0&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;private&quot;: true</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/Gruntfile.coffee b/src/client/Gruntfile.coffee</span>
	<span class="nfo">@@ -35,8 +35,9 @@</span> module.exports = (grunt)-&gt;
	<span class="nrm">					]</span>
	<span class="nrm">					singleRun: true</span>
	<span class="nrm">					files: [</span>
	<span class="rem">-						&quot;bower_components/angular/angular.js&quot;</span>
	<span class="rem">-						&quot;bower_components/angular-mocks/angular-mocks.js&quot;</span>
	<span class="add">+						&quot;http://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular.min.js&quot;</span>
	<span class="add">+						&quot;http://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-animate.js&quot;</span>
	<span class="add">+						&quot;http://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-mocks.js&quot;</span>
	<span class="nrm">						&quot;build/bundle.js&quot;</span>
	<span class="nrm">						&quot;src/client/**/unit.coffee&quot;</span>
	<span class="nrm">					]</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/index.jade b/src/client/index.jade</span>
	<span class="nfo">@@ -4,11 +4,13 @@</span> html
	<span class="nrm">		title To Do - Angular JS</span>
	<span class="nrm">		meta(name=&quot;viewport&quot;, content=&quot;width=device-width, initial-scale=1.0&quot;)</span>
	<span class="nrm">		link(rel=&quot;stylesheet&quot;, href=&quot;page.css&quot;, media=&quot;screen&quot;)</span>
	<span class="rem">-		script(src='bower/angular/angular.js')</span>
	<span class="add">+		//- script(src='bower/angular/angular.js')</span>
	<span class="add">+		script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular.js')</span>
	<span class="add">+		script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-animate.js')</span>
	<span class="nrm">		script(src='bundle.js')</span>
	<span class="nrm">	body(ng:app='todo')</span>
	<span class="nrm">		.container</span>
	<span class="rem">-			.jumbotron</span>
	<span class="add">+			.jumbotron.well</span>
	<span class="nrm">				include todo/template</span>
	<span class="nrm">			footer</span>
	<span class="nrm">				:markdown</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/lib/mixins.less b/src/client/lib/mixins.less</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,13 @@</span>
	<span class="add">+.transition (@transition) {</span>
	<span class="add">+	-webkit-transition: @transition;</span><span class="reverse"><span class="hash">  </span>
	<span class="add">+	-moz-transition:    @transition;</span>
	<span class="add">+	-ms-transition:     @transition;</span><span class="reverse"><span class="hash"> </span>
	<span class="add">+	-o-transition:      @transition;</span><span class="reverse"><span class="hash">  </span>
	<span class="add">+}</span>
	<span class="add">+</span>
	<span class="add">+.rotate (@deg) {</span>
	<span class="add">+	-webkit-transform: rotate(@deg);</span>
	<span class="add">+	-moz-transform: 	 rotate(@deg);</span>
	<span class="add">+	-ms-transform: 		 rotate(@deg);</span>
	<span class="add">+	-o-transform: 		 rotate(@deg);</span>
	<span class="add">+}</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/page.less b/src/client/page.less</span>
	<span class="nfo">@@ -1,3 +1,3 @@</span>
	<span class="nrm">@import &quot;bootstrap.less&quot;;</span>
	<span class="rem">-</span>
	<span class="rem">-@import &quot;./todo/style.less&quot;;</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+@import &quot;./lib/mixins.less&quot;;</span>
	<span class="add">+@import &quot;./todo/style.less&quot;;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/module.coffee b/src/client/todo/module.coffee</span>
	<span class="nfo">@@ -1,18 +1,18 @@</span>
	<span class="rem">-module.exports = todo = angular.module &quot;todo&quot;, []</span>
	<span class="add">+module.exports = todo = angular.module &quot;todo&quot;, ['ngAnimate']</span>
	<span class="nrm">
	todo.service &quot;storage&quot;, -&gt;</span>
	<span class="nrm">	get: -&gt; JSON.parse window.localStorage[&quot;TDD-ToDos&quot;] || '[]'</span>
	<span class="rem">-	put: (TDs)-&gt; window.localStorage[&quot;TDD-ToDos&quot;] = JSON.stringify TDs</span>
	<span class="add">+	put: (TDs)-&gt; window.localStorage[&quot;TDD-ToDos&quot;] = JSON.stringify TDs || []</span>
	<span class="nrm">
	todo.controller &quot;todo&quot;, ($scope, storage)-&gt;</span>
	<span class="rem">-	todos = $scope.todos = storage.get()</span>
	<span class="add">+	$scope.todos = storage.get()</span>
	<span class="nrm">	save = (newV, oldV) -&gt;</span>
	<span class="rem">-		storage.put todos</span>
	<span class="add">+		storage.put $scope.todos</span>
	<span class="nrm">	$scope.$watch 'todos', save, true</span>
	<span class="nrm">	Todos = $scope.Todos =</span>
	<span class="nrm">		current: &quot;&quot;</span>
	<span class="nrm">		add: -&gt;</span>
	<span class="rem">-			todos.push Todos.current</span>
	<span class="add">+			$scope.todos.push Todos.current</span>
	<span class="nrm">			Todos.current = &quot;&quot;</span>
	<span class="nrm">		remove: (todo)-&gt;</span>
	<span class="rem">-			todos.splice todos.indexOf(todo), 1</span>
	<span class="add">+			$scope.todos.splice $scope.todos.indexOf(todo), 1</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/style.less b/src/client/todo/style.less</span>
	<span class="nfo">@@ -5,15 +5,38 @@</span>
	<span class="nrm"> width: 100%;</span>
	}

	<span class="rem">-.remove {</span>
	<span class="rem">-	margin-top: 2px;</span>
	<span class="rem">-	opacity: 0;</span>
	<span class="rem">-	transition: all 0.3s 0.2s;</span>
	<span class="rem">-}</span>
	<span class="rem">-</span>
	<span class="rem">-.todo:hover {</span>
	<span class="add">+.todo {</span>
	<span class="nrm">	.remove {</span>
	<span class="add">+		margin-top: 2px;</span>
	<span class="add">+		opacity: 0;</span>
	<span class="add">+		.transition(all 0.1s ease 0s);</span>
	<span class="add">+	}</span>
	<span class="add">+	&amp;:hover {</span>
	<span class="add">+		.remove {</span>
	<span class="add">+			opacity: 1;</span>
	<span class="add">+			.transition(all 0.3s ease 0.2s);</span>
	<span class="add">+		}</span>
	<span class="add">+	}</span>
	<span class="add">+</span>
	<span class="add">+	// Enter and exit animations</span>
	<span class="add">+	// Smooth fade in from slight angle</span>
	<span class="add">+	&amp;.ng-enter { .transition(all 0.5s ease); }</span>
	<span class="add">+	&amp;.ng-leave { .transition(all 0.2s ease); }</span>
	<span class="add">+	&amp;.ng-leave {</span>
	<span class="add">+		.remove {</span>
	<span class="add">+			display: none;</span>
	<span class="add">+		}</span>
	<span class="add">+	}</span>
	<span class="add">+</span>
	<span class="add">+	&amp;.ng-enter,</span>
	<span class="add">+	&amp;.ng-leave.ng-leave-active {</span>
	<span class="add">+		opacity: 0;</span>
	<span class="add">+		.rotate(6deg);</span>
	<span class="add">+	}</span>
	<span class="add">+</span>
	<span class="add">+	&amp;.ng-enter.ng-enter-active,</span>
	<span class="add">+	&amp;.ng-leave {</span>
	<span class="nrm">		opacity: 1;</span>
	<span class="rem">-		transition: all 0.1s 0;</span>
	<span class="add">+		.rotate(0);</span>
	<span class="nrm">	}</span>
	}
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/client/todo/template.jade b/src/client/todo/template.jade</span>
	<span class="nfo">@@ -8,4 +8,4 @@</span> section.row(ng:controller='todo')
	<span class="nrm">			li.todo(ng:repeat='todo in todos')</span>
	<span class="nrm">				| {{todo}}</span>
	<span class="nrm">				button.remove.btn.btn-default.btn-sm.pull-right(ng:click=&quot;Todos.remove(todo)&quot;)</span>
	<span class="rem">-					span.glyphicon.glyphicon-ok</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+					span.glyphicon.glyphicon-ok</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/test/serves.coffee b/src/server/test/serves.coffee</span>
	<span class="nfo">@@ -86,12 +86,6 @@</span> describe &quot;Server&quot;, -&gt;
	<span class="nrm">			styles done, (e, res)-&gt;</span>
	<span class="nrm">				res.headers[&quot;content-type&quot;].should.equal &quot;text/css&quot;</span>

	<span class="rem">-	describe &quot;bower&quot;, -&gt;</span>
	<span class="rem">-		it &quot;serves Bower resources&quot;, (done)-&gt;</span>
	<span class="rem">-			request &quot;http://localhost:3000/bower/angular/angular.js&quot;, (e, res)-&gt;</span>
	<span class="rem">-				res.statusCode.should.equal 200</span>
	<span class="rem">-				done()</span>
	<span class="rem">-</span>
	<span class="nrm">	describe &quot;fonts&quot;, -&gt;</span>
	<span class="nrm">		it &quot;serves fonts from bootstrap&quot;, (done)-&gt;</span>
	<span class="nrm">			request &quot;http://localhost:3000/fonts/glyphicons-halflings-regular.woff&quot;, (e, res)-&gt;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">715893a</span>  Feature tests run against heroku.</h3>
	<!--
	<pre>
	<span class="nrm">src/deploy/release.sh                              |  7 </span><span class="add">+++</span>
	<span class="nrm">src/features/Gruntfile.coffee                      | 69 </span><span class="add">++++++++++++++++++++</span><span class="rem">--</span>
	<span class="nrm">src/features/behavior/steps/browsing.coffee        | 11 </span><span class="add">++</span><span class="rem">--</span>
	<span class="nrm">.../behavior/support/worlds/protractor.coffee      |  2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/server/Gruntfile.coffee                        | 62 </span><span class="add">++</span><span class="rem">-----------------</span>
	<span class="nrm">5 files changed, 84 insertions(+), 67 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/release.sh b/src/deploy/release.sh</span>
	<span class="nfo">@@ -29,6 +29,13 @@</span> git add --force bower_components/angular/angular.js
	<span class="nrm">git add --force bower_components/bootstrap/fonts</span>
	<span class="nrm">
	git commit -m 'Release'</span>
	<span class="add">+</span>
	<span class="add">+echo &quot;Files in release:&quot;</span>
	<span class="add">+git ls-files</span>
	<span class="add">+</span>
	<span class="nrm">git push -f heroku master</span>

	<span class="add">+# Test against heroku</span>
	<span class="add">+SERVER=$(heroku apps:info | grep 'Web URL' | awk '{print $3}') grunt features</span>
	<span class="add">+</span>
	<span class="nrm">fin</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/Gruntfile.coffee b/src/features/Gruntfile.coffee</span>
	<span class="nfo">@@ -1,9 +1,68 @@</span>
	<span class="nrm">module.exports = (grunt)-&gt;</span>
	<span class="nrm">	grunt.Config =</span>
	<span class="rem">-		mochaTest:</span>
	<span class="rem">-			server:</span>
	<span class="add">+		shell:</span>
	<span class="add">+			kill:</span>
	<span class="add">+				command: [</span>
	<span class="add">+					&quot;ps | grep node | awk '{print $1}' | xargs -I{} kill {} &gt;/dev/null&quot;</span>
	<span class="add">+					&quot;ps | grep java | awk '{print $1}' | xargs -I{} kill {} &gt;/dev/null&quot;</span>
	<span class="add">+					&quot;exit 0&quot;</span>
	<span class="add">+				].join &quot; ; &quot;</span>
	<span class="add">+			install:</span>
	<span class="add">+				command: &quot;[ -f ./selenium/selenium-server-standalone-2.34.0.jar ] || ./node_modules/protractor/bin/install_selenium_standalone&quot;</span>
	<span class="add">+			serve:</span>
	<span class="add">+				command: &quot;npm start ; exit 0&quot;</span>
	<span class="nrm">				options:</span>
	<span class="rem">-					reporter: 'spec'</span>
	<span class="rem">-				src: [&quot;src/server/test/*coffee&quot;]</span>
	<span class="add">+					async: true</span>
	<span class="add">+					kill: true</span>
	<span class="add">+			selenium:</span>
	<span class="add">+				command: [</span>
	<span class="add">+					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="add">+					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="add">+					&quot;&gt;/dev/null&quot;</span>
	<span class="add">+				].join ' '</span>
	<span class="add">+				options:</span>
	<span class="add">+					async: true</span>
	<span class="add">+					kill: true</span>
	<span class="add">+			sleep:</span>
	<span class="add">+				command:</span>
	<span class="add">+					&quot;sleep 1&quot;</span>
	<span class="add">+</span>
	<span class="add">+		cucumberjs:</span>
	<span class="add">+			all:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+				options:</span>
	<span class="add">+					tags: '~@broken'</span>
	<span class="add">+					format: 'pretty'</span>
	<span class="add">+			current:</span>
	<span class="add">+				files:</span>
	<span class="add">+					src: ['src/features/behavior/users/*']</span>
	<span class="add">+				options:</span>
	<span class="add">+					tags: '@current'</span>
	<span class="add">+</span>
	<span class="add">+			options:</span>
	<span class="add">+				steps: 'src/features/behavior/steps'</span>
	<span class="add">+</span>
	<span class="add">+	grunt.NpmTasks = [</span>
	<span class="add">+		&quot;grunt-cucumber&quot;</span>
	<span class="add">+		&quot;grunt-shell-spawn&quot;</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;features&quot;, &quot;Run all feature behaviors, except those tagged @broken.&quot;, [</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:all&quot;</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="add">+		&quot;shell:kill&quot;</span>
	<span class="add">+	]</span>
	<span class="add">+</span>
	<span class="add">+	grunt.registerTask &quot;feature&quot;, &quot;Runs feature behaviors tagged @current.&quot;, [</span>
	<span class="add">+		&quot;shell:install&quot;</span>
	<span class="add">+		&quot;shell:selenium&quot;</span>
	<span class="add">+		&quot;shell:sleep&quot;</span>
	<span class="add">+		&quot;cucumberjs:current&quot;</span>
	<span class="add">+		&quot;shell:selenium:kill&quot;</span>
	<span class="add">+		&quot;shell:kill&quot;</span>
	<span class="add">+	]</span>

	<span class="rem">-	grunt.NpmTasks.push &quot;grunt-mocha-test&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/steps/browsing.coffee b/src/features/behavior/steps/browsing.coffee</span>
	<span class="nfo">@@ -1,26 +1,29 @@</span>
	<span class="nrm">Q = require 'q'</span>
	<span class="nrm">should = require &quot;should&quot;</span>
	<span class="add">+</span>
	<span class="add">+server = process.env.SERVER || &quot;http://localhost:3000/&quot;</span>
	<span class="add">+</span>
	<span class="nrm">module.exports = -&gt;</span>
	<span class="nrm">	@Given /has (?:his|her|a) browser open$/, (done)-&gt;</span>
	<span class="nrm">		done()</span>
	<span class="nrm"></span>
	<span class="nrm">@Given /has entered a &quot;([^&quot;]*)&quot; item/, (value, done)-&gt;</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		@world.visit(server)</span>
	<span class="nrm">		.then(=&gt;@world.fill(value, value, true))</span>
	<span class="nrm">		.then(=&gt;done())</span>
	<span class="nrm">		.catch(done)</span>
	<span class="nrm"></span>
	<span class="nrm">@Given /(?:on|goes to|visits) the (?:site|landing page)(?: directly)?/, (done)-&gt;</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		@world.visit(server)</span>
	<span class="nrm">		.then(done)</span>
	<span class="nrm"></span>
	<span class="nrm">@When /goes to the &quot;([^&quot;]*)&quot; url/, (url, done)-&gt;</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		@world.visit(server)</span>
	<span class="nrm">		.then(done)</span>
	<span class="nrm"></span>
	<span class="nrm">@Given /leaves the page/, (done)-&gt;</span>
	<span class="nrm">		# @world.reload()</span>
	<span class="rem">-		@world.visit(&quot;http://localhost:3000/&quot;)</span>
	<span class="add">+		@world.visit(server)</span>
	<span class="nrm">		.then -&gt;done()</span>
	<span class="nrm"></span>
	<span class="nrm">@When /enters &quot;([^&quot;]+)&quot; into (?:the|a) &quot;([^&quot;]+)&quot; (?:box|input|field)/, (value, field, done)-&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/features/behavior/support/worlds/protractor.coffee b/src/features/behavior/support/worlds/protractor.coffee</span>
	<span class="nfo">@@ -11,7 +11,7 @@</span> module.exports = class World
	<span class="nrm">			usingServer('http://localhost:4444/wd/hub').</span>
	<span class="nrm">			withCapabilities(webdriver.Capabilities[browser]()).build()</span>

	<span class="rem">-		@driver.manage().timeouts().setScriptTimeout(1000)</span>
	<span class="add">+		@driver.manage().timeouts().setScriptTimeout(10000)</span>
	<span class="nrm">		@ptor = Protractor.wrapDriver(@driver)</span>
	<span class="nrm"></span>
	<span class="nrm">visit: (url)-&gt;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/server/Gruntfile.coffee b/src/server/Gruntfile.coffee</span>
	<span class="nfo">@@ -1,61 +1,9 @@</span>
	<span class="nrm">module.exports = (grunt)-&gt;</span>
	<span class="nrm">	grunt.Config =</span>
	<span class="rem">-		shell:</span>
	<span class="rem">-			kill:</span>
	<span class="rem">-				command: &quot;lsof -i TCP -P | grep 4444 | awk '{print $2}' | xargs -I{} kill {} &gt;/dev/null  || exit 0&quot;</span>
	<span class="rem">-			install:</span>
	<span class="rem">-				command: &quot;[ -f ./selenium/selenium-server-standalone-2.34.0.jar ] || ./node_modules/protractor/bin/install_selenium_standalone&quot;</span>
	<span class="rem">-			selenium:</span>
	<span class="rem">-				command: [</span>
	<span class="rem">-					&quot;java -jar ./selenium/selenium-server-standalone-2.34.0.jar&quot;</span>
	<span class="rem">-					&quot;-Dwebdriver.chrome.driver=./selenium/chromedriver&quot;</span>
	<span class="rem">-					&quot;&gt;/dev/null&quot;</span>
	<span class="rem">-				].join ' '</span>
	<span class="add">+		mochaTest:</span>
	<span class="add">+			server:</span>
	<span class="nrm">				options:</span>
	<span class="rem">-					async: true</span>
	<span class="rem">-					kill: true</span>
	<span class="rem">-			sleep:</span>
	<span class="rem">-				command:</span>
	<span class="rem">-					&quot;sleep 1&quot;</span>
	<span class="add">+					reporter: 'spec'</span>
	<span class="add">+				src: [&quot;src/server/test/*coffee&quot;]</span>

	<span class="rem">-		cucumberjs:</span>
	<span class="rem">-			all:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					src: ['src/features/behavior/users/*']</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					tags: '~@broken'</span>
	<span class="rem">-			current:</span>
	<span class="rem">-				files:</span>
	<span class="rem">-					src: ['src/features/behavior/users/*']</span>
	<span class="rem">-				options:</span>
	<span class="rem">-					tags: '@current'</span>
	<span class="rem">-</span>
	<span class="rem">-			options:</span>
	<span class="rem">-				steps: 'src/features/behavior/steps'</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.NpmTasks = [</span>
	<span class="rem">-		&quot;grunt-cucumber&quot;</span>
	<span class="rem">-		&quot;grunt-shell-spawn&quot;</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.registerTask &quot;features&quot;, &quot;Run all feature behaviors, except those tagged @broken.&quot;, [</span>
	<span class="rem">-		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="rem">-		&quot;shell:install&quot;</span>
	<span class="rem">-		&quot;shell:selenium&quot;</span>
	<span class="rem">-		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:all&quot;</span>
	<span class="rem">-		&quot;shell:selenium:kill&quot;</span>
	<span class="rem">-		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="rem">-	]</span>
	<span class="rem">-</span>
	<span class="rem">-	grunt.registerTask &quot;feature&quot;, &quot;Runs feature behaviors tagged @current.&quot;, [</span>
	<span class="rem">-		&quot;shell:kill&quot; # Clean up any old selenium servers, or other programs who may be hogging 4444</span>
	<span class="rem">-		&quot;shell:install&quot;</span>
	<span class="rem">-		&quot;shell:selenium&quot;</span>
	<span class="rem">-		# Start the application server</span>
	<span class="rem">-		&quot;shell:sleep&quot;</span>
	<span class="rem">-		&quot;cucumberjs:current&quot;</span>
	<span class="rem">-		# Stop the application server</span>
	<span class="rem">-		&quot;shell:selenium:kill&quot;</span>
	<span class="rem">-		&quot;shell:kill&quot; # Also has the effect of killing driven browsers.</span>
	<span class="rem">-	]</span>
	<span class="add">+	grunt.NpmTasks.push &quot;grunt-mocha-test&quot;</span>

	</pre>

<div class="commit">
	<h3><span class="hash">03cb011</span>  Added readme!</h3>
	<!--
	<pre>
	<span class="nrm">README.md | 141 </span><span class="add">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
	<span class="nrm">1 file changed, 141 insertions(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/README.md b/README.md</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,141 @@</span>
	<span class="add">+## BDD / TDD Angular</span>
	<span class="add">+</span>
	<span class="add">+[Obey the Testing Goat!](3)</span>
	<span class="add">+</span>
	<span class="add">+[Fear the Refactoing Cat!](20)</span>
	<span class="add">+</span>
	<span class="add">+### [Why?](1) (for a NodeJS stack)</span>
	<span class="add">+</span>
	<span class="add">+As a node developer, I want a rock-solid continuous deployment infrastructure so that I can return to my projects later and continue adding new features without accidentaly breaking code I wrote years ago.</span>
	<span class="add">+</span>
	<span class="add">+As a technologist, I want to play with bleeding edge technologies so that I can squeeze the most out of their potential.</span>
	<span class="add">+</span>
	<span class="add">+### What (Technologies)</span>
	<span class="add">+</span>
	<span class="add">+The entire stack is Javascript, with one deploy script in bash that really should be rewritten to JS. The JSis written in Coffeescript where possible, which is pretty much everywhere.</span>
	<span class="add">+</span>
	<span class="add">+* Engine: [Node.js](2), [NPM](19)</span>
	<span class="add">+* Build: [Grunt](4)</span>
	<span class="add">+* Behaviors: [Cucumber.js](5), [Selenium Webdriver JS](6), [Protractor](7)</span>
	<span class="add">+* Server: [Express](8), [Mocha](9)</span>
	<span class="add">+* Client: [AngularJS](10), [Browserify](22), [Karma](11), [Jasmine](12)</span>
	<span class="add">+* Languages / Frameworks: [Coffeescript](15), [Jade](16), [Bootstrap](17), [Less](18)</span>
	<span class="add">+* Continuous Integration: [Travis CI](13)</span>
	<span class="add">+* Hosting: [Github](21), [Heroku](14)</span>
	<span class="add">+</span>
	<span class="add">+### How (does the process work?)</span>
	<span class="add">+</span>
	<span class="add">+![TDD Process with functional tests driving unit tests driving implementation. Credit Harry Percival / Test-Driven Web Development with Python][tdd]</span>
	<span class="add">+</span>
	<span class="add">+### Where (is the code?)</span>
	<span class="add">+</span>
	<span class="add">+#### Source files</span>
	<span class="add">+</span>
	<span class="add">+```sh</span>
	<span class="add">+.</span>
	<span class="add">+|-- .travis.yml</span>
	<span class="add">+|-- bower.json</span>
	<span class="add">+|-- package.json</span>
	<span class="add">+|-- Gruntfile.coffee # Root Gruntfile. Defines cross-cutting watchers, and includes component Grunts.</span>
	<span class="add">+|-- Procfile	     # Heroku configs</span>
	<span class="add">+|-- README.md	     # This file!</span>
	<span class="add">+`-- src</span>
	<span class="add">+    |-- client 	1 Files that will be compiled and sent to the browser</span>
	<span class="add">+    |   |-- Gruntfile.coffee # Build steps and angular unit test runners</span>
	<span class="add">+    |   |-- index.jade 	     # Root HTML template</span>
	<span class="add">+    |   |-- lib              # Internal library code, mostly cross-cutting helpers.</span>
	<span class="add">+    |   |   `-- mixins.less    # Library of helpful less mixins</span>
	<span class="add">+    |   |-- main.coffee      # Requires the various components. Entry file for browserify.</span>
	<span class="add">+    |   |-- page.less        # Page-wide styling.</span><span class="reverse"><span class="hash"> </span>
	<span class="add">+    |   `-- todo             # Todo module.</span>
	<span class="add">+    |       |-- module.coffee  # Module definition and controller</span>
	<span class="add">+    |       |-- style.less</span>
	<span class="add">+    |       |-- template.jade</span>
	<span class="add">+    |       `-- unit.coffee    # The only file referenced by Grunt. Others are required or imported.</span>
	<span class="add">+    |-- deploy   # Deployent helper scripts</span>
	<span class="add">+    |   |-- grunt</span>
	<span class="add">+    |   |   `-- recurse.coffee # Extensions to Grunt for easy recursion</span>
	<span class="add">+    |   |-- release.sh  # Builds &amp; tests. On successful test, commits built files to master and deploys.</span>
	<span class="add">+    |   `-- start.js    # JS bootstrap to require coffee.</span>
	<span class="add">+    |-- features</span>
	<span class="add">+    |   |-- behavior</span>
	<span class="add">+    |   |   |-- steps	1 Implementations of behavior steps.</span>
	<span class="add">+    |   |   |   |-- browsing.coffee  # Browser-general (&quot;browse to base, enter into text field&quot;)</span>
	<span class="add">+    |   |   |   |-- buildmore.coffee # Sentinal reminder to build more features!</span>
	<span class="add">+    |   |   |   |-- stylistic.coffee # Stylistic steps ()</span>
	<span class="add">+    |   |   |   |-- todo.coffee      # Application-specific steps (&quot;remove item&quot;)</span>
	<span class="add">+    |   |   |   `-- world.coffee     # Before/After wrapper to include correct world</span>
	<span class="add">+    |   |   |-- support</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">different world definitions.</span>
	<span class="add">+    |   |   |   |   |-- protractor.coffee</span>
	<span class="add">+    |   |   |   |   `-- zombie.coffee # Has problems with Angular. I'd like to use it, but protractor works for now.</span>
	<span class="add">+    |   |   |   `-- worlds.coffee</span>
	<span class="add">+    |   |   `-- users   # Scenarios for each of the categorical users.</span>
	<span class="add">+    |   |       |-- edith</span>
	<span class="add">+    |   |       |   `-- Edith.feature</span>
	<span class="add">+    |   |       `-- jason</span>
	<span class="add">+    |   |           `-- Jason.feature</span>
	<span class="add">+    |   `-- Gruntfile.coffee # Grunt tasks for starting selenium and running cucumber features.</span>
	<span class="add">+    `-- server  # Tiny application server, that really just serves the 4 or 5 bundle files.</span>
	<span class="add">+        |-- Gruntfile.coffee</span>
	<span class="add">+        |-- server.coffee</span>
	<span class="add">+        `-- test</span>
	<span class="add">+            |-- port.coffee</span>
	<span class="add">+            `-- serves.coffee</span>
	<span class="add">+```</span>
	<span class="add">+</span>
	<span class="add">+</span>
	<span class="add">+#### Generated files</span>
	<span class="add">+```sh</span>
	<span class="add">+.</span>
	<span class="add">+|-- bower_components  # Used</span><span class="reverse"><span class="hash"> </span>
	<span class="add">+|   |-- bootstrap</span>
	<span class="add">+|   |   |-- fonts  # Included in bundle to serve.</span>
	<span class="add">+|   |   |-- less</span>
	<span class="add">+|   |   |   |-- bootstrap.less # Less entry point</span>
	<span class="add">+|-- build # Built bundle files</span>
	<span class="add">+|   |-- bundle.js  # All javascript</span>
	<span class="add">+|   |-- bundle.min.js # (minified)</span>
	<span class="add">+|   |-- index.html # All HTML, merged into a single file.</span>
	<span class="add">+|   |-- page.css   # All CSS, including bootstrap.</span>
	<span class="add">+|   `-- page.min.css #(minified)</span>
	<span class="add">+|-- coverage # Generated code coverage reports. (Currently only for bundle.js)</span>
	<span class="add">+|-- node_modules</span>
	<span class="add">+`-- selenium # Installed Selenium server.</span>
	<span class="add">+```</span>
	<span class="add">+</span>
	<span class="add">+### [Who](23) (is this guy?)</span>
	<span class="add">+</span>
	<span class="add">+Just a lazy engineer who thinks the browser is the easiest platform to get code out on. A guy passionate about software, who loves the metaphor that programming is like drawing water from a well. If it's a shallow well and a small bucket, it's pretty easy. When it gets deeper, and a bigger bucket, it takes a lot more effort - until you have a winch.</span>
	<span class="add">+</span>
	<span class="add">+### When</span>
	<span class="add">+</span>
	<span class="add">+[MIT license](24)</span>
	<span class="add">+</span>
	<span class="add">+Copyright 2013 David Souther</span>
	<span class="add">+</span>
	<span class="add">+[1]: http://chimera.labs.oreilly.com/books/1234000000754/pr01.html1_why_i_wrote_a_book_about_test_driven_development</span>
	<span class="add">+[2]: http://nodejs.org</span>
	<span class="add">+[3]: http://obeythetestinggoat.com</span>
	<span class="add">+[4]: http://gruntjs.com/</span>
	<span class="add">+[5]: https://github.com/cucumber/cucumber-js</span>
	<span class="add">+[6]: https://npmjs.org/package/selenium-webdriver</span>
	<span class="add">+[7]: https://github.com/angular/protractor</span>
	<span class="add">+[8]: http://expressjs.com/</span>
	<span class="add">+[9]: http://visionmedia.github.io/mocha/</span>
	<span class="add">+[10]: http://angularjs.org/</span>
	<span class="add">+[11]: http://karma-runner.github.io/0.10/index.html</span>
	<span class="add">+[12]: http://pivotal.github.io/jasmine/</span>
	<span class="add">+[13]: https://travis-ci.org/</span>
	<span class="add">+[14]: https://dashboard.heroku.com/apps</span>
	<span class="add">+[15]: http://coffeescript.org/</span>
	<span class="add">+[16]: http://jade-lang.com/</span>
	<span class="add">+[17]: http://getbootstrap.com/</span>
	<span class="add">+[18]: http://lesscss.org/</span>
	<span class="add">+[19]: https://npmjs.org/</span>
	<span class="add">+[20]: http://d22zlbw5ff7yk5.cloudfront.net/images/stash-397-50c133ecb9e66.gif</span>
	<span class="add">+[21]: https://github.com/</span>
	<span class="add">+[22]: https://github.com/substack/node-browserify</span>
	<span class="add">+[23]: http://davidsouther.com/</span>
	<span class="add">+[24]: http://opensource.org/licenses/MIT</span>
	<span class="add">+[tdd]: http://orm-chimera-prod.s3.amazonaws.com/1234000000754/images/tdd_flowchart_functional_and_unit.png</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>





<div class="commit">
	<h3><span class="hash">41ed5d7</span>  Added travis config.</h3>
	<!--
	<pre>
	<span class="nrm">.travis.yml        | 7 </span><span class="add">+++++++</span>
	<span class="nrm">package.json       | 2 </span><span class="add">+</span><span class="rem">-</span>
	<span class="nrm">src/deploy/test.js | 1 </span><span class="add">+</span>
	<span class="nrm">3 files changed, 9 insertions(+), 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.travis.yml b/.travis.yml</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1,7 @@</span>
	<span class="add">+language: node_js</span>
	<span class="add">+node_js:</span>
	<span class="add">+  - &quot;0.10&quot;</span>
	<span class="add">+</span>
	<span class="add">+before_install:</span>
	<span class="add">+  - &quot;export DISPLAY=:99.0&quot;</span>
	<span class="add">+  - &quot;sh -e /etc/init.d/xvfb start&quot;</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/package.json b/package.json</span>
	<span class="nfo">@@ -5,7 +5,7 @@</span>
	<span class="nrm">&quot;main&quot;: &quot;index.js&quot;,</span>
	<span class="nrm">&quot;scripts&quot;: {</span>
	<span class="nrm"> &quot;postinstall&quot;: &quot;node src/deploy/install.js&quot;,</span>
	<span class="rem">-    &quot;test&quot;: &quot;grunt test&quot;,</span>
	<span class="add">+    &quot;test&quot;: &quot;node src/deploy/test.js&quot;,</span>
	<span class="nrm"> &quot;start&quot;: &quot;node src/deploy/start.js&quot;</span>
	<span class="nrm">},</span>
	<span class="nrm">&quot;author&quot;: &quot;David Souther&quot;,</span>
	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/src/deploy/test.js b/src/deploy/test.js</span>
	<span class="wrn">new file mode 100644</span>
	<span class="nfo">@@ -0,0 +1 @@</span>
	<span class="add">+require(&quot;grunt&quot;).tasks(&quot;base&quot;);</span>

	</pre>

<div class="commit">
	<h3><span class="hash">3b228d6</span>  Added heroku deploy config.</h3>
	<!--
	<pre>
	<span class="nrm">.travis.yml | 14 </span><span class="add">++++++++++</span><span class="rem">----</span>
	<span class="nrm">1 file changed, 10 insertions(+), 4 deletions(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/.travis.yml b/.travis.yml</span>
	<span class="nfo">@@ -1,7 +1,13 @@</span>
	<span class="nrm">language: node_js</span>
	<span class="nrm">node_js:</span>
	<span class="rem">-  - &quot;0.10&quot;</span>
	<span class="rem">-</span>
	<span class="add">+- '0.10'</span>
	<span class="nrm">before_install:</span>
	<span class="rem">-  - &quot;export DISPLAY=:99.0&quot;</span>
	<span class="rem">-  - &quot;sh -e /etc/init.d/xvfb start&quot;</span>
	<span class="add">+- export DISPLAY=:99.0</span>
	<span class="add">+- sh -e /etc/init.d/xvfb start</span>
	<span class="add">+deploy:</span>
	<span class="add">+  provider: heroku</span>
	<span class="add">+  api_key:</span>
	<span class="add">+    secure: cGrIXz0ZwnshOnasByfakIdtum9Sbef5RCRYaN2h/ovAzCyDty/+pOp6DOu/OvJrzyRs4EngO4scThLwwceT/bnzbBudWasvSQIkmcI8kILpJpwWFJ1Wn8oRM5x1euhrB7uBSDY3TvneAeZWPx/eJLm2fQpw5c1xonVyuzChBfc=</span>
	<span class="add">+  app: afternoon-savannah-7174</span>
	<span class="add">+  on:</span>
	<span class="add">+    repo: DavidSouther/tdd-angular</span>

	</pre>

<div class="commit">
	<h3><span class="hash">14425aa</span>  Added Travis banner to README.</h3>
	<!--
	<pre>
	<span class="nrm">README.md | 1 </span><span class="add">+</span>
	<span class="nrm">1 file changed, 1 insertion(+)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/README.md b/README.md</span>
	<span class="nfo">@@ -1,4 +1,5 @@</span>
	<span class="nrm">## BDD / TDD Angular</span>
	<span class="add">+[![Build Status](https://travis-ci.org/DavidSouther/tdd-angular.png)](https://travis-ci.org/DavidSouther/tdd-angular)</span>
	<span class="nrm">
	[Obey the Testing Goat!](3)</span>


	</pre>

<div class="commit">
	<h3><span class="hash">62be2a7</span>  Updated tdd flow citation.</h3>
	<!--
	<pre>
	<span class="nrm">README.md | 5 </span><span class="add">++++</span><span class="rem">-</span>
	<span class="nrm">1 file changed, 4 insertions(+), 1 deletion(-)</span>

	</pre>

	<!--
	<pre>
	<span class="wrn">diff --git a/README.md b/README.md</span>
	<span class="nfo">@@ -28,6 +28,8 @@</span> The entire stack is Javascript, with one deploy script in bash that really shoul
	<span class="nrm">
	![TDD Process with functional tests driving unit tests driving implementation. Credit Harry Percival / Test-Driven Web Development with Python][tdd]</span>

	<span class="add">+TDD Process with functional tests driving unit tests driving implementation. [Credit Harry Percival / Test-Driven Web Development with Python][tdd-cite]</span>
	<span class="add">+</span>
	<span class="nrm">### Where (is the code?)</span>
	<span class="nrm">
	#### Source files</span>
	<span class="nfo">@@ -139,4 +141,5 @@</span> Copyright 2013 David Souther
	<span class="nrm">[22]: https://github.com/substack/node-browserify</span>
	<span class="nrm">[23]: http://davidsouther.com/</span>
	<span class="nrm">[24]: http://opensource.org/licenses/MIT</span>
	<span class="rem">-[tdd]: http://orm-chimera-prod.s3.amazonaws.com/1234000000754/images/tdd_flowchart_functional_and_unit.png</span>
	<span class="nrm">\ No newline at end of file</span>
	<span class="add">+[tdd]: http://orm-chimera-prod.s3.amazonaws.com/1234000000754/images/tdd_flowchart_functional_and_unit.png</span>
	<span class="add">+[tdd-cite]: http://chimera.labs.oreilly.com/books/1234000000754/ch04.html#_recap_the_tdd_process</span>
	<span class="nrm">\ No newline at end of file</span>
	</pre>
